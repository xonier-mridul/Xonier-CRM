{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/components/ui/Portal.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ui/Portal.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/Portal.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgS,GAC7T,8DACA","ignoreList":[0]}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/components/ui/Portal.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/ui/Portal.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/Portal.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA4Q,GACzS,0CACA","ignoreList":[0]}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/app/%28dashboard%29/quotations/page.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { FaChevronDown, FaCheck } from \"react-icons/fa\";\nimport Portal from \"@/src/components/ui/Portal\";\nimport { QuotationStatus } from \"@/src/constants/enum\";\n\nconst STATUS_CONFIG = {\n  draft: { label: \"Draft\", color: \"bg-gray-600\" },\n  sent: { label: \"Sent\", color: \"bg-blue-600\" },\n  updated: { label: \"Updated\", color: \"bg-amber-500\" },\n  resend: { label: \"Resend\", color: \"bg-indigo-600\" },\n  viewed: { label: \"Viewed\", color: \"bg-purple-600\" },\n  accepted: { label: \"Accepted\", color: \"bg-green-600\" },\n  rejected: { label: \"Rejected\", color: \"bg-red-600\" },\n  expired: { label: \"Expired\", color: \"bg-orange-600\" },\n};\n\nconst AVAILABLE_STATUSES = Object.keys(STATUS_CONFIG) as QuotationStatus[];\n\ninterface Props {\n  currentStatus: QuotationStatus;\n  quoteId: string;\n  onStatusUpdate: (id: string, newStatus: QuotationStatus) => Promise<void>;\n}\n\nconst StatusDropdown = ({\n  currentStatus,\n  quoteId,\n  onStatusUpdate,\n}: Props) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [isUpdating, setIsUpdating] = useState(false);\n\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  const [position, setPosition] = useState({\n    top: 0,\n    left: 0,\n    width: 0,\n  });\n\n  /* ------------------ Position Dropdown ------------------ */\n  const openDropdown = () => {\n    if (!buttonRef.current) return;\n\n    const rect = buttonRef.current.getBoundingClientRect();\n    const dropdownHeight = 260;\n    const viewportHeight = window.innerHeight;\n\n    let top = rect.bottom + 8;\n\n    // Auto flip if near bottom\n    if (top + dropdownHeight > viewportHeight) {\n      top = rect.top - dropdownHeight - 8;\n    }\n\n    setPosition({\n      top,\n      left: rect.left,\n      width: rect.width,\n    });\n\n    setIsOpen(true);\n  };\n\n  /* ------------------ Outside Click ------------------ */\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      if (\n        dropdownRef.current &&\n        !dropdownRef.current.contains(e.target as Node) &&\n        !buttonRef.current?.contains(e.target as Node)\n      ) {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, [isOpen]);\n\n  /* ------------------ Status Change ------------------ */\n  const handleStatusChange = async (status: QuotationStatus) => {\n    if (status === currentStatus) {\n      setIsOpen(false);\n      return;\n    }\n\n    setIsUpdating(true);\n    try {\n      await onStatusUpdate(quoteId, status);\n      setIsOpen(false);\n    } finally {\n      setIsUpdating(false);\n    }\n  };\n\n  return (\n    <>\n      {/* BUTTON */}\n      <button\n        ref={buttonRef}\n        onClick={openDropdown}\n        disabled={isUpdating}\n        className={`${\n          STATUS_CONFIG[currentStatus]?.color\n        } text-white px-4 py-1.5 text-sm rounded-md flex items-center justify-between gap-2 min-w-[130px] hover:opacity-90 disabled:opacity-60`}\n      >\n        <span>{STATUS_CONFIG[currentStatus]?.label}</span>\n        {isUpdating ? (\n          <span className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n        ) : (\n          <FaChevronDown className=\"text-xs\" />\n        )}\n      </button>\n\n      {/* DROPDOWN */}\n      {isOpen && (\n        <Portal>\n          <div\n            ref={dropdownRef}\n            className=\"fixed bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-[9999] py-1\"\n            style={{\n              top: position.top,\n              left: position.left,\n              width: position.width,\n            }}\n          >\n            {AVAILABLE_STATUSES.map((status) => (\n              <button\n                key={status}\n                onClick={() => handleStatusChange(status)}\n                className={`w-full px-4 py-2.5 text-left flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-700 ${\n                  status === currentStatus\n                    ? \"bg-gray-100 dark:bg-gray-700\"\n                    : \"\"\n                }`}\n              >\n                <div className=\"flex items-center gap-3\">\n                  <span\n                    className={`w-3 h-3 rounded-full ${STATUS_CONFIG[status].color}`}\n                  />\n                  <span className=\"capitalize text-sm\">\n                    {STATUS_CONFIG[status].label}\n                  </span>\n                </div>\n\n                {status === currentStatus && (\n                  <FaCheck className=\"text-green-600 text-xs\" />\n                )}\n              </button>\n            ))}\n          </div>\n        </Portal>\n      )}\n    </>\n  );\n};\n\nexport default StatusDropdown;\n"],"names":[],"mappings":"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"}}]
}