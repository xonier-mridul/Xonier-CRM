{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/app/utils/error.utils.tsx"],"sourcesContent":["const extractErrorMessages = (error: any): string[] => {\n  const data = error?.response?.data;\n\n  if (!data) return [\"Something went wrong\"];\n\n\n  if (Array.isArray(data.detail)) {\n    return data.detail.map((err: any) => err.msg || \"Invalid input\");\n  }\n\n\n  if (typeof data.detail === \"string\") {\n    return [data.detail];\n  }\n\n\n  if (typeof data.message === \"string\") {\n    return [data.message];\n  }\n\n  return [\"Unexpected error occurred\"];\n};\n\nexport default extractErrorMessages\n"],"names":[],"mappings":";;;;AAAA,MAAM,uBAAuB,CAAC;IAC5B,MAAM,OAAO,OAAO,UAAU;IAE9B,IAAI,CAAC,MAAM,OAAO;QAAC;KAAuB;IAG1C,IAAI,MAAM,OAAO,CAAC,KAAK,MAAM,GAAG;QAC9B,OAAO,KAAK,MAAM,CAAC,GAAG,CAAC,CAAC,MAAa,IAAI,GAAG,IAAI;IAClD;IAGA,IAAI,OAAO,KAAK,MAAM,KAAK,UAAU;QACnC,OAAO;YAAC,KAAK,MAAM;SAAC;IACtB;IAGA,IAAI,OAAO,KAAK,OAAO,KAAK,UAAU;QACpC,OAAO;YAAC,KAAK,OAAO;SAAC;IACvB;IAEA,OAAO;QAAC;KAA4B;AACtC;uCAEe"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/components/ui/FormButton.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { ImSpinner2 } from \"react-icons/im\";\n\ninterface FormButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  isLoading?: boolean;\n}\n\nconst FormButton: React.FC<FormButtonProps> = ({\n  children,\n  isLoading = false,\n  disabled,\n  className = \"\",\n  ...props\n}) => {\n  return (\n    <button\n      type=\"submit\"\n      disabled={isLoading || disabled}\n      className={`\n        w-full flex items-center justify-center gap-2\n        rounded-md px-4 py-2 font-medium\n        bg-blue-600 text-white\n        hover:bg-blue-700 hover:cursor-pointer\n        disabled:opacity-50 disabled:cursor-not-allowed\n        transition-colors duration-200\n        ${className}\n      `}\n      {...props}\n    >\n      {isLoading && (\n        <ImSpinner2 className=\"animate-spin text-lg\" />\n      )}\n      {children}\n    </button>\n  );\n};\n\nexport default FormButton;\n\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAUA,MAAM,aAAwC,CAAC,EAC7C,QAAQ,EACR,YAAY,KAAK,EACjB,QAAQ,EACR,YAAY,EAAE,EACd,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,MAAK;QACL,UAAU,aAAa;QACvB,WAAW,CAAC;;;;;;;QAOV,EAAE,UAAU;MACd,CAAC;QACA,GAAG,KAAK;;YAER,2BACC,8OAAC,4JAAU;gBAAC,WAAU;;;;;;YAEvB;;;;;;;AAGP;uCAEe"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/components/ui/Input.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport { FaEye, FaEyeSlash } from \"react-icons/fa\";\n\ninterface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement> {\n  label?: string;\n  error?: string;\n  \n}\n\nconst Input: React.FC<InputProps> = ({\n  label,\n  error,\n  type = \"text\",\n  className = \"\",\n  required = false,\n  ...props\n}) => {\n  const [showPassword, setShowPassword] = useState(false);\n\n  const isPassword = type === \"password\";\n  const isTextarea = type === \"textarea\";\n\n  const commonClasses = `\n    w-full px-3 py-2 rounded-md border\n    bg-white dark:bg-gray-700 text-black dark:text-white\n    border-gray-300 dark:border-gray-300/30\n    disabled:opacity-60 disabled:cursor-not-allowed\n    focus:outline-none focus:ring-2 focus:ring-violet-500\n    ${error ? \"border-red-500 focus:ring-red-500\" : \"\"}\n    ${className}\n  `;\n\n  return (\n    <div className=\"flex flex-col gap-1 w-full\">\n      {label && (\n        <label className=\"text-sm font-medium text-gray-700 dark:text-gray-200 capitalize\">\n          {required && <span className=\"text-red-500 text-xl\">*</span>} {label}\n        </label>\n      )}\n\n      <div className=\"relative\">\n        {isTextarea ? (\n          <textarea\n            required={required}\n            className={`${commonClasses} resize-none`}\n            rows={5}\n            {...(props as React.TextareaHTMLAttributes<HTMLTextAreaElement>)}\n          />\n        ) : (\n          <input\n            type={isPassword && showPassword ? \"text\" : type}\n            required={required}\n            className={commonClasses}\n            \n            {...(props as React.InputHTMLAttributes<HTMLInputElement>)}\n          />\n        )}\n\n        {isPassword && (\n          <button\n            type=\"button\"\n            onClick={() => setShowPassword(prev => !prev)}\n            className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:hover:text-blue-500\"\n          >\n            {showPassword ? <FaEyeSlash /> : <FaEye />}\n          </button>\n        )}\n      </div>\n\n      {error && <span className=\"text-sm text-red-500\">{error}</span>}\n    </div>\n  );\n};\n\nexport default Input;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAYA,MAAM,QAA8B,CAAC,EACnC,KAAK,EACL,KAAK,EACL,OAAO,MAAM,EACb,YAAY,EAAE,EACd,WAAW,KAAK,EAChB,GAAG,OACJ;IACC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,MAAM,aAAa,SAAS;IAC5B,MAAM,aAAa,SAAS;IAE5B,MAAM,gBAAgB,CAAC;;;;;;IAMrB,EAAE,QAAQ,sCAAsC,GAAG;IACnD,EAAE,UAAU;EACd,CAAC;IAED,qBACE,8OAAC;QAAI,WAAU;;YACZ,uBACC,8OAAC;gBAAM,WAAU;;oBACd,0BAAY,8OAAC;wBAAK,WAAU;kCAAuB;;;;;;oBAAS;oBAAE;;;;;;;0BAInE,8OAAC;gBAAI,WAAU;;oBACZ,2BACC,8OAAC;wBACC,UAAU;wBACV,WAAW,GAAG,cAAc,YAAY,CAAC;wBACzC,MAAM;wBACL,GAAI,KAAK;;;;;iFAGZ,8OAAC;wBACC,MAAM,cAAc,eAAe,SAAS;wBAC5C,UAAU;wBACV,WAAW;wBAEV,GAAI,KAAK;;;;;;oBAIb,4BACC,8OAAC;wBACC,MAAK;wBACL,SAAS,IAAM,gBAAgB,CAAA,OAAQ,CAAC;wBACxC,WAAU;kCAET,6BAAe,8OAAC,4JAAU;;;;qFAAM,8OAAC,uJAAK;;;;;;;;;;;;;;;;YAK5C,uBAAS,8OAAC;gBAAK,WAAU;0BAAwB;;;;;;;;;;;;AAGxD;uCAEe"}},
    {"offset": {"line": 191, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/components/ui/PrimeryButton.tsx"],"sourcesContent":["import Link from 'next/link'\nimport React, {FC} from 'react'\n\nconst PrimaryButton:FC<PrimaryButtonProps> = ({text, isLoading, disabled, link, icon}) => {\n  return (\n    <Link href={link} className='bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-md flex relative z-1 items-center capitalize w-fit gap-2'> {icon} {isLoading ? \"Loading...\" : text}</Link>\n  )\n}\n\nexport default PrimaryButton\n"],"names":[],"mappings":";;;;;AAAA;;;AAGA,MAAM,gBAAuC,CAAC,EAAC,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAC;IACnF,qBACE,8OAAC,uKAAI;QAAC,MAAM;QAAM,WAAU;;YAAwH;YAAE;YAAK;YAAE,YAAY,eAAe;;;;;;;AAE5L;uCAEe"}},
    {"offset": {"line": 220, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/components/ui/Select.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\n\nexport interface SelectOption {\n  label: string;\n  value: string;\n}\n\ninterface SelectProps\n  extends React.SelectHTMLAttributes<HTMLSelectElement> {\n  label?: string;\n  error?: string;\n  options: SelectOption[];\n  placeholder?: string;\n}\n\nconst Select: React.FC<SelectProps> = ({\n  label,\n  error,\n  options,\n  placeholder = \"Select an option\",\n  className = \"\",\n  required = true,\n  ...props\n}) => {\n  return (\n    <div className=\"flex flex-col gap-1 w-full\">\n      {label && (\n        <label className=\"text-sm font-medium text-gray-700 dark:text-gray-200 capitalize\">\n          {required && <span className=\"text-red-500 text-xl\">*</span>}{\" \"} {label}\n        </label>\n      )}\n\n      <select\n        className={`\n          w-full px-3 py-2.5 rounded-md border\n          bg-white dark:bg-gray-700 text-black dark:text-white\n          border-gray-300 dark:border-gray-300/30\n          disabled:opacity-60 disabled:cursor-not-allowed\n          focus:outline-none focus:ring-2 focus:ring-violet-500\n          ${error ? \"border-red-500 focus:ring-red-500\" : \"\"}\n          ${className}\n        `}\n        {...props}\n      >\n        {placeholder && (\n          <option value=\"\" disabled>\n            {placeholder}\n          </option>\n        )}\n\n        {options.map(option => (\n          <option key={option.value} value={option.value}>\n            {option.label}\n          </option>\n        ))}\n      </select>\n\n      {error && <span className=\"text-sm text-red-500\">{error}</span>}\n    </div>\n  );\n};\n\nexport default Select;\n"],"names":[],"mappings":";;;;;AAAA;;AAiBA,MAAM,SAAgC,CAAC,EACrC,KAAK,EACL,KAAK,EACL,OAAO,EACP,cAAc,kBAAkB,EAChC,YAAY,EAAE,EACd,WAAW,IAAI,EACf,GAAG,OACJ;IACC,qBACE,8OAAC;QAAI,WAAU;;YACZ,uBACC,8OAAC;gBAAM,WAAU;;oBACd,0BAAY,8OAAC;wBAAK,WAAU;kCAAuB;;;;;;oBAAU;oBAAI;oBAAE;;;;;;;0BAIxE,8OAAC;gBACC,WAAW,CAAC;;;;;;UAMV,EAAE,QAAQ,sCAAsC,GAAG;UACnD,EAAE,UAAU;QACd,CAAC;gBACA,GAAG,KAAK;;oBAER,6BACC,8OAAC;wBAAO,OAAM;wBAAG,QAAQ;kCACtB;;;;;;oBAIJ,QAAQ,GAAG,CAAC,CAAA,uBACX,8OAAC;4BAA0B,OAAO,OAAO,KAAK;sCAC3C,OAAO,KAAK;2BADF,OAAO,KAAK;;;;;;;;;;;YAM5B,uBAAS,8OAAC;gBAAK,WAAU;0BAAwB;;;;;;;;;;;;AAGxD;uCAEe"}},
    {"offset": {"line": 306, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/services/lead.service.ts"],"sourcesContent":["import { ParamValue } from \"next/dist/server/request/params\";\nimport api from \"../lib/axios\";\nimport { BulkLeadPayload, LeadPayload } from \"../types/leads/leads.types\";\n\n\n\nconst LeadService = {\n  getAll: (page?: number, limit?: number, filters?: Record<string, any>) => {\n    const params = new URLSearchParams();\n\n    if (page) params.append(\"page\", String(page));\n    if (limit) params.append(\"limit\", String(limit));\n\n    if (filters) {\n      Object.entries(filters).forEach(([key, value]) => {\n        if (value !== undefined && value !== null && value !== \"\") {\n          params.append(key, String(value));\n        }\n      });\n    }\n\n    return api.get(`/lead/all?${params.toString()}`);\n  },\n  getAllByCreator: (page?: number, limit?: number, filters?: Record<string, any>) => {\n    const params = new URLSearchParams();\n\n    if (page) params.append(\"page\", String(page));\n    if (limit) params.append(\"limit\", String(limit));\n\n    if (filters) {\n      Object.entries(filters).forEach(([key, value]) => {\n        if (value !== undefined && value !== null && value !== \"\") {\n          params.append(key, String(value));\n        }\n      });\n    }\n\n    return api.get(`/lead/leads-by-user/all?${params.toString()}`);\n  },\n  create: (data: LeadPayload)=> api.post(\"/lead/create\", data),\n  bulkCreate: (data: BulkLeadPayload )=> api.post(\"/lead/create/bulk\", data),\n  getById: (id: ParamValue)=> api.get(`/lead/get-by-id/${id}`),\n  update: (id: ParamValue, payload: LeadPayload)=> api.put(`/lead/update/${id}`, payload),\n  delete: (id: string)=> api.delete(`/lead/delete/${id}`)\n};\n\n\nexport default LeadService"],"names":[],"mappings":";;;;AACA;;AAKA,MAAM,cAAc;IAClB,QAAQ,CAAC,MAAe,OAAgB;QACtC,MAAM,SAAS,IAAI;QAEnB,IAAI,MAAM,OAAO,MAAM,CAAC,QAAQ,OAAO;QACvC,IAAI,OAAO,OAAO,MAAM,CAAC,SAAS,OAAO;QAEzC,IAAI,SAAS;YACX,OAAO,OAAO,CAAC,SAAS,OAAO,CAAC,CAAC,CAAC,KAAK,MAAM;gBAC3C,IAAI,UAAU,aAAa,UAAU,QAAQ,UAAU,IAAI;oBACzD,OAAO,MAAM,CAAC,KAAK,OAAO;gBAC5B;YACF;QACF;QAEA,OAAO,8HAAG,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,OAAO,QAAQ,IAAI;IACjD;IACA,iBAAiB,CAAC,MAAe,OAAgB;QAC/C,MAAM,SAAS,IAAI;QAEnB,IAAI,MAAM,OAAO,MAAM,CAAC,QAAQ,OAAO;QACvC,IAAI,OAAO,OAAO,MAAM,CAAC,SAAS,OAAO;QAEzC,IAAI,SAAS;YACX,OAAO,OAAO,CAAC,SAAS,OAAO,CAAC,CAAC,CAAC,KAAK,MAAM;gBAC3C,IAAI,UAAU,aAAa,UAAU,QAAQ,UAAU,IAAI;oBACzD,OAAO,MAAM,CAAC,KAAK,OAAO;gBAC5B;YACF;QACF;QAEA,OAAO,8HAAG,CAAC,GAAG,CAAC,CAAC,wBAAwB,EAAE,OAAO,QAAQ,IAAI;IAC/D;IACA,QAAQ,CAAC,OAAqB,8HAAG,CAAC,IAAI,CAAC,gBAAgB;IACvD,YAAY,CAAC,OAA0B,8HAAG,CAAC,IAAI,CAAC,qBAAqB;IACrE,SAAS,CAAC,KAAkB,8HAAG,CAAC,GAAG,CAAC,CAAC,gBAAgB,EAAE,IAAI;IAC3D,QAAQ,CAAC,IAAgB,UAAwB,8HAAG,CAAC,GAAG,CAAC,CAAC,aAAa,EAAE,IAAI,EAAE;IAC/E,QAAQ,CAAC,KAAc,8HAAG,CAAC,MAAM,CAAC,CAAC,aAAa,EAAE,IAAI;AACxD;uCAGe"}},
    {"offset": {"line": 350, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/services/userForm.service.ts"],"sourcesContent":["import { ParamValue } from \"next/dist/server/request/params\";\nimport api from \"../lib/axios\";\nimport { UpdateUserForm } from \"../types/userForm/userForm.types\";\n\n\n\nexport const UserFormService = {\n    getAllLead: ()=> api.get(\"/user-form/user-id/lead\"),\n    getAllDeal: ()=> api.get(\"/user-form/user-id/deal\"),\n    create: (payload: UpdateUserForm)=> api.post(\"/user-form/create\", payload),\n    update:(id: ParamValue, data: UpdateUserForm)=> api.put(`/user-form/update/${id}`, data) \n}\n\n"],"names":[],"mappings":";;;;AACA;;AAKO,MAAM,kBAAkB;IAC3B,YAAY,IAAK,8HAAG,CAAC,GAAG,CAAC;IACzB,YAAY,IAAK,8HAAG,CAAC,GAAG,CAAC;IACzB,QAAQ,CAAC,UAA2B,8HAAG,CAAC,IAAI,CAAC,qBAAqB;IAClE,QAAO,CAAC,IAAgB,OAAwB,8HAAG,CAAC,GAAG,CAAC,CAAC,kBAAkB,EAAE,IAAI,EAAE;AACvF"}},
    {"offset": {"line": 366, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/components/ui/InformationComponent.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { CheckCircle, X } from \"lucide-react\";\nimport { IoMdInformationCircleOutline } from \"react-icons/io\";\n\ninterface SuccessProps {\n  message?: string ;\n}\n\nconst InformationComponent: React.FC<SuccessProps> = ({ message }) => {\n  if (!message) return null;\n\n  \n\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0, y: -10, scale: 0.98 }}\n        animate={{ opacity: 1, y: 0, scale: 1 }}\n        exit={{ opacity: 0, y: -10, scale: 0.98 }}\n        transition={{ duration: 0.25, ease: \"easeOut\" }}\n        className=\"w-full relative rounded-md border animate-pulse border-blue-500/50 bg-blue-50 dark:bg-blue-950 \n                   px-4 py-3 text-blue-700 dark:text-blue-400 shadow-sm\"\n      >\n     \n        <div className=\"flex items-start gap-2\">\n          <IoMdInformationCircleOutline className=\"mt-0.5 text-blue-600 dark:text-blue-400\" size={18} />\n\n        \n          <p>{message}</p>\n        </div>\n\n      </motion.div>\n    </AnimatePresence>\n  );\n};\n\nexport default InformationComponent;\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAEA;AALA;;;;AAWA,MAAM,uBAA+C,CAAC,EAAE,OAAO,EAAE;IAC/D,IAAI,CAAC,SAAS,OAAO;IAIrB,qBACE,8OAAC,4MAAe;kBACd,cAAA,8OAAC,oMAAM,CAAC,GAAG;YACT,SAAS;gBAAE,SAAS;gBAAG,GAAG,CAAC;gBAAI,OAAO;YAAK;YAC3C,SAAS;gBAAE,SAAS;gBAAG,GAAG;gBAAG,OAAO;YAAE;YACtC,MAAM;gBAAE,SAAS;gBAAG,GAAG,CAAC;gBAAI,OAAO;YAAK;YACxC,YAAY;gBAAE,UAAU;gBAAM,MAAM;YAAU;YAC9C,WAAU;sBAIV,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,8KAA4B;wBAAC,WAAU;wBAA0C,MAAM;;;;;;kCAGxF,8OAAC;kCAAG;;;;;;;;;;;;;;;;;;;;;;AAMd;uCAEe"}},
    {"offset": {"line": 442, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/components/ui/ErrorComponent.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\ninterface ErrorProps {\n  error?: string | string[];\n}\n\nconst ErrorComponent: React.FC<ErrorProps> = ({ error }) => {\n  if (!error || (Array.isArray(error) && error.length === 0)) return null;\n\n  const errors = Array.isArray(error) ? error : [error];\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0, y: -10, scale: 0.98 }}\n        animate={{ opacity: 1, y: 0, scale: 1 }}\n        exit={{ opacity: 0, y: -10, scale: 0.98 }}\n        transition={{ duration: 0.25, ease: \"easeOut\" }}\n        className=\"w-full relative rounded-md border border-red-500/50 bg-red-50 dark:bg-red-950 \n                   px-4 py-3 text-red-500 dark:text-red-400 \"\n      >\n        \n        \n        <ul className=\"list-disc list-inside space-y-1 text-sm\">\n          {errors.map((err, idx) => (\n            <li key={idx}>{err}</li>\n          ))}\n        </ul>\n      </motion.div>\n    </AnimatePresence>\n  );\n};\n\nexport default ErrorComponent;\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAHA;;;AASA,MAAM,iBAAuC,CAAC,EAAE,KAAK,EAAE;IACrD,IAAI,CAAC,SAAU,MAAM,OAAO,CAAC,UAAU,MAAM,MAAM,KAAK,GAAI,OAAO;IAEnE,MAAM,SAAS,MAAM,OAAO,CAAC,SAAS,QAAQ;QAAC;KAAM;IAErD,qBACE,8OAAC,4MAAe;kBACd,cAAA,8OAAC,oMAAM,CAAC,GAAG;YACT,SAAS;gBAAE,SAAS;gBAAG,GAAG,CAAC;gBAAI,OAAO;YAAK;YAC3C,SAAS;gBAAE,SAAS;gBAAG,GAAG;gBAAG,OAAO;YAAE;YACtC,MAAM;gBAAE,SAAS;gBAAG,GAAG,CAAC;gBAAI,OAAO;YAAK;YACxC,YAAY;gBAAE,UAAU;gBAAM,MAAM;YAAU;YAC9C,WAAU;sBAKV,cAAA,8OAAC;gBAAG,WAAU;0BACX,OAAO,GAAG,CAAC,CAAC,KAAK,oBAChB,8OAAC;kCAAc;uBAAN;;;;;;;;;;;;;;;;;;;;AAMrB;uCAEe"}},
    {"offset": {"line": 509, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/app/%28dashboard%29/leads/update/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\"\nimport extractErrorMessages from \"@/src/app/utils/error.utils\";\nimport FormButton from \"@/src/components/ui/FormButton\";\nimport Input from \"@/src/components/ui/Input\";\nimport PrimaryButton from \"@/src/components/ui/PrimeryButton\";\nimport Select from \"@/src/components/ui/Select\";\nimport LeadService from \"@/src/services/lead.service\";\nimport { UserFormService } from \"@/src/services/userForm.service\";\nimport { LeadPayload } from \"@/src/types/leads/leads.types\";\nimport { CustomField, UserForm } from \"@/src/types/userForm/userForm.types\";\nimport axios from \"axios\";\nimport React, { JSX, useState, useEffect, FormEvent, ChangeEvent } from \"react\";\nimport { GrDocumentUpdate } from \"react-icons/gr\";\nimport { toast } from \"react-toastify\";\nimport Skeleton from \"react-loading-skeleton\";\nimport InformationComponent from \"@/src/components/ui/InformationComponent\";\nimport ErrorComponent from \"@/src/components/ui/ErrorComponent\";\nimport Image from \"next/image\";\nimport { useParams, useRouter } from \"next/navigation\";\n\n// All keys that belong to the known LeadPayload — anything outside this set\n// goes into extraFields when the form is submitted.\nconst KNOWN_LEAD_KEYS = new Set([\n  \"fullName\",\n  \"email\",\n  \"phone\",\n  \"priority\",\n  \"source\",\n  \"projectType\",\n  \"status\",\n  \"companyName\",\n  \"city\",\n  \"country\",\n  \"postalCode\",\n  \"language\",\n  \"industry\",\n  \"employeeRole\",\n  \"employeeSeniority\",\n  \"message\",\n  \"membershipNotes\",\n]);\n\nconst REQUIRED_FIELDS = [\n  \"fullName\",\n  \"email\",\n  \"phone\",\n  \"priority\",\n  \"source\",\n  \"projectType\",\n  \"status\",\n] as const;\n\nconst EMPTY_FORM: Record<string, string | number | null> = {\n  fullName: \"\",\n  email: \"\",\n  phone: \"\",\n  priority: \"\",\n  source: \"\",\n  projectType: \"\",\n  status: \"\",\n  companyName: \"\",\n  city: \"\",\n  country: null,\n  postalCode: null,\n  language: null,\n  industry: null,\n  employeeRole: \"\",\n  employeeSeniority: null,\n  message: null,\n  membershipNotes: null,\n};\n\ntype FormElement = HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement;\n\nconst page = (): JSX.Element => {\n  const [err, setErr] = useState<string | string[]>(\"\");\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [userFormData, setUserFormData] = useState<UserForm[]>([]);\n  const [userFormField, setUserFormField] = useState<CustomField[]>([]);\n\n  const router = useRouter();\n  const { id } = useParams();\n\n  // Single flat map for ALL fields (known + dynamic extra).\n  // Populated from both the API response and user edits.\n  const [flatFormData, setFlatFormData] = useState<Record<string, string | number | null>>(\n    EMPTY_FORM\n  );\n\n  // ─── Fetch existing lead data ───────────────────────────────────────────────\n  const getLeadData = async () => {\n    setIsLoading(true);\n    try {\n      const result = await LeadService.getById(id);\n      if (result.status === 200) {\n        const data = result.data.data;\n\n        // Spread known fields first, then flatten extraFields into the same object\n        // so dynamic fields pre-populate correctly too.\n        setFlatFormData({\n          fullName: data.fullName ?? \"\",\n          email: data.email ?? \"\",\n          phone: data.phone ?? \"\",\n          priority: data.priority ?? \"\",\n          source: data.source ?? \"\",\n          projectType: data.projectType ?? \"\",\n          status: data.status ?? \"\",\n          companyName: data.companyName ?? \"\",\n          city: data.city ?? \"\",\n          country: data.country ?? null,\n          postalCode: data.postalCode ?? null,\n          language: data.language ?? null,\n          industry: data.industry ?? null,\n          employeeRole: data.employeeRole ?? \"\",\n          employeeSeniority: data.employeeSeniority ?? null,\n          message: data.message ?? null,\n          membershipNotes: data.membershipNotes ?? null,\n          // Flatten extraFields into the top-level map so inputs pre-populate\n          ...(data.extraFields ?? {}),\n        });\n      }\n    } catch (error) {\n      if (axios.isAxiosError(error)) {\n        setErr(extractErrorMessages(error));\n      } else {\n        setErr([\"Something went wrong\"]);\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // ─── Fetch dynamic form fields ──────────────────────────────────────────────\n  const getFormFields = async (): Promise<void> => {\n    setIsLoading(true);\n    try {\n      const result = await UserFormService.getAllLead();\n      if (result.status === 200) {\n        setUserFormData(result.data.data);\n        setUserFormField(result.data.data.selectedFormFields);\n      }\n    } catch (error) {\n      process.env.NEXT_PUBLIC_ENV === \"development\" && console.error(error);\n      if (axios.isAxiosError(error)) {\n        setErr(extractErrorMessages(error));\n      } else {\n        setErr([\"Something went wrong\"]);\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleChange = (e: ChangeEvent<FormElement>) => {\n    const { name, value } = e.target;\n    setFlatFormData((prev) => ({ ...prev, [name]: value }));\n  };\n\n  useEffect(() => {\n    getFormFields();\n    getLeadData();\n  }, []);\n\n  \n const buildPayload = (): LeadPayload => {\n    const knownFields: Record<string, unknown> = {};\n    const extraFields: Record<string, string | number | boolean | null> = {};\n\n    for (const [key, value] of Object.entries(flatFormData)) {\n      if (KNOWN_LEAD_KEYS.has(key)) {\n        knownFields[key] = value;\n      } else {\n        extraFields[key] = value;\n      }\n    }\n\n    return {\n      ...(knownFields as unknown as LeadPayload),\n      ...(Object.keys(extraFields).length > 0 ? { extraFields } : {}),\n    };\n  };\n\n  const isMissingRequiredFields = REQUIRED_FIELDS.some(\n    (key) => !flatFormData[key]\n  );\n\n\n  const handleSubmit = async (e: FormEvent<HTMLFormElement>): Promise<void> => {\n    e.preventDefault();\n    setLoading(true);\n    setErr(\"\");\n\n    try {\n      if (!id) {\n        toast.info(\"Lead id not found\");\n        return;\n      }\n\n      const payload = buildPayload();\n      const result = await LeadService.update(id, payload);\n\n      if (result.status === 200) {\n        toast.success(`${flatFormData.fullName} lead updated successfully`);\n\n        // Reset: clear all values including any dynamic extra fields\n        setFlatFormData((prev) => {\n          const reset: Record<string, string | number | null> = { ...EMPTY_FORM };\n          for (const key of Object.keys(prev)) {\n            if (!KNOWN_LEAD_KEYS.has(key)) {\n              reset[key] = \"\";\n            }\n          }\n          return reset;\n        });\n\n        setTimeout(() => {\n          router.back();\n        }, 2000);\n      }\n    } catch (error) {\n      process.env.NEXT_PUBLIC_ENV === \"development\" && console.error(error);\n      if (axios.isAxiosError(error)) {\n        setErr(extractErrorMessages(error));\n      } else {\n        setErr([\"Something went wrong\"]);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className={`ml-72 mt-14 p-6`}>\n      <div className=\"bg-white dark:bg-gray-700 dark:backdrop-blur-sm flex flex-col gap-8 p-6 rounded-xl border-[1px] border-slate-900/10 w-full\">\n        <div className=\"flex items-center gap-5 justify-between\">\n          <div className=\"flex flex-col gap-2\">\n            <h2 className=\"text-2xl font-bold dark:text-white text-slate-900 capitalize\">\n              Update Leads\n            </h2>\n            <p className=\"text-slate-500 dark:text-slate-300\">\n              You can customize your fields, if you want then click edit form\n              field button\n            </p>\n          </div>\n\n          <PrimaryButton\n            text={userFormData.length <= 0 ? \"Create Form Fields\" : \"Edit Form Fields\"}\n            link=\"/leads/update-form\"\n            icon={<GrDocumentUpdate />}\n          />\n        </div>\n\n        {err && <ErrorComponent error={err} />}\n        {isMissingRequiredFields && (\n          <InformationComponent message=\"Full Name, Email, Phone, Source, Priority, Project Type and Status fields are mandatory\" />\n        )}\n\n        <form onSubmit={handleSubmit} className=\"grid grid-cols-2 gap-8\">\n          {!isLoading ? (\n            userFormField && userFormField.length > 0 ? (\n              userFormField.map((item) => {\n                const fieldValue = flatFormData[item.key] ?? \"\";\n\n                if (\n                  item.type === \"text\" ||\n                  item.type === \"email\" ||\n                  item.type === \"number\"\n                ) {\n                  return (\n                    <Input\n                      key={item.id}\n                      name={item.key}\n                      type={item.type}\n                      label={item.name}\n                      placeholder={item.placeholder ?? \"\"}\n                      value={fieldValue as string}\n                      onChange={handleChange}\n                      required={item.required}\n                    />\n                  );\n                }\n\n                if (item.type === \"select\") {\n                  return (\n                    <Select\n                      key={item.id}\n                      name={item.key}\n                      label={item.name}\n                      options={item.options ?? []}\n                      placeholder={item.placeholder ?? \"Select\"}\n                      value={fieldValue as string}\n                      onChange={handleChange}\n                      required={item.required}\n                    />\n                  );\n                }\n\n                return null;\n              })\n            ) : (\n              <div className=\"flex items-center flex-col justify-center col-span-2 py-5\">\n                <Image\n                  src={\"/images/Cry.gif\"}\n                  alt=\"cry img\"\n                  height={200}\n                  width={200}\n                />\n                <p>No form fields found, please select fields first</p>\n              </div>\n            )\n          ) : (\n            <>\n              {Array.from({ length: 6 }).map((_, i) => (\n                <div key={i} className=\"flex flex-col gap-2\">\n                  <Skeleton height={18} width={100} borderRadius={10} className=\"animate-pulse\" />\n                  <Skeleton height={38} width={500} borderRadius={14} className=\"animate-pulse\" />\n                </div>\n              ))}\n            </>\n          )}\n\n          <FormButton\n            className=\"col-span-2\"\n            isLoading={loading}\n            disabled={isMissingRequiredFields || loading}\n          >\n            Update Lead\n          </FormButton>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default page;"],"names":[],"mappings":"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"}}]
}