{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/components/ui/Input.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport { FaEye, FaEyeSlash } from \"react-icons/fa\";\n\ninterface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement> {\n  label?: string;\n  error?: string;\n  \n}\n\nconst Input: React.FC<InputProps> = ({\n  label,\n  error,\n  type = \"text\",\n  className = \"\",\n  required = false,\n  ...props\n}) => {\n  const [showPassword, setShowPassword] = useState(false);\n\n  const isPassword = type === \"password\";\n  const isTextarea = type === \"textarea\";\n\n  const commonClasses = `\n    w-full px-3 py-2 rounded-md border\n    bg-white dark:bg-gray-700 text-black dark:text-white\n    border-gray-300 dark:border-gray-300/30\n    disabled:opacity-60 disabled:cursor-not-allowed\n    focus:outline-none focus:ring-2 focus:ring-violet-500\n    ${error ? \"border-red-500 focus:ring-red-500\" : \"\"}\n    ${className}\n  `;\n\n  return (\n    <div className=\"flex flex-col gap-1 w-full\">\n      {label && (\n        <label className=\"text-sm font-medium text-gray-700 dark:text-gray-200 capitalize\">\n          {required && <span className=\"text-red-500 text-xl\">*</span>} {label}\n        </label>\n      )}\n\n      <div className=\"relative\">\n        {isTextarea ? (\n          <textarea\n            required={required}\n            className={`${commonClasses} resize-none`}\n            rows={5}\n            {...(props as React.TextareaHTMLAttributes<HTMLTextAreaElement>)}\n          />\n        ) : (\n          <input\n            type={isPassword && showPassword ? \"text\" : type}\n            required={required}\n            className={commonClasses}\n            \n            {...(props as React.InputHTMLAttributes<HTMLInputElement>)}\n          />\n        )}\n\n        {isPassword && (\n          <button\n            type=\"button\"\n            onClick={() => setShowPassword(prev => !prev)}\n            className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:hover:text-blue-500\"\n          >\n            {showPassword ? <FaEyeSlash /> : <FaEye />}\n          </button>\n        )}\n      </div>\n\n      {error && <span className=\"text-sm text-red-500\">{error}</span>}\n    </div>\n  );\n};\n\nexport default Input;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAYA,MAAM,QAA8B,CAAC,EACnC,KAAK,EACL,KAAK,EACL,OAAO,MAAM,EACb,YAAY,EAAE,EACd,WAAW,KAAK,EAChB,GAAG,OACJ;IACC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,MAAM,aAAa,SAAS;IAC5B,MAAM,aAAa,SAAS;IAE5B,MAAM,gBAAgB,CAAC;;;;;;IAMrB,EAAE,QAAQ,sCAAsC,GAAG;IACnD,EAAE,UAAU;EACd,CAAC;IAED,qBACE,8OAAC;QAAI,WAAU;;YACZ,uBACC,8OAAC;gBAAM,WAAU;;oBACd,0BAAY,8OAAC;wBAAK,WAAU;kCAAuB;;;;;;oBAAS;oBAAE;;;;;;;0BAInE,8OAAC;gBAAI,WAAU;;oBACZ,2BACC,8OAAC;wBACC,UAAU;wBACV,WAAW,GAAG,cAAc,YAAY,CAAC;wBACzC,MAAM;wBACL,GAAI,KAAK;;;;;iFAGZ,8OAAC;wBACC,MAAM,cAAc,eAAe,SAAS;wBAC5C,UAAU;wBACV,WAAW;wBAEV,GAAI,KAAK;;;;;;oBAIb,4BACC,8OAAC;wBACC,MAAK;wBACL,SAAS,IAAM,gBAAgB,CAAA,OAAQ,CAAC;wBACxC,WAAU;kCAET,6BAAe,8OAAC,4JAAU;;;;qFAAM,8OAAC,uJAAK;;;;;;;;;;;;;;;;YAK5C,uBAAS,8OAAC;gBAAK,WAAU;0BAAwB;;;;;;;;;;;;AAGxD;uCAEe"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/components/ui/Select.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\n\nexport interface SelectOption {\n  label: string;\n  value: string;\n}\n\ninterface SelectProps\n  extends React.SelectHTMLAttributes<HTMLSelectElement> {\n  label?: string;\n  error?: string;\n  options: SelectOption[];\n  placeholder?: string;\n}\n\nconst Select: React.FC<SelectProps> = ({\n  label,\n  error,\n  options,\n  placeholder = \"Select an option\",\n  className = \"\",\n  required = true,\n  ...props\n}) => {\n  return (\n    <div className=\"flex flex-col gap-1 w-full\">\n      {label && (\n        <label className=\"text-sm font-medium text-gray-700 dark:text-gray-200 capitalize\">\n          {required && <span className=\"text-red-500 text-xl\">*</span>}{\" \"} {label}\n        </label>\n      )}\n\n      <select\n        className={`\n          w-full px-3 py-2.5 rounded-md border\n          bg-white dark:bg-gray-700 text-black dark:text-white\n          border-gray-300 dark:border-gray-300/30\n          disabled:opacity-60 disabled:cursor-not-allowed\n          focus:outline-none focus:ring-2 focus:ring-violet-500\n          ${error ? \"border-red-500 focus:ring-red-500\" : \"\"}\n          ${className}\n        `}\n        {...props}\n      >\n        {placeholder && (\n          <option value=\"\" disabled>\n            {placeholder}\n          </option>\n        )}\n\n        {options.map(option => (\n          <option key={option.value} value={option.value}>\n            {option.label}\n          </option>\n        ))}\n      </select>\n\n      {error && <span className=\"text-sm text-red-500\">{error}</span>}\n    </div>\n  );\n};\n\nexport default Select;\n"],"names":[],"mappings":";;;;;AAAA;;AAiBA,MAAM,SAAgC,CAAC,EACrC,KAAK,EACL,KAAK,EACL,OAAO,EACP,cAAc,kBAAkB,EAChC,YAAY,EAAE,EACd,WAAW,IAAI,EACf,GAAG,OACJ;IACC,qBACE,8OAAC;QAAI,WAAU;;YACZ,uBACC,8OAAC;gBAAM,WAAU;;oBACd,0BAAY,8OAAC;wBAAK,WAAU;kCAAuB;;;;;;oBAAU;oBAAI;oBAAE;;;;;;;0BAIxE,8OAAC;gBACC,WAAW,CAAC;;;;;;UAMV,EAAE,QAAQ,sCAAsC,GAAG;UACnD,EAAE,UAAU;QACd,CAAC;gBACA,GAAG,KAAK;;oBAER,6BACC,8OAAC;wBAAO,OAAM;wBAAG,QAAQ;kCACtB;;;;;;oBAIJ,QAAQ,GAAG,CAAC,CAAA,uBACX,8OAAC;4BAA0B,OAAO,OAAO,KAAK;sCAC3C,OAAO,KAAK;2BADF,OAAO,KAAK;;;;;;;;;;;YAM5B,uBAAS,8OAAC;gBAAK,WAAU;0BAAwB;;;;;;;;;;;;AAGxD;uCAEe"}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/app/utils/error.utils.tsx"],"sourcesContent":["const extractErrorMessages = (error: any): string[] => {\n  const data = error?.response?.data;\n\n  if (!data) return [\"Something went wrong\"];\n\n\n  if (Array.isArray(data.detail)) {\n    return data.detail.map((err: any) => err.msg || \"Invalid input\");\n  }\n\n\n  if (typeof data.detail === \"string\") {\n    return [data.detail];\n  }\n\n\n  if (typeof data.message === \"string\") {\n    return [data.message];\n  }\n\n  return [\"Unexpected error occurred\"];\n};\n\nexport default extractErrorMessages\n"],"names":[],"mappings":";;;;AAAA,MAAM,uBAAuB,CAAC;IAC5B,MAAM,OAAO,OAAO,UAAU;IAE9B,IAAI,CAAC,MAAM,OAAO;QAAC;KAAuB;IAG1C,IAAI,MAAM,OAAO,CAAC,KAAK,MAAM,GAAG;QAC9B,OAAO,KAAK,MAAM,CAAC,GAAG,CAAC,CAAC,MAAa,IAAI,GAAG,IAAI;IAClD;IAGA,IAAI,OAAO,KAAK,MAAM,KAAK,UAAU;QACnC,OAAO;YAAC,KAAK,MAAM;SAAC;IACtB;IAGA,IAAI,OAAO,KAAK,OAAO,KAAK,UAAU;QACpC,OAAO;YAAC,KAAK,OAAO;SAAC;IACvB;IAEA,OAAO;QAAC;KAA4B;AACtC;uCAEe"}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/services/event.service.ts"],"sourcesContent":["import api from \"../lib/axios\"; \nimport { CalendarEventPayload } from \"@/src/types/calenders/calender.types\";\n\nexport const EventService = {\n    create: (payload: CalendarEventPayload) => api.post(\"/event/create\", payload),\n    getAll: () => api.get(\"/event/all\"),\n    update: (payload: CalendarEventPayload & { id: string }) => api.put(`/event/update/${payload.id}`, payload),\n    delete: (id: string) => api.delete(`/event/delete/${id}`)\n}"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,eAAe;IACxB,QAAQ,CAAC,UAAkC,8HAAG,CAAC,IAAI,CAAC,iBAAiB;IACrE,QAAQ,IAAM,8HAAG,CAAC,GAAG,CAAC;IACtB,QAAQ,CAAC,UAAmD,8HAAG,CAAC,GAAG,CAAC,CAAC,cAAc,EAAE,QAAQ,EAAE,EAAE,EAAE;IACnG,QAAQ,CAAC,KAAe,8HAAG,CAAC,MAAM,CAAC,CAAC,cAAc,EAAE,IAAI;AAC5D"}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/components/ui/ErrorComponent.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\ninterface ErrorProps {\n  error?: string | string[];\n}\n\nconst ErrorComponent: React.FC<ErrorProps> = ({ error }) => {\n  if (!error || (Array.isArray(error) && error.length === 0)) return null;\n\n  const errors = Array.isArray(error) ? error : [error];\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0, y: -10, scale: 0.98 }}\n        animate={{ opacity: 1, y: 0, scale: 1 }}\n        exit={{ opacity: 0, y: -10, scale: 0.98 }}\n        transition={{ duration: 0.25, ease: \"easeOut\" }}\n        className=\"w-full relative rounded-md border border-red-500/50 bg-red-50 dark:bg-red-950 \n                   px-4 py-3 text-red-500 dark:text-red-400 \"\n      >\n        \n        \n        <ul className=\"list-disc list-inside space-y-1 text-sm\">\n          {errors.map((err, idx) => (\n            <li key={idx}>{err}</li>\n          ))}\n        </ul>\n      </motion.div>\n    </AnimatePresence>\n  );\n};\n\nexport default ErrorComponent;\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAHA;;;AASA,MAAM,iBAAuC,CAAC,EAAE,KAAK,EAAE;IACrD,IAAI,CAAC,SAAU,MAAM,OAAO,CAAC,UAAU,MAAM,MAAM,KAAK,GAAI,OAAO;IAEnE,MAAM,SAAS,MAAM,OAAO,CAAC,SAAS,QAAQ;QAAC;KAAM;IAErD,qBACE,8OAAC,4MAAe;kBACd,cAAA,8OAAC,oMAAM,CAAC,GAAG;YACT,SAAS;gBAAE,SAAS;gBAAG,GAAG,CAAC;gBAAI,OAAO;YAAK;YAC3C,SAAS;gBAAE,SAAS;gBAAG,GAAG;gBAAG,OAAO;YAAE;YACtC,MAAM;gBAAE,SAAS;gBAAG,GAAG,CAAC;gBAAI,OAAO;YAAK;YACxC,YAAY;gBAAE,UAAU;gBAAM,MAAM;YAAU;YAC9C,WAAU;sBAKV,cAAA,8OAAC;gBAAG,WAAU;0BACX,OAAO,GAAG,CAAC,CAAC,KAAK,oBAChB,8OAAC;kCAAc;uBAAN;;;;;;;;;;;;;;;;;;;;AAMrB;uCAEe"}},
    {"offset": {"line": 316, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/components/pages/calender/CreateEventPopup.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { X } from \"lucide-react\";\nimport Input from \"../../ui/Input\";\nimport Select from \"../../ui/Select\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport extractErrorMessages from \"@/src/app/utils/error.utils\";\nimport { EventService } from \"@/src/services/event.service\";\nimport { CalendarEventPayload } from \"@/src/types/calenders/calender.types\";\nimport { EventType } from \"@/src/constants/enum\";\nimport ErrorComponent from \"../../ui/ErrorComponent\";\n\ninterface CreateEventModalProps {\n  open: boolean;\n  defaultStart: string | null;\n  onClose: () => void;\n  onSubmit: (data: any) =>  void;\n  getAllEvent: ()=> Promise<void>\n}\n\nconst CreateEventModal: React.FC<CreateEventModalProps> = ({\n  open,\n  defaultStart,\n  onClose,\n  onSubmit,\n  getAllEvent\n}) => {\nconst [err, setErr] = useState<string | string[]>(\"\")\nconst [isLoading, setIsLoading] = useState<boolean>(false)\n  const [form, setForm] = useState<CalendarEventPayload>({\n    title: \"\",\n    eventType: EventType.MEETING,\n    start: \"\",\n    end: null,\n    meetingLink: \"\",\n    isAllDay: false,\n    priority: \"medium\",\n    description: \"\",\n  });\n\n\n  useEffect(() => {\n    if (defaultStart && open) {\n      setForm(prev => ({\n        ...prev,\n        start: defaultStart,\n      }));\n    }\n  }, [defaultStart, open]);\n\n  if (!open) return null;\n\n\n  const handleInputChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n  ) => {\n\n    const { name, value } = e.target;\n    setForm(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleCheckboxChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, checked } = e.target;\n    setForm(prev => ({ ...prev, [name]: checked }));\n  };\n\n  const handleSelectChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    setForm(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleSubmit = async() => {\n    setIsLoading(true)\n    try {\n         if (!form.title || !form.start){\n      return toast.info(\"Please fill all required fill  properly\")\n    };\n\n    const result  = await EventService.create(form)\n    if(result.status === 200){\n\n    toast.success(\"Event created successfully\")\n    await getAllEvent()\n    onClose();\n    setForm({\n    title: \"\",\n    eventType: EventType.MEETING,\n    start: \"\",\n    meetingLink: \"\",\n    end: null,\n    isAllDay: false,\n    priority: \"medium\",\n    description: \"\",\n  \n    })\n    setErr(\"\")\n    \n    }\n    \n        \n    } catch (error) {\n        process.env.NEXT_PUBLIC_ENV === \"development\" && console.error(error);\n      if (axios.isAxiosError(error)) {\n        const messages = extractErrorMessages(error);\n        setErr(messages);\n        toast.error(`${messages}`);\n      } else {\n        setErr([\"Something went wrong\"]);\n      }\n        \n    } finally{\n        setIsLoading(false)\n    }\n   \n  };\n\n\n  return (\n    <div className=\"fixed inset-0 z-150 flex items-center justify-center bg-black/50 backdrop-blur-sm\">\n      <div className=\"w-full max-w-2xl rounded-xl bg-white dark:bg-gray-900 shadow-xl\">\n    \n        <div className=\"flex items-center justify-between px-6 py-4 border-b dark:border-gray-700\">\n          <div>\n            <h2 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\n              Create Event\n            </h2>\n            <p className=\"text-sm text-gray-500\">\n              Schedule meeting, call or reminder\n            </p>\n          </div>\n\n          <button\n            onClick={onClose}\n            className=\"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-text-500 cursor-pointer hover:rotate-90\"\n          >\n            <X className=\"w-5 h-5 text-gray-500\" />\n          </button>\n        </div>\n\n\n        <div className=\"px-6 py-5 grid grid-cols-2 gap-4 \">\n          <Input\n            label=\"Event title\"\n            name=\"title\"\n            placeholder=\"Enter event title\"\n            value={form.title}\n            onChange={handleInputChange}\n            required\n          />\n\n          <Select\n            label=\"Event type\"\n            name=\"eventType\"\n            value={form.eventType}\n            onChange={handleSelectChange}\n            options={[\n              { label: \"Meeting\", value: \"meeting\" },\n              { label: \"todo\", value: \"todo\" },\n              { label: \"note\", value: \"note\" },\n              { label: \"task\", value: \"task\" },\n              { label: \"reminder\", value: \"reminder\"}\n            ]}\n          />\n\n          <div className=\"grid grid-cols-2 gap-4 col-span-2\">\n            <Input\n              label=\"Start date & time\"\n              type=\"datetime-local\"\n              name=\"start\"\n              value={form.start}\n              onChange={handleInputChange}\n              required\n            />\n\n            {!form.isAllDay && (\n              <Input\n                label=\"End date & time\"\n                type=\"datetime-local\"\n                name=\"end\"\n                value={form.end ?? \"\"}\n                onChange={handleInputChange}\n              />\n            )}\n          </div>\n          \n          <label className=\"flex items-center gap-3 text-sm text-gray-700 dark:text-gray-300 \">\n            <input\n              type=\"checkbox\"\n              name=\"isAllDay\"\n              checked={form.isAllDay}\n              onChange={handleCheckboxChange}\n              className=\"h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-500\"\n            />\n            All day event\n          </label>\n\n          <Select\n            label=\"Priority\"\n            name=\"priority\"\n            value={form.priority}\n            onChange={handleSelectChange}\n            options={[\n              { label: \"Low\", value: \"low\" },\n              { label: \"Medium\", value: \"medium\" },\n              { label: \"High\", value: \"high\" },\n            ]}\n          />\n           {form.eventType === EventType.MEETING &&<div className=\"col-span-2\">\n         <Input\n          label=\"Meeting Link\"\n          name=\"meetingLink\"\n          type=\"url\"\n          value={form.meetingLink ?? \"\"}\n          onChange={handleSelectChange}\n          placeholder=\"https://meet.google.com/abc-defg-hij\"\n          className=\"col-span-2\"\n          />\n          </div>}\n          \n          <div className=\"col-span-2\">\n          <Input\n            label=\"Description\"\n            type=\"textarea\"\n            name=\"description\"\n            placeholder=\"Optional notes about this event\"\n            value={form.description}\n            \n            onChange={handleInputChange}\n          />\n          </div>\n        </div>\n        {err && <ErrorComponent error={err}/>}\n\n        <div className=\"flex justify-end gap-3 px-6 py-4 border-t dark:border-gray-700\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 cursor-pointer rounded-md text-sm font-medium bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleSubmit}\n            disabled={form.title === \"\" || form.start === \"\" }\n            className=\"px-5 py-2 rounded-md text-sm font-medium cursor-hover disabled:cursor-not-allowed bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300  text-white \"\n          >\n           {isLoading ? \"Creating...\" : \"Create Event\"} \n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateEventModal;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 702, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/components/pages/calender/ViewEventPopup.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { EventInput } from \"@fullcalendar/core\";\nimport { usePermissions } from \"@/src/hooks/usePermissions\";\nimport { PERMISSIONS, PRIORITY } from \"@/src/constants/enum\";\n\ninterface ViewEventPopupProps {\n  open: boolean;\n  event: EventInput | null;\n  onClose: () => void;\n  onDelete: (id: string, title: string) => void;\n  onEdit?: () => void;\n}\n\nconst ViewEventPopup: React.FC<ViewEventPopupProps> = ({\n  open,\n  event,\n  onClose,\n  onDelete,\n  onEdit,\n}) => {\n  const { hasPermission } = usePermissions();\n\n  if (!open || !event) return null;\n\n  // Fixed date formatting function with proper type handling\n  const formatDateTime = (date: any): string => {\n    if (!date) return \"N/A\";\n    \n    let d: Date;\n    if (date instanceof Date) {\n      d = date;\n    } else if (typeof date === 'string') {\n      d = new Date(date);\n    } else if (typeof date === 'number') {\n      d = new Date(date);\n    } else {\n      return \"N/A\";\n    }\n    \n    return d.toLocaleString(\"en-US\", {\n      weekday: \"short\",\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  };\n\n  const formatDate = (date: any): string => {\n    if (!date) return \"N/A\";\n    \n    let d: Date;\n    if (date instanceof Date) {\n      d = date;\n    } else if (typeof date === 'string') {\n      d = new Date(date);\n    } else if (typeof date === 'number') {\n      d = new Date(date);\n    } else {\n      return \"N/A\";\n    }\n    \n    return d.toLocaleDateString(\"en-US\", {\n      weekday: \"short\",\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n    });\n  };\n\n  const formatTime = (date: any): string => {\n    if (!date) return \"\";\n    \n    let d: Date;\n    if (date instanceof Date) {\n      d = date;\n    } else if (typeof date === 'string') {\n      d = new Date(date);\n    } else if (typeof date === 'number') {\n      d = new Date(date);\n    } else {\n      return \"\";\n    }\n    \n    return d.toLocaleTimeString(\"en-US\", {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  };\n\n  const getPriorityConfig = (priority: string) => {\n    switch (priority) {\n      case \"high\":\n        return {\n          bg: \"bg-gradient-to-r from-red-50 to-red-100 dark:from-red-950/40 dark:to-red-900/40\",\n          text: \"text-red-700 dark:text-red-300\",\n          badge: \"bg-red-500 dark:bg-red-600\",\n          icon: \"üî¥\",\n        };\n      case \"medium\":\n        return {\n          bg: \"bg-gradient-to-r from-yellow-50 to-yellow-100 dark:from-yellow-950/40 dark:to-yellow-900/40\",\n          text: \"text-yellow-700 dark:text-yellow-300\",\n          badge: \"bg-yellow-500 dark:bg-yellow-600\",\n          icon: \"üü°\",\n        };\n      case \"low\":\n        return {\n          bg: \"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-950/40 dark:to-green-900/40\",\n          text: \"text-green-700 dark:text-green-300\",\n          badge: \"bg-green-500 dark:bg-green-600\",\n          icon: \"üü¢\",\n        };\n      default:\n        return {\n          bg: \"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700\",\n          text: \"text-gray-700 dark:text-gray-300\",\n          badge: \"bg-gray-500 dark:bg-gray-600\",\n          icon: \"‚ö™\",\n        };\n    }\n  };\n\n  const getEventTypeIcon = (type: string) => {\n    switch (type?.toLowerCase()) {\n      case \"meeting\":\n        return \"üë•\";\n      case \"task\":\n        return \"‚úÖ\";\n      case \"reminder\":\n        return \"‚è∞\";\n      case \"personal\":\n        return \"üè†\";\n      default:\n        return \"üìÖ\";\n    }\n  };\n\n  const priority = event.extendedProps?.priority || \"medium\";\n  const priorityConfig = getPriorityConfig(priority);\n  const eventTypeIcon = getEventTypeIcon(event.extendedProps?.eventType);\n\n  return (\n    <div \n      className=\"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm bg-black/40 animate-fadeIn\"\n      onClick={onClose}\n    >\n      <div \n        className=\"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden m-4 transform transition-all animate-slideUp\"\n        onClick={(e) => e.stopPropagation()}\n      >\n\n        <div className=\"relative bg-gradient-to-r from-blue-600 via-blue-500 to-teal-600 dark:from-blue-700 dark:via-blue-600 dark:to-purple-700 px-8 py-6\">\n          <div className=\"flex items-start justify-between\">\n            <div className=\"flex-1 pr-4\">\n              <div className=\"flex items-center gap-3 mb-2\">\n                <span className=\"text-3xl\">{eventTypeIcon}</span>\n                <h2 className=\"text-3xl font-bold text-white drop-shadow-lg\">\n                  {event.title}\n                </h2>\n              </div>\n              <div className=\"flex items-center gap-2 flex-wrap\">\n                <span className=\"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-semibold bg-white/20 backdrop-blur-sm text-white border border-white/30\">\n                  {event.extendedProps?.eventType?.replace('_', ' ') || \"Event\"}\n                </span>\n                {event.allDay && (\n                  <span className=\"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-semibold bg-white/20 backdrop-blur-sm text-white border border-white/30\">\n                    üåÖ All Day\n                  </span>\n                )}\n              </div>\n            </div>\n            <button\n              onClick={onClose}\n              className=\"flex-shrink-0 w-10 h-10 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 backdrop-blur-sm transition-all duration-200 text-white border border-white/30 hover:rotate-90 cursor-pointer\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"px-8 py-6 space-y-6 overflow-y-auto max-h-[calc(90vh-220px)]\">\n          \n\n          <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 rounded-xl p-5 border border-blue-200 dark:border-blue-800\">\n            <div className=\"flex items-start gap-4\">\n              <div className=\"flex-shrink-0 w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center\">\n                <svg className=\"w-6 h-6 text-blue-600 dark:text-blue-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                </svg>\n              </div>\n              <div className=\"flex-1\">\n                <h3 className=\"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2\">\n                  {event.allDay ? \"üìÖ Date\" : \"üïê Schedule\"}\n                </h3>\n                {event.allDay ? (\n                  <div className=\"space-y-1\">\n                    <p className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\n                      {formatDate(event.start)}\n                    </p>\n                    {event.end && (\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                        to {formatDate(event.end)}\n                      </p>\n                    )}\n                  </div>\n                ) : (\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400 font-medium mb-1\">Start</p>\n                      <p className=\"text-base font-semibold text-gray-900 dark:text-gray-100\">\n                        {formatDate(event.start)}\n                      </p>\n                      <p className=\"text-lg font-bold text-blue-600 dark:text-blue-400\">\n                        {formatTime(event.start)}\n                      </p>\n                    </div>\n                    {event.end && (\n                      <div>\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 font-medium mb-1\">End</p>\n                        <p className=\"text-base font-semibold text-gray-900 dark:text-gray-100\">\n                          {formatDate(event.end)}\n                        </p>\n                        <p className=\"text-lg font-bold text-purple-600 dark:text-purple-400\">\n                          {formatTime(event.end)}\n                        </p>\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n\n          <div className={`${priorityConfig.bg} ${(priority === PRIORITY.HIGH) ? \"border-red-500\" : (priority === PRIORITY.MEDIUM) ? \"border-yellow-500\" : (priority === PRIORITY.LOW) ? \"border-green-500\" : \"border-gray-500\" } rounded-xl p-5 border border-opacity-50`}>\n            <div className=\"flex items-center gap-4\">\n              <div className=\"flex-shrink-0 w-12 h-12 rounded-full bg-white/50 dark:bg-black/20 flex items-center justify-center\">\n                <span className=\"text-2xl\">{priorityConfig.icon}</span>\n              </div>\n              <div className=\"flex-1\">\n                <h3 className=\"text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wide mb-1\">\n                  Priority Level\n                </h3>\n                <div className=\"flex items-center gap-2\">\n                  <span className={`text-xl font-bold ${priorityConfig.text} capitalize`}>\n                    {priority}\n                  </span>\n                  <div className={`h-2 w-24 ${priorityConfig.badge} rounded-full opacity-60`}></div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Description */}\n          {event.extendedProps?.description && (\n            <div className=\"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-5 border border-gray-200 dark:border-gray-700\">\n              <div className=\"flex items-start gap-4\">\n                <div className=\"flex-shrink-0 w-12 h-12 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center\">\n                  <svg className=\"w-6 h-6 text-gray-600 dark:text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                  </svg>\n                </div>\n                <div className=\"flex-1\">\n                  <h3 className=\"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2\">\n                    üìù Description\n                  </h3>\n                  <p className=\"text-base leading-relaxed text-gray-700 dark:text-gray-300 whitespace-pre-wrap\">\n                    {event.extendedProps.description}\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Meeting Link */}\n          {event.extendedProps?.meetingLink && (\n            <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 rounded-xl p-5 border border-green-200 dark:border-green-800\">\n              <div className=\"flex items-start gap-4\">\n                <div className=\"flex-shrink-0 w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/50 flex items-center justify-center\">\n                  <svg className=\"w-6 h-6 text-green-600 dark:text-green-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n                  </svg>\n                </div>\n                <div className=\"flex-1\">\n                  <h3 className=\"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2\">\n                    üîó Meeting Link\n                  </h3>\n                  <a\n                    href={event.extendedProps.meetingLink}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"inline-flex items-center gap-2 text-base font-medium text-green-700 dark:text-green-300 hover:text-green-800 dark:hover:text-green-200 underline decoration-2 underline-offset-4 break-all transition-colors\"\n                  >\n                    <span>Join Meeting</span>\n                    <svg className=\"w-4 h-4 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n                    </svg>\n                  </a>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Action Buttons */}\n        <div className=\"px-8 py-5 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50\">\n          <div className=\"flex items-center justify-between gap-4\">\n            <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n              Event ID: {event.id}\n            </div>\n            <div className=\"flex gap-3\">\n              {onEdit && hasPermission(PERMISSIONS.updateEvent) && (\n                <button\n                  onClick={onEdit}\n                  className=\"px-5 py-2.5 text-sm font-semibold text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/30  rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/50 focus:outline-none focus:ring-4 focus:ring-blue-200  transition-all duration-200 flex items-center gap-2  cursor-pointer\"\n                >\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                  </svg>\n                  Edit Event\n                </button>\n              )}\n              {hasPermission(PERMISSIONS.deleteEvent) && (\n                <button\n                  onClick={() => onDelete(event.id as string, event.title as string)}\n                  className=\"px-5 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-red-600 to-red-700 rounded-lg hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 dark:focus:ring-red-800 transition-all duration-200 flex items-center gap-2 shadow-md hover:shadow-lg cursor-pointer\"\n                >\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                  </svg>\n                  Delete\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <style jsx>{`\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n          }\n          to {\n            opacity: 1;\n          }\n        }\n\n        @keyframes slideUp {\n          from {\n            opacity: 0;\n            transform: translateY(20px) scale(0.95);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0) scale(1);\n          }\n        }\n\n        .animate-fadeIn {\n          animation: fadeIn 0.2s ease-out;\n        }\n\n        .animate-slideUp {\n          animation: slideUp 0.3s ease-out;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default ViewEventPopup;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1474, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/components/pages/calender/UpdateEventPopup.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { EventType } from \"@/src/constants/enum\";\nimport { CalendarEventPayload } from \"@/src/types/calenders/calender.types\";\nimport { EventService } from \"@/src/services/event.service\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport extractErrorMessages from \"@/src/app/utils/error.utils\";\nimport { EventInput } from \"@fullcalendar/core\";\n\ninterface UpdateEventModalProps {\n  open: boolean;\n  event: EventInput | null;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\nconst UpdateEventModal: React.FC<UpdateEventModalProps> = ({\n  open,\n  event,\n  onClose,\n  onSuccess,\n}) => {\n  const [formData, setFormData] = useState<CalendarEventPayload>({\n    title: \"\",\n    description: \"\",\n    eventType: EventType.MEETING,\n    meetingLink: null,\n    start: \"\",\n    end: null,\n    isAllDay: false,\n    priority: \"medium\",\n  });\n\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState<Record<string, string>>({});\n\n  // Populate form when event changes\n  useEffect(() => {\n    if (event && open) {\n      const startDate = event.start instanceof Date ? event.start : new Date(event.start as string);\n      const endDate = event.end ? (event.end instanceof Date ? event.end : new Date(event.end as string)) : null;\n\n      setFormData({\n        title: event.title || \"\",\n        description: event.extendedProps?.description || \"\",\n        eventType: event.extendedProps?.eventType || EventType.MEETING,\n        meetingLink: event.extendedProps?.meetingLink || null,\n        start: formatDateTimeLocal(startDate),\n        end: endDate ? formatDateTimeLocal(endDate) : null,\n        isAllDay: event.allDay || false,\n        priority: event.extendedProps?.priority || \"medium\",\n      });\n      setErrors({});\n    }\n  }, [event, open]);\n\n  const formatDateTimeLocal = (date: Date): string => {\n    const pad = (n: number) => n.toString().padStart(2, \"0\");\n    return (\n      date.getFullYear() +\n      \"-\" +\n      pad(date.getMonth() + 1) +\n      \"-\" +\n      pad(date.getDate()) +\n      \"T\" +\n      pad(date.getHours()) +\n      \":\" +\n      pad(date.getMinutes())\n    );\n  };\n\n  const handleChange = (field: keyof CalendarEventPayload, value: any) => {\n    setFormData((prev) => ({\n      ...prev,\n      [field]: value,\n    }));\n    \n    // Clear error for this field\n    if (errors[field]) {\n      setErrors((prev) => {\n        const newErrors = { ...prev };\n        delete newErrors[field];\n        return newErrors;\n      });\n    }\n  };\n\n  const validateForm = (): boolean => {\n    const newErrors: Record<string, string> = {};\n\n    if (!formData.title.trim()) {\n      newErrors.title = \"Title is required\";\n    }\n\n    if (!formData.start) {\n      newErrors.start = \"Start date/time is required\";\n    }\n\n    if (formData.end && formData.start) {\n      const startDate = new Date(formData.start);\n      const endDate = new Date(formData.end);\n      \n      if (endDate <= startDate) {\n        newErrors.end = \"End date/time must be after start date/time\";\n      }\n    }\n\n    if (formData.eventType === EventType.MEETING && formData.meetingLink && formData.meetingLink.trim()) {\n      try {\n        new URL(formData.meetingLink);\n      } catch {\n        newErrors.meetingLink = \"Please enter a valid URL\";\n      }\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!validateForm()) {\n      toast.error(\"Please fix the errors before submitting\");\n      return;\n    }\n\n    if (!event?.id) {\n      toast.error(\"Event ID not found\");\n      return;\n    }\n\n    setLoading(true);\n    try {\n      // Prepare payload\n      const payload: CalendarEventPayload & { id: string } = {\n        ...formData,\n        id: event.id as string,\n        description: formData.description || \"\",\n        meetingLink: formData.meetingLink?.trim() || null,\n        end: formData.isAllDay ? null : (formData.end || null),\n      };\n\n      const result = await EventService.update(payload);\n\n      if (result.status === 200) {\n        toast.success(\"Event updated successfully\");\n        onSuccess();\n        handleClose();\n      }\n    } catch (error) {\n      console.error(\"Update event error:\", error);\n      if (axios.isAxiosError(error)) {\n        const messages = extractErrorMessages(error);\n        toast.error(Array.isArray(messages) ? messages[0] : messages);\n      } else {\n        toast.error(\"Failed to update event\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleClose = () => {\n    setFormData({\n      title: \"\",\n      description: \"\",\n      eventType: EventType.MEETING,\n      meetingLink: null,\n      start: \"\",\n      end: null,\n      isAllDay: false,\n      priority: \"medium\",\n    });\n    setErrors({});\n    onClose();\n  };\n\n  if (!open) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-150 flex items-center justify-center bg-black/20 backdrop-blur-md bg-opacity-50\">\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto m-4\">\n        {/* Header */}\n        <div className=\"px-6 py-4 border-b border-gray-200 dark:border-gray-700\">\n          <h2 className=\"text-2xl font-semibold text-gray-800 dark:text-gray-100\">\n            Update Event\n          </h2>\n        </div>\n\n\n        <form onSubmit={handleSubmit} className=\"px-6 py-4\">\n          <div className=\"space-y-4 grid grid-cols-2 gap-5\">\n\n            <div>\n              <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Event Title <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                id=\"title\"\n                type=\"text\"\n                value={formData.title}\n                onChange={(e) => handleChange(\"title\", e.target.value)}\n                placeholder=\"Enter event title\"\n                className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white ${\n                  errors.title ? \"border-red-500\" : \"border-gray-300 dark:border-gray-600\"\n                }`}\n              />\n              {errors.title && (\n                <p className=\"text-sm text-red-500 mt-1\">{errors.title}</p>\n              )}\n            </div>\n\n            \n            <div>\n              <label htmlFor=\"eventType\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Event Type\n              </label>\n              <select\n                id=\"eventType\"\n                value={formData.eventType}\n                onChange={(e) => handleChange(\"eventType\", e.target.value as EventType)}\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\n              >\n                {Object.values(EventType).map((type) => (\n                  <option key={type} value={type}>\n                    {type.charAt(0).toUpperCase() + type.slice(1).toLowerCase().replace('_', ' ')}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n\n            {formData.eventType === EventType.MEETING && (\n              <div>\n                <label htmlFor=\"meetingLink\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                  Meeting Link\n                </label>\n                <input\n                  id=\"meetingLink\"\n                  type=\"url\"\n                  value={formData.meetingLink || \"\"}\n                  onChange={(e) => handleChange(\"meetingLink\", e.target.value)}\n                  placeholder=\"https://meet.google.com/xxx-xxxx-xxx\"\n                  className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white ${\n                    errors.meetingLink ? \"border-red-500\" : \"border-gray-300 dark:border-gray-600\"\n                  }`}\n                />\n                {errors.meetingLink && (\n                  <p className=\"text-sm text-red-500 mt-1\">{errors.meetingLink}</p>\n                )}\n              </div>\n            )}\n\n\n            <div>\n              <label htmlFor=\"priority\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Priority\n              </label>\n              <select\n                id=\"priority\"\n                value={formData.priority}\n                onChange={(e) => handleChange(\"priority\", e.target.value as \"low\" | \"medium\" | \"high\")}\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\n              >\n                <option value=\"low\">Low</option>\n                <option value=\"medium\">Medium</option>\n                <option value=\"high\">High</option>\n              </select>\n            </div>\n\n            \n\n\n            <div>\n              <label htmlFor=\"start\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Start {formData.isAllDay ? \"Date\" : \"Date & Time\"} <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                id=\"start\"\n                type={formData.isAllDay ? \"date\" : \"datetime-local\"}\n                value={formData.isAllDay ? formData.start.split(\"T\")[0] : formData.start}\n                onChange={(e) => handleChange(\"start\", e.target.value)}\n                className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white ${\n                  errors.start ? \"border-red-500\" : \"border-gray-300 dark:border-gray-600\"\n                }`}\n              />\n              {errors.start && (\n                <p className=\"text-sm text-red-500 mt-1\">{errors.start}</p>\n              )}\n            </div>\n\n\n            {!formData.isAllDay && (\n              <div>\n                <label htmlFor=\"end\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                  End Date & Time\n                </label>\n                <input\n                  id=\"end\"\n                  type=\"datetime-local\"\n                  value={formData.end || \"\"}\n                  onChange={(e) => handleChange(\"end\", e.target.value || null)}\n                  className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white ${\n                    errors.end ? \"border-red-500\" : \"border-gray-300 dark:border-gray-600\"\n                  }`}\n                />\n                {errors.end && (\n                  <p className=\"text-sm text-red-500 mt-1\">{errors.end}</p>\n                )}\n              </div>\n            )}\n          </div>\n\n            \n          <div>\n              <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Description\n              </label>\n              <textarea\n                id=\"description\"\n                value={formData.description}\n                onChange={(e) => handleChange(\"description\", e.target.value)}\n                placeholder=\"Enter event description (optional)\"\n                rows={3}\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white\"\n              />\n            </div>\n\n            <div className=\"flex items-center mt-2 mb-4\">\n              <input\n                type=\"checkbox\"\n                id=\"isAllDay\"\n                checked={formData.isAllDay}\n                onChange={(e) => handleChange(\"isAllDay\", e.target.checked)}\n                className=\"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n              />\n              <label htmlFor=\"isAllDay\" className=\"ml-2 text-sm font-medium text-gray-700 dark:text-gray-300 cursor-pointer\">\n                All Day Event\n              </label>\n            </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-700\">\n            <button\n              type=\"button\"\n              onClick={handleClose}\n              disabled={loading}\n              className=\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 flex items-center\"\n            >\n              {loading ? (\n                <>\n                  <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                  Updating...\n                </>\n              ) : (\n                \"Update Event\"\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default UpdateEventModal;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2062, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/Xonier%20CRM/xonier-crm-frontend/src/app/%28dashboard%29/calender/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { JSX, useEffect, useRef, useState } from \"react\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport { SIDEBAR_WIDTH } from \"@/src/constants/constants\";\nimport CreateEventModal from \"@/src/components/pages/calender/CreateEventPopup\";\nimport { CalendarEvent } from \"@/src/types/calenders/calender.types\";\nimport axios from \"axios\";\nimport { EventInput } from \"@fullcalendar/core\";\nimport { toast } from \"react-toastify\";\n\nimport extractErrorMessages from \"../../utils/error.utils\";\nimport { EventService } from \"@/src/services/event.service\";\nimport ViewEventPopup from \"@/src/components/pages/calender/ViewEventPopup\";\nimport { ParamValue } from \"next/dist/server/request/params\";\nimport ConfirmPopup from \"@/src/components/ui/ConfirmPopup\";\nimport { usePermissions } from \"@/src/hooks/usePermissions\";\nimport { PERMISSIONS } from \"@/src/constants/enum\";\nimport UpdateEventModal from \"@/src/components/pages/calender/UpdateEventPopup\";\n\nconst Page = (): JSX.Element => {\n  const [openModal, setOpenModal] = useState(false);\n  const [selectedDate, setSelectedDate] = useState<string | null>(null);\n  const [err, setErr] = useState<string | string[]>(\"\");\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [eventData, setEventData] = useState<EventInput[]>([]);\n  const [selectedEvent, setSelectedEvent] = useState<EventInput | null>(null);\n  const [openViewModal, setOpenViewModal] = useState(false);\n  const [openUpdateModal, setOpenUpdateModal] = useState(false);\n\n  const { hasPermission } = usePermissions();\n\n  const openCreateEventModal = (dateStr: string) => {\n    setSelectedDate(dateStr);\n    setOpenModal(true);\n  };\n\n  const getAllEvent = async () => {\n    setIsLoading(true);\n    try {\n      const result = await EventService.getAll();\n\n      if (result.status === 200) {\n        const mapped = mapToCalendarEvents(result.data.data);\n        setEventData(mapped);\n      }\n    } catch (error) {\n      if (axios.isAxiosError(error)) {\n        setErr(extractErrorMessages(error));\n      } else {\n        setErr([\"Something went wrong\"]);\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const mapToCalendarEvents = (events: CalendarEvent[]): EventInput[] => {\n    return events.map((event) => ({\n      id: event.id,\n      title: event.title,\n      start: event.start,\n      end: event.end ?? undefined,\n      allDay: event.isAllDay,\n      extendedProps: {\n        description: event.description,\n        priority: event.priority,\n        eventType: event.eventType,\n        meetingLink: event.meetingLink,\n      },\n    }));\n  };\n\n  const handleEventClick = (info: any) => {\n    setSelectedEvent({\n      id: info.event.id,\n      title: info.event.title,\n      start: info.event.start,\n      end: info.event.end,\n      allDay: info.event.allDay,\n      extendedProps: info.event.extendedProps,\n    });\n\n    setOpenViewModal(true);\n  };\n\n  const handleCreateEvent = (data: any) => {\n    console.log(\"Submit to API:\", data);\n  };\n\n  const lastClickRef = useRef<number | null>(null);\n\n  function toDateTimeLocal(date: Date) {\n    const pad = (n: number) => n.toString().padStart(2, \"0\");\n\n    return (\n      date.getFullYear() +\n      \"-\" +\n      pad(date.getMonth() + 1) +\n      \"-\" +\n      pad(date.getDate()) +\n      \"T\" +\n      pad(date.getHours()) +\n      \":\" +\n      pad(date.getMinutes())\n    );\n  }\n\n  const handleDateClick = (info: any) => {\n    const now = Date.now();\n\n    if (lastClickRef.current && now - lastClickRef.current < 300) {\n      if (!hasPermission(PERMISSIONS.createEvent)) {\n        toast.info(\"You not have permission to create event\");\n        return;\n      }\n      const formatted = toDateTimeLocal(info.date);\n      openCreateEventModal(formatted);\n    }\n\n    lastClickRef.current = now;\n  };\n\n  useEffect(() => {\n    getAllEvent();\n  }, []);\n\n  const handleDelete = async (id: string, title: string) => {\n    setLoading(true);\n    try {\n      if (!id) {\n        toast.info(`Event id not found`);\n        return;\n      }\n\n      const isConfirm = await ConfirmPopup({\n        title: \"Are you sure\",\n        text: `Are you want to delete ${title} event!`,\n        btnTxt: \"Yes, Delete\",\n      });\n      if (isConfirm) {\n        const result = await EventService.delete(id);\n        setOpenViewModal(false);\n        if (result.status === 200) {\n          toast.success(\"Event deleted successfully\");\n          await getAllEvent();\n        }\n      }\n    } catch (error) {\n      process.env.NEXT_PUBLIC_ENV === \"development\" && console.error(error);\n      if (axios.isAxiosError(error)) {\n        const messages = extractErrorMessages(error);\n        setErr(messages);\n        toast.error(`${messages}`);\n      } else {\n        setErr([\"Something went wrong\"]);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEditClick = () => {\n    if (!hasPermission(PERMISSIONS.updateEvent)) {\n      toast.info(\"You do not have permission to update events\");\n      return;\n    }\n    setOpenViewModal(false);\n    setOpenUpdateModal(true);\n  };\n\n  const handleUpdateSuccess = () => {\n    getAllEvent();\n  };\n\n  return (\n    <>\n      <CreateEventModal\n        open={openModal}\n        defaultStart={selectedDate}\n        onClose={() => setOpenModal(false)}\n        onSubmit={handleCreateEvent}\n        getAllEvent={getAllEvent}\n      />\n      \n      <UpdateEventModal\n        open={openUpdateModal}\n        event={selectedEvent}\n        onClose={() => setOpenUpdateModal(false)}\n        onSuccess={handleUpdateSuccess}\n      />\n\n      <div className=\"mt-14 ml-72 p-6 transition-all\">\n        <div className=\"mb-6\">\n          <h1 className=\"text-2xl font-semibold text-gray-800 dark:text-gray-100\">\n            Calendar\n          </h1>\n          <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n            Manage meetings, events and schedules\n          </p>\n        </div>\n\n        <ViewEventPopup\n          open={openViewModal}\n          event={selectedEvent}\n          onClose={() => setOpenViewModal(false)}\n          onDelete={handleDelete}\n          onEdit={handleEditClick}\n        />\n\n        <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-5\">\n          <FullCalendar\n            plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\n            initialView=\"dayGridMonth\"\n            events={eventData}\n            height=\"75vh\"\n            selectable\n            editable\n            nowIndicator\n            dateClick={handleDateClick}\n            headerToolbar={{\n              left: \"prev,next today\",\n              center: \"title\",\n              right: \"dayGridMonth,timeGridWeek,timeGridDay\",\n            }}\n            eventClick={handleEventClick}\n            buttonText={{\n              today: \"Today\",\n              month: \"Month\",\n              week: \"Week\",\n              day: \"Day\",\n            }}\n            dayMaxEvents={3}\n            eventColor=\"#2563eb\"\n            eventTextColor=\"#ffffff\"\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Page;"],"names":[],"mappings":"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"}}]
}