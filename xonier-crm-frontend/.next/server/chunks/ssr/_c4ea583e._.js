module.exports=[49909,a=>{"use strict";a.s(["default",0,a=>{let b=a?.response?.data;return b?Array.isArray(b.detail)?b.detail.map(a=>a.msg||"Invalid input"):"string"==typeof b.detail?[b.detail]:"string"==typeof b.message?[b.message]:["Unexpected error occurred"]:["Something went wrong"]}])},94988,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(71682);a.s(["default",0,({label:a,error:e,type:f="text",className:g="",required:h=!1,...i})=>{let[j,k]=(0,c.useState)(!1),l="password"===f,m="textarea"===f,n=`
    w-full px-3 py-2 rounded-md border
    bg-white dark:bg-gray-700 text-black dark:text-white
    border-gray-300 dark:border-gray-300/30
    disabled:opacity-60 disabled:cursor-not-allowed
    focus:outline-none focus:ring-2 focus:ring-violet-500
    ${e?"border-red-500 focus:ring-red-500":""}
    ${g}
  `;return(0,b.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[a&&(0,b.jsxs)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 capitalize",children:[h&&(0,b.jsx)("span",{className:"text-red-500 text-xl",children:"*"})," ",a]}),(0,b.jsxs)("div",{className:"relative",children:[m?(0,b.jsx)("textarea",{required:h,className:`${n} resize-none`,rows:5,...i}):(0,b.jsx)("input",{type:l&&j?"text":f,required:h,className:n,...i}),l&&(0,b.jsx)("button",{type:"button",onClick:()=>k(a=>!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:hover:text-blue-500",children:j?(0,b.jsx)(d.FaEyeSlash,{}):(0,b.jsx)(d.FaEye,{})})]}),e&&(0,b.jsx)("span",{className:"text-sm text-red-500",children:e})]})}])},82353,a=>{"use strict";var b=a.i(87924),c=a.i(46271),d=a.i(62036);a.s(["default",0,({error:a})=>{if(!a||Array.isArray(a)&&0===a.length)return null;let e=Array.isArray(a)?a:[a];return(0,b.jsx)(d.AnimatePresence,{children:(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.25,ease:"easeOut"},className:"w-full relative rounded-md border border-red-500/50 bg-red-50 dark:bg-red-950  px-4 py-3 text-red-500 dark:text-red-400 ",children:(0,b.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:e.map((a,c)=>(0,b.jsx)("li",{children:a},c))})})})}])},99327,a=>{"use strict";var b=a.i(28337);a.s(["TeamService",0,{create:a=>b.default.post("/team/create",a),getAll:a=>b.default.get(`/team/all?${a.page&&`page=${a.page}`}${a.limit&&`&limit=${a.limit}`}`),getById:a=>b.default.get(`/team/get-by-id/${a}`),update:(a,c)=>b.default.put(`/team/update/${a}`,c),delete:a=>b.default.delete(`/team/delete/${a}`)}])},70106,a=>{"use strict";var b=a.i(72131);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],70106)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},42068,a=>{"use strict";var b=a.i(87924),c=a.i(46271),d=a.i(62036),e=a.i(16201);a.s(["default",0,({message:a})=>a?(0,b.jsx)(d.AnimatePresence,{children:(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.25,ease:"easeOut"},className:"w-full relative rounded-md border border-green-500/50 bg-green-50 dark:bg-green-950  px-4 py-3 text-green-700 dark:text-green-400 shadow-sm",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(e.CheckCircle,{className:"mt-0.5 text-green-600 dark:text-green-400",size:18}),(0,b.jsx)("p",{children:a})]})})}):null])},42354,a=>{"use strict";var b=a.i(28337);a.s(["TeamCategoryService",0,{create:a=>b.default.post("/team-category/create",a),getAll:a=>b.default.get(`/team-category/all?${a.page&&`page=${a.page}`}${a.limit&&`&limit=${a.limit}`}`),getAllWithoutPagination:()=>b.default.get("/team-category/get-all-without-pagination"),delete:a=>b.default.delete(`/team-category/delete/${a}`)}])},38830,a=>{"use strict";var b=a.i(87924),c=a.i(49909),d=a.i(64093),e=a.i(61914),f=a.i(99327),g=a.i(42354),h=a.i(83490),i=a.i(72131),j=a.i(20094),k=a.i(94988),l=a.i(96407),m=a.i(50944),n=a.i(82353),o=a.i(42068),p=a.i(60239),q=a.i(97168);a.s(["default",0,()=>{let[a,r]=(0,i.useState)(!1),[s,t]=(0,i.useState)(""),[u,v]=(0,i.useState)(!1),[w,x]=(0,i.useState)(null),[y,z]=(0,i.useState)([]),[A,B]=(0,i.useState)([]),[C,D]=(0,i.useState)({name:"",description:"",category:"",isActive:!1,manager:[],members:[]}),[E,F]=(0,i.useState)(""),{hasPermission:G}=(0,d.usePermissions)(),{id:H}=(0,m.useParams)(),I=async a=>{v(!0);try{let b=await f.TeamService.getById(a);200===b.status&&x(b.data.data)}catch(a){if(console.error(a),h.default.isAxiosError(a)){let b=(0,c.default)(a);t(b),j.toast.error(`${b}`)}else t(["Something went wrong"])}finally{v(!1)}},J=async()=>{try{let a=await e.AuthService.getAllActiveWithoutPagination();200===a.status&&B(a.data.data)}catch(a){if(console.error(a),h.default.isAxiosError(a)){let b=(0,c.default)(a);t(b),j.toast.error(`${b}`)}else t(["Something went wrong"])}},K=async()=>{try{let a=await g.TeamCategoryService.getAllWithoutPagination();200===a.status&&z(a.data.data)}catch(a){if(console.error(a),h.default.isAxiosError(a)){let b=(0,c.default)(a);t(b),j.toast.error(`${b}`)}else t(["Something went wrong"])}};(0,i.useEffect)(()=>{K(),J(),H&&I(H)},[]),(0,i.useEffect)(()=>{w&&D({name:w.name,description:w.description||"",category:"string"==typeof w.category?w.category:w.category.id||w.category.id,isActive:w.isActive,manager:w.manager.map(a=>a.id||a.id),members:w.members.map(a=>a.id||a.id)})},[w]);let L=a=>{let{name:b,value:c}=a.target;D(a=>({...a,[b]:c}))},M=async a=>{if(a.preventDefault(),H){v(!0);try{let a=await f.TeamService.update(H,C);200===a.status&&(j.toast.success("Team updated successfully"),F("Team updated successfully"),setTimeout(()=>F(""),3e3))}catch(a){h.default.isAxiosError(a)?t((0,c.default)(a)):t(["Something went wrong"])}finally{v(!1)}}};return(0,b.jsx)("div",{className:"ml-72 mt-14 p-6",children:(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-700 dark:backdrop-blur-sm flex flex-col gap-5 p-6 rounded-xl border-[1px] border-slate-900/10 w-full",children:[(0,b.jsx)("h2",{className:"text-xl font-bold dark:text-white",children:"Update Team"}),s&&(0,b.jsx)(n.default,{error:s}),E&&(0,b.jsx)(o.default,{message:E}),(0,b.jsxs)("form",{onSubmit:M,className:"grid grid-cols-2 gap-4 ",children:[(0,b.jsx)(k.default,{label:"Team Name",name:"name",value:C.name,onChange:L,required:!0}),(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:"Category"}),(0,b.jsxs)("select",{name:"category",value:C.category,onChange:a=>D(b=>({...b,category:a.target.value})),className:" px-3 py-2 rounded-md border border-gray-300 dark:border-gray-300/30",required:!0,children:[(0,b.jsx)("option",{value:"",children:"Select category"}),y.map(a=>(0,b.jsx)("option",{value:a.id||a.id,children:a.name},a.id||a.id))]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Add Manager"}),(0,b.jsxs)("select",{onChange:a=>{if(a.target.value){var b;b=a.target.value,D(a=>a.members.includes(b)?a:{...a,manager:[...a.manager,b]}),a.target.value=""}},className:"bg-white dark:bg-gray-600 px-3 py-2 rounded-md border capitalize",children:[(0,b.jsx)("option",{value:"",children:"Select user"}),A.map(a=>(0,b.jsx)("option",{value:a.id,children:`${a.firstName} ${a.lastName} (${a.userRole.map(a=>a.name)})`},a.id))]}),C.manager.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:C.manager.map(a=>{let c=A.find(b=>b.id===a);return c?(0,b.jsxs)("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-600  px-3 py-1 rounded-full text-sm",children:[c.firstName," ",c.lastName," (",c.userRole.map(a=>a.name),")",(0,b.jsx)("button",{type:"button",onClick:()=>{D(b=>({...b,manager:b.manager.filter(b=>b!==a)}))},className:"hover:text-red-500 cursor-pointer hover:rotate-90 transition-all duration-300",children:(0,b.jsx)(q.FaXmark,{size:14})})]},a):null})})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:"Team Members"}),(0,b.jsxs)("select",{onChange:a=>{if(a.target.value){var b;b=a.target.value,D(a=>a.members.includes(b)?a:{...a,members:[...a.members,b]}),a.target.value=""}},className:" px-3 py-2 rounded-md border border-gray-300 dark:border-gray-300/30",children:[(0,b.jsx)("option",{value:"",children:"Add member"}),A.map(a=>(0,b.jsxs)("option",{value:a.id||a.id,children:[a.firstName," ",a.lastName]},a.id||a.id))]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:C.members.map(a=>{let c=A.find(b=>(b.id||b.id)===a);return c?(0,b.jsxs)("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-600 px-3 py-1 rounded-full text-sm",children:[c.firstName," ",c.lastName,(0,b.jsx)("button",{type:"button",onClick:()=>{D(b=>({...b,members:b.members.filter(b=>b!==a)}))},className:"hover:text-red-500",children:"âœ•"})]},a):null})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:C.isActive,onChange:a=>D(b=>({...b,isActive:a.target.checked}))}),(0,b.jsx)("span",{className:"text-sm dark:text-gray-200",children:"Active"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-1 col-span-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:"Description"}),(0,b.jsx)("textarea",{rows:3,name:"description",value:C.description,onChange:L,className:"rounded-md border border-gray-300 dark:border-gray-300/30 px-3 py-2  "})]}),(0,b.jsx)("div",{className:"flex gap-3 pt-4 col-span-2",children:(0,b.jsx)(l.default,{isLoading:u,disabled:(""===C.name||C.members.length<=0||""===C.category)&&G(p.PERMISSIONS.updateTeam),children:"Update Team"})})]})]})})}])}];

//# sourceMappingURL=_c4ea583e._.js.map