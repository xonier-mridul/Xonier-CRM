module.exports=[42343,a=>{"use strict";var b=a.i(72131),c={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},d=b.default.createContext&&b.default.createContext(c),e=["attr","size","title"];function f(){return(f=Object.assign.bind()).apply(this,arguments)}function g(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function h(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?g(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):g(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function i(a){return c=>b.default.createElement(j,f({attr:h({},a.attr)},c),function a(c){return c&&c.map((c,d)=>b.default.createElement(c.tag,h({key:d},c.attr),a(c.child)))}(a.child))}function j(a){var g=c=>{var d,{attr:g,size:i,title:j}=a,k=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,e),l=i||c.size||"1em";return c.className&&(d=c.className),a.className&&(d=(d?d+" ":"")+a.className),b.default.createElement("svg",f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},c.attr,g,k,{className:d,style:h(h({color:a.color||c.color},c.style),a.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),j&&b.default.createElement("title",null,j),a.children)};return void 0!==d?b.default.createElement(d.Consumer,null,a=>g(a)):g(c)}a.s(["GenIcon",()=>i],42343)},49909,a=>{"use strict";a.s(["default",0,a=>{let b=a?.response?.data;return b?Array.isArray(b.detail)?b.detail.map(a=>a.msg||"Invalid input"):"string"==typeof b.detail?[b.detail]:"string"==typeof b.message?[b.message]:["Unexpected error occurred"]:["Something went wrong"]}])},41313,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(83490),f=a.i(20094),g=a.i(48617),h=a.i(14174),i=a.i(96407),j=a.i(61914),k=a.i(69283),l=a.i(49909);a.s(["default",0,()=>{let a=(0,d.useRouter)(),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(60),A=(0,c.useRef)([]);(0,c.useEffect)(()=>{let a=sessionStorage.getItem("loginMail"),b=sessionStorage.getItem("loginPassword");a&&t(a),b&&v(b)},[]),(0,c.useEffect)(()=>{if(0===y)return;let a=setInterval(()=>{z(b=>b<=1?(clearInterval(a),0):b-1)},1e3);return()=>clearInterval(a)},[y]);let B=(0,h.useDispatch)(),C=a=>{a.preventDefault();let b=a.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);b&&(x(b),A.current[b.length-1]?.focus())},D=async b=>{if(b.preventDefault(),6!==w.length)return void f.toast.error("Please enter 6 digit OTP");n(!0),r([]);try{let b={email:s,otp:Number(w),password:u},c=await j.AuthService.verifyLoginOtp(b);200===c.status&&(f.toast.success("Logged in successfully"),sessionStorage.removeItem("loginMail"),sessionStorage.removeItem("loginPassword"),a.push("/dashboard"),B((0,k.login)(c.data.data)))}catch(a){console.error(a),e.default.isAxiosError(a)?r((0,l.default)(a)):r(["Something went wrong"])}finally{n(!1)}},E=async()=>{p(!0);try{s&&u||r(["Email and password not found, please back to login form and try again"]);let a=await j.AuthService.resendOTP({email:s,password:u});200===a.status&&f.toast.success("Verification OTP send successfully")}catch(a){console.error(a),e.default.isAxiosError(a)?r((0,l.default)(a)):r(["Something went wrong"])}finally{p(!1)}};return(0,b.jsx)("div",{className:"flex items-center justify-center bg-violet-50 min-h-screen",children:(0,b.jsxs)("div",{className:"bg-white p-8 rounded-xl w-[600px] flex flex-col gap-5",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-blue-800",children:"Verify Login OTP"}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["OTP is sent to"," ",(0,b.jsx)("span",{className:"font-medium text-blue-500",children:s})]}),(0,b.jsxs)("form",{onSubmit:D,className:"flex flex-col gap-7",children:[(0,b.jsx)("div",{className:"flex gap-3 justify-between",children:Array.from({length:6}).map((a,c)=>(0,b.jsx)("input",{ref:a=>{A.current[c]=a},type:"text",inputMode:"numeric",maxLength:1,value:w[c]||"",onChange:a=>((a,b)=>{if(!/^\d?$/.test(b))return;let c=w.split("");c[a]=b,x(c.join("").slice(0,6)),b&&a<5&&A.current[a+1]?.focus()})(c,a.target.value),onKeyDown:a=>{"Backspace"===a.key&&!w[c]&&c>0&&A.current[c-1]?.focus()},onPaste:C,className:" w-16 h-14 text-center text-lg font-semibold border border-slate-400 text-slate-800 rounded-md focus:ring-2 focus:ring-blue-500 "},c))}),q.length>0&&(0,b.jsx)("div",{className:"text-red-500 text-sm text-center",children:q.map((a,c)=>(0,b.jsx)("p",{children:a},c))}),(0,b.jsx)(i.default,{isLoading:m,children:"Verify OTP"})]}),(0,b.jsx)("div",{className:"text-center text-sm text-gray-600",children:y>0?(0,b.jsxs)("p",{children:["Resend OTP in"," ",(0,b.jsxs)("span",{className:"font-semibold text-blue-600",children:[y,"s"]})]}):(0,b.jsx)("button",{onClick:E,className:"text-blue-600 font-medium hover:underline",children:o?"Sending...":"Resend OTP"})}),(0,b.jsxs)("button",{onClick:()=>a.back(),className:"flex items-center gap-1.5 text-slate-700 font-medium cursor-pointer hover:text-blue-400 tracking-wide",children:[(0,b.jsx)(g.IoChevronBack,{})," Step Back"]})]})})}])}];

//# sourceMappingURL=_e20ff165._.js.map