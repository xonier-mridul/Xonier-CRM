module.exports=[42068,a=>{"use strict";var b=a.i(87924),c=a.i(46271),d=a.i(62036),e=a.i(16201);a.s(["default",0,({message:a})=>a?(0,b.jsx)(d.AnimatePresence,{children:(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.25,ease:"easeOut"},className:"w-full relative rounded-md border border-green-500/50 bg-green-50 dark:bg-green-950  px-4 py-3 text-green-700 dark:text-green-400 shadow-sm",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(e.CheckCircle,{className:"mt-0.5 text-green-600 dark:text-green-400",size:18}),(0,b.jsx)("p",{children:a})]})})}):null])},16201,a=>{"use strict";let b=(0,a.i(70106).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},49909,a=>{"use strict";a.s(["default",0,a=>{let b=a?.response?.data;return b?Array.isArray(b.detail)?b.detail.map(a=>a.msg||"Invalid input"):"string"==typeof b.detail?[b.detail]:"string"==typeof b.message?[b.message]:["Unexpected error occurred"]:["Something went wrong"]}])},82353,a=>{"use strict";var b=a.i(87924),c=a.i(46271),d=a.i(62036);a.s(["default",0,({error:a})=>{if(!a||Array.isArray(a)&&0===a.length)return null;let e=Array.isArray(a)?a:[a];return(0,b.jsx)(d.AnimatePresence,{children:(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.25,ease:"easeOut"},className:"w-full relative rounded-md border border-red-500/50 bg-red-50 dark:bg-red-950  px-4 py-3 text-red-500 dark:text-red-400 ",children:(0,b.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:e.map((a,c)=>(0,b.jsx)("li",{children:a},c))})})})}])},70106,a=>{"use strict";var b=a.i(72131);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],70106)},89254,a=>{"use strict";var b=a.i(28337);a.s(["EnquiryService",0,{getAll:a=>b.default.get(`/enquiry/all?${a.page?`page=${a.page}&`:""}${a.limit?`limit=${a.limit}&`:""}${a.enquiry_id?`enquiry_id=${a.enquiry_id}&`:""}${a.fullName?`fullName=${a.fullName}&`:""}${a.email?`email=${a.email}&`:""}${a.phone?`phone=${a.phone}&`:""}${a.companyName?`companyName=${a.companyName}&`:""}${a.projectType?`projectType=${a.projectType}&`:""}${a.priority?`priority=${a.priority}&`:""}`),getAllByCreator:(a,c,d)=>{let e=new URLSearchParams;return a&&e.append("page",String(a)),c&&e.append("limit",String(c)),d&&Object.entries(d).forEach(([a,b])=>{null!=b&&""!==b&&e.append(a,String(b))}),b.default.get(`/enquiry/all/by-creator?${e.toString()}`)},getById:a=>b.default.get(`/enquiry/get-by-id/${a}`),create:a=>b.default.post("/enquiry/create",a),bulkCreate:a=>b.default.post("/enquiry/create/bulk",a),update:(a,c)=>b.default.put(`/enquiry/update/${a}`,c),delete:a=>b.default.delete(`/enquiry/delete/${a}`)}])},85711,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(74362),e=a.i(71682),f=a.i(83490),g=a.i(49909),h=a.i(20094),i=a.i(89254),j=a.i(82353),k=a.i(42068),l=a.i(27348),m=a.i(50944);a.s(["default",0,()=>{let[a,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(1),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(""),y=Math.ceil(a.length/10),z=(0,m.useRouter)(),A=a.slice((o-1)*10,10*o),B=async a=>{let[b,...c]=(await a.text()).split("\n").filter(Boolean),d=b.split(",").map(a=>a.trim());return c.map(a=>{let b=a.split(",").map(a=>a.trim()),c={};return d.forEach((a,d)=>c[a]=b[d]||null),c})},C=async a=>{if(!a.name.endsWith(".csv"))return alert("Only CSV allowed");t(a),n(await B(a)),p(1)},D=()=>{t(null),n([]),p(1)},E=async b=>{if(b.preventDefault(),x(""),0===a.length)return void h.toast.warn("No enquiries to upload");v(!0);try{let b=await i.EnquiryService.bulkCreate({enquiries:a});201===b.status&&(h.toast.success("Bulk enquiries created successfully"),D(),n([]),z.push("/enquiry"))}catch(a){if(console.error(a),f.default.isAxiosError(a)){let b=(0,g.default)(a);x(b),h.toast.error(`${b}`)}else x(["Something went wrong"])}finally{v(!1)}};return(0,b.jsxs)("div",{className:"ml-72 mt-14 p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-6 flex justify-between items-center",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Bulk Enquiries"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-200",children:"Upload CSV to create enquiries in bulk, download the sample sheet and update it"})]}),(0,b.jsxs)("button",{onClick:()=>{let a=new Blob([[["fullName","email","phone","companyName","projectType","priority","source","message"],["Rahul Sharma","rahul@test.com","9999999999","ABC Pvt Ltd","website","high","website","Need business website"],["Neha Verma","neha@test.com","8888888888","XYZ Corp","mobile_app","medium","google_ads","Mobile app enquiry"],["Amit Singh","amit@test.com","7777777777","StartupX","ai_ml","high","linkedin_ads","AI solution"],["Priya Mehta","priya@test.com","6666666666","","crm","low","referral","CRM requirement"]].map(a=>a.join(",")).join("\n")],{type:"text/csv"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download="bulk-enquiry-sample.csv",c.click(),URL.revokeObjectURL(b)},className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-md flex items-center gap-2",children:[(0,b.jsx)(d.HiDownload,{})," Download Sample"]})]}),w&&(0,b.jsx)(j.default,{error:w}),(0,b.jsx)(k.default,{message:""}),(0,b.jsx)("div",{onDragOver:a=>{a.preventDefault(),r(!0)},onDragLeave:()=>r(!1),onDrop:a=>{a.preventDefault(),r(!1),a.dataTransfer.files[0]&&C(a.dataTransfer.files[0])},className:`bg-white dark:bg-gray-700 rounded-xl p-12 border-2 border-dashed transition
          ${q?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,b.jsx)(e.FaFileCsv,{className:"text-4xl text-gray-400 dark:text-gray-300"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Drag & drop your CSV file here"}),(0,b.jsx)("input",{type:"file",accept:".csv",className:"hidden",id:"csvUpload",onChange:a=>a.target.files&&C(a.target.files[0])}),(0,b.jsxs)("label",{htmlFor:"csvUpload",className:"cursor-pointer bg-blue-600 text-white px-4 py-2 rounded-md flex items-center gap-2 hover:bg-blue-700",children:[(0,b.jsx)(e.FaUpload,{})," Choose File"]}),s&&(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-3 bg-gray-100 dark:bg-gray-800 px-4 py-2 rounded-md",children:[(0,b.jsx)("span",{className:"text-sm font-medium",children:s.name}),(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:[a.length," rows"]}),(0,b.jsx)("button",{onClick:D,className:"text-red-500",children:(0,b.jsx)(e.FaTrash,{})})]})]})}),a.length>0&&(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-xl overflow-hidden",children:[(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{className:"bg-gray-100 dark:bg-gray-800",children:(0,b.jsx)("tr",{children:["Name","Email","Phone","Project","Priority","Source"].map(a=>(0,b.jsx)("th",{className:"p-3 text-left uppercase text-xs",children:a},a))})}),(0,b.jsx)("tbody",{children:A.map((a,c)=>(0,b.jsxs)("tr",{className:"border-t hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,b.jsx)("td",{className:"p-3",children:a.fullName}),(0,b.jsx)("td",{className:"p-3",children:a.email}),(0,b.jsx)("td",{className:"p-3",children:a.phone}),(0,b.jsx)("td",{className:"p-3 capitalize",children:a.projectType}),(0,b.jsx)("td",{className:"p-3 capitalize",children:a.priority}),(0,b.jsx)("td",{className:"p-3 capitalize",children:a.source})]},c))})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center p-4",children:[(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:["Showing ",(o-1)*10+1,"â€“",Math.min(10*o,a.length)," of"," ",a.length]}),(0,b.jsx)("div",{className:"flex gap-2",children:Array.from({length:y}).map((a,c)=>(0,b.jsx)("button",{onClick:()=>p(c+1),className:`px-3 py-1 rounded ${o===c+1?"bg-blue-600 text-white":"bg-gray-200 hover:bg-gray-300 dark:hover:bg-gray-800"}`,children:c+1},c))})]})]}),a.length>0&&(0,b.jsx)("form",{onSubmit:E,className:"flex justify-end",children:(0,b.jsxs)("button",{type:"submit",disabled:u,className:"w-fit flex items-center justify-center gap-2 rounded-md px-4 py-2 font-medium bg-blue-600 text-white hover:bg-blue-700 hover:cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,b.jsx)(l.FiUpload,{})," ",u?"Uploading...":"Create Enquiries"]})})]})}])}];

//# sourceMappingURL=_cda39681._.js.map