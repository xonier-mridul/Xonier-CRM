{"version":3,"sources":["../../../../src/app/%28dashboard%29/users/%5Bid%5D/page.tsx","../../../../src/components/pages/users/UserDetail.tsx","../../../../src/components/common/ComponentLoader.tsx","../../../../src/services/action.service.ts"],"sourcesContent":["\"use client\";\nimport { SIDEBAR_WIDTH } from \"@/src/constants/constants\";\nimport React, { JSX, useEffect, useState, useCallback } from \"react\";\nimport { ParamValue } from \"next/dist/server/request/params\";\nimport { useParams } from \"next/navigation\";\nimport { User } from \"@/src/types\";\nimport extractErrorMessages from \"@/src/app/utils/error.utils\";\nimport axios from \"axios\";\nimport { AuthService } from \"@/src/services/auth.service\";\nimport UserDetail from \"@/src/components/pages/users/UserDetail\";\nimport ActivityService, {\n  ActivitySummaryFilters,\n} from \"@/src/services/action.service\";\nimport { Activity, ActivitySummary } from \"@/src/types/action/action.types\";\nimport {\n  DateRangeFilter,\n  SummaryFilter,\n} from \"@/src/components/pages/users/UserDetail\";\n\nconst Page = (): JSX.Element => {\n  const [userData, setUserData] = useState<User | null>(null);\n  const [activityData, setActivityData] = useState<Activity[]>([]);\n  const [activitySummeryData, setActivitySummeryData] =\n    useState<ActivitySummary | null>(null);\n  const [err, setErr] = useState<string[] | string | null>(null);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [activityLoading, setActivityLoading] = useState<boolean>(false);\n  const [summeryLoading, setSummeryLoading] = useState<boolean>(false);\n  const [currentPage, setCurrentPage] = useState<number>(1);\n  const [totalPages, setTotalPages] = useState<number>(1);\n  const [dateRange, setDateRange] = useState<DateRangeFilter | null>(null);\n  const [summaryFilter, setSummaryFilter] = useState<SummaryFilter>({\n    groupBy: \"month\",\n  });\n\n  const pageLimit = 20;\n  const id: ParamValue = useParams().id;\n\n  \n  const getUser = async (userId: ParamValue): Promise<void> => {\n    setIsLoading(true);\n    setErr(null);\n    try {\n      const result = await AuthService.getUserById(userId);\n      if (result.status === 200) setUserData(result.data.data);\n    } catch (error) {\n      process.env.NEXT_PUBLIC_ENV === \"development\" && console.error(error);\n      setErr(\n        axios.isAxiosError(error)\n          ? extractErrorMessages(error)\n          : [\"Something went wrong\"],\n      );\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const fetchActivity = useCallback(\n    async (\n      userId: string,\n      page: number,\n      range: DateRangeFilter | null,\n    ): Promise<void> => {\n      setActivityLoading(true);\n      try {\n        const result = await ActivityService.getByUser(\n          userId,\n          page,\n          pageLimit,\n          {\n            ...(range?.from && { from: range.from }),\n            ...(range?.to && { to: range.to }),\n          },\n        );\n        if (result.status === 200) {\n          const { data: actList, pagination } = result.data.data;\n          setActivityData(actList);\n          setTotalPages(Math.ceil(pagination.total / pagination.limit));\n        }\n      } catch (error) {\n        process.env.NEXT_PUBLIC_ENV === \"development\" && console.error(error);\n        setErr(\n          axios.isAxiosError(error)\n            ? extractErrorMessages(error)\n            : [\"Something went wrong\"],\n        );\n      } finally {\n        setActivityLoading(false);\n      }\n    },\n    [pageLimit],\n  );\n\n  const fetchActivitySummary = useCallback(\n    async (userId: string, filters: ActivitySummaryFilters): Promise<void> => {\n      setSummeryLoading(true);\n      try {\n        const result = await ActivityService.getSummaryByUser(userId, {\n          ...(filters.from && { from: filters.from }),\n          ...(filters.to && { to: filters.to }),\n          ...(filters.groupBy && { groupBy: filters.groupBy }),\n        });\n        if (result.status === 200) {\n          setActivitySummeryData(result.data.data);\n        }\n      } catch (error) {\n        process.env.NEXT_PUBLIC_ENV === \"development\" && console.error(error);\n        setErr(\n          axios.isAxiosError(error)\n            ? extractErrorMessages(error)\n            : [\"Something went wrong\"],\n        );\n      } finally {\n        setSummeryLoading(false);\n      }\n    },\n    [],\n  );\n\n  useEffect(() => {\n    if (!id) return;\n    getUser(id);\n    fetchActivity(String(id), 1, null);\n    fetchActivitySummary(String(id), { groupBy: \"month\" });\n  }, [id]);\n\n  const handlePageChange = (page: number) => {\n    if (page < 1 || page > totalPages) return;\n    setCurrentPage(page);\n    fetchActivity(String(id), page, dateRange);\n  };\n\n  const handleDateFilter = (range: DateRangeFilter | null) => {\n    setDateRange(range);\n    setCurrentPage(1);\n    fetchActivity(String(id), 1, range);\n  };\n\n  const handleSummaryFilter = (filter: SummaryFilter) => {\n    setSummaryFilter(filter);\n    fetchActivitySummary(String(id), {\n      from: filter.from,\n      to: filter.to,\n      groupBy: filter.groupBy ?? \"month\",\n    });\n  };\n\n  return (\n    <div className={`ml-72 mt-14 p-6`}>\n      <UserDetail\n        userData={userData}\n        isLoading={isLoading}\n        activityData={activityData}\n        activityLoading={activityLoading}\n        activitySummary={activitySummeryData}\n        summaryLoading={summeryLoading}\n        summaryFilter={summaryFilter}\n        currentPage={currentPage}\n        totalPages={totalPages}\n        pageLimit={pageLimit}\n        dateRange={dateRange}\n        onPageChange={handlePageChange}\n        onDateFilter={handleDateFilter}\n        onSummaryFilter={handleSummaryFilter}\n      />\n    </div>\n  );\n};\n\nexport default Page;\n","\"use client\";\n\nimport React, { JSX, useState, useMemo } from \"react\";\nimport { USER_STATUS } from \"@/src/types\";\nimport { User } from \"@/src/types\";\nimport { Activity, ActivitySummary } from \"@/src/types/action/action.types\";\nimport Image from \"next/image\";\nimport ComponentLoader from \"../../common/ComponentLoader\";\nimport { handleCopy } from \"@/src/app/utils/clipboard.utils\";\nimport {\n  AreaChart,\n  Area,\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  PieChart,\n  Pie,\n  Cell,\n  Legend,\n} from \"recharts\";\nimport {\n  MdOutlineEdit,\n  MdEmail,\n  MdPhone,\n  MdBusiness,\n  MdVerified,\n  MdOutlineContentCopy,\n} from \"react-icons/md\";\nimport {\n  IoPersonCircle,\n  IoShieldCheckmark,\n  IoTimeOutline,\n  IoCheckmarkDoneCircle,\n  IoTrendingUp,\n  IoBarChart,\n} from \"react-icons/io5\";\nimport {\n  FiActivity,\n  FiCalendar,\n  FiFilter,\n  FiChevronLeft,\n  FiChevronRight,\n  FiX,\n} from \"react-icons/fi\";\nimport {\n  HiOutlineDocumentText,\n  HiOutlineCurrencyDollar,\n  HiOutlineUserGroup,\n  HiOutlineBriefcase,\n} from \"react-icons/hi2\";\nimport { RiLoginCircleLine } from \"react-icons/ri\";\nimport { BsCircleFill } from \"react-icons/bs\";\nimport { GoDotFill } from \"react-icons/go\";\nimport { LuCalendarRange } from \"react-icons/lu\";\nimport PrimaryButton from \"../../ui/PrimeryButton\";\nimport { ACTIVITY_ACTION, ACTIVITY_ENTITY_TYPE } from \"@/src/constants/enum\";\nimport Link from \"next/link\";\n\n\nexport interface DateRangeFilter {\n  from: string; // \"2026-01-01\"\n  to: string; // \"2026-02-17\"\n}\n\nexport interface SummaryFilter {\n  from?: string;\n  to?: string;\n  groupBy?: \"day\" | \"week\" | \"month\";\n}\n\nexport interface ExtendedUserDetailProps {\n  userData: User | null;\n  isLoading: boolean;\n  activityData?: Activity[];\n  activityLoading?: boolean;\n  activitySummary?: ActivitySummary | null;\n  summaryLoading?: boolean;\n  summaryFilter?: SummaryFilter;\n  currentPage?: number;\n  totalPages?: number;\n  pageLimit?: number;\n  dateRange?: DateRangeFilter | null;\n  onPageChange?: (page: number) => void;\n  onDateFilter?: (range: DateRangeFilter | null) => void;\n  onSummaryFilter?: (filter: SummaryFilter) => void;\n}\n\n// ─── Constants ────────────────────────────────────────────────────────────────\nconst ENTITY_CONFIG: Record<\n  string,\n  { label: string; color: string; bg: string; icon: JSX.Element }\n> = {\n  [ACTIVITY_ENTITY_TYPE.LEAD]: {\n    label: \"Lead\",\n    color: \"#6366f1\",\n    bg: \"bg-indigo-50 dark:bg-indigo-900/30\",\n    icon: <HiOutlineUserGroup className=\"w-4 h-4\" />,\n  },\n  [ACTIVITY_ENTITY_TYPE.DEAL]: {\n    label: \"Deal\",\n    color: \"#10b981\",\n    bg: \"bg-emerald-50 dark:bg-emerald-900/30\",\n    icon: <HiOutlineBriefcase className=\"w-4 h-4\" />,\n  },\n  [ACTIVITY_ENTITY_TYPE.QUOTATION]: {\n    label: \"Quotation\",\n    color: \"#f59e0b\",\n    bg: \"bg-amber-50 dark:bg-amber-900/30\",\n    icon: <HiOutlineDocumentText className=\"w-4 h-4\" />,\n  },\n  [ACTIVITY_ENTITY_TYPE.INVOICE]: {\n    label: \"Invoice\",\n    color: \"#3b82f6\",\n    bg: \"bg-blue-50 dark:bg-blue-900/30\",\n    icon: <HiOutlineCurrencyDollar className=\"w-4 h-4\" />,\n  },\n};\n\nconst ACTION_CONFIG: Record<\n  string,\n  { label: string; color: string; dot: string }\n> = {\n  [ACTIVITY_ACTION.CREATED]: {\n    label: \"Created\",\n    color: \"text-emerald-600\",\n    dot: \"bg-emerald-500\",\n  },\n  [ACTIVITY_ACTION.UPDATED]: {\n    label: \"Updated\",\n    color: \"text-blue-600\",\n    dot: \"bg-blue-500\",\n  },\n  [ACTIVITY_ACTION.SENT]: {\n    label: \"Sent\",\n    color: \"text-violet-600\",\n    dot: \"bg-violet-500\",\n  },\n  [ACTIVITY_ACTION.RESEND]: {\n    label: \"Resent\",\n    color: \"text-purple-600\",\n    dot: \"bg-purple-500\",\n  },\n  [ACTIVITY_ACTION.CONVERTED]: {\n    label: \"Converted\",\n    color: \"text-teal-600\",\n    dot: \"bg-teal-500\",\n  },\n  [ACTIVITY_ACTION.CLOSED_WON]: {\n    label: \"Closed Won\",\n    color: \"text-green-600\",\n    dot: \"bg-green-500\",\n  },\n  [ACTIVITY_ACTION.CLOSED_LOST]: {\n    label: \"Closed Lost\",\n    color: \"text-rose-600\",\n    dot: \"bg-rose-500\",\n  },\n  [ACTIVITY_ACTION.DELETE]: {\n    label: \"Deleted\",\n    color: \"text-red-600\",\n    dot: \"bg-red-500\",\n  },\n};\n\nconst PIE_COLORS = [\"#6366f1\", \"#10b981\", \"#f59e0b\", \"#3b82f6\"];\nconst BAR_COLORS = [\n  \"#6366f1\",\n  \"#10b981\",\n  \"#f59e0b\",\n  \"#3b82f6\",\n  \"#8b5cf6\",\n  \"#ef4444\",\n  \"#14b8a6\",\n  \"#f97316\",\n];\n\n\nconst toIso = (d: Date) => d.toISOString().slice(0, 10);\n\nconst PRESETS = [\n  {\n    label: \"Today\",\n    range: () => {\n      const t = new Date();\n      return { from: toIso(t), to: toIso(t) };\n    },\n  },\n  {\n    label: \"Last 7 days\",\n    range: () => {\n      const t = new Date(),\n        f = new Date(t);\n      f.setDate(t.getDate() - 6);\n      return { from: toIso(f), to: toIso(t) };\n    },\n  },\n  {\n    label: \"This month\",\n    range: () => {\n      const t = new Date();\n      return {\n        from: toIso(new Date(t.getFullYear(), t.getMonth(), 1)),\n        to: toIso(t),\n      };\n    },\n  },\n  {\n    label: \"Last 30 days\",\n    range: () => {\n      const t = new Date(),\n        f = new Date(t);\n      f.setDate(t.getDate() - 29);\n      return { from: toIso(f), to: toIso(t) };\n    },\n  },\n  {\n    label: \"Last 3 months\",\n    range: () => {\n      const t = new Date(),\n        f = new Date(t);\n      f.setMonth(t.getMonth() - 3);\n      return { from: toIso(f), to: toIso(t) };\n    },\n  },\n];\n\n\nconst formatDate = (date?: Date | string | null) =>\n  date\n    ? new Date(date).toLocaleString(\"en-IN\", {\n        timeZone: \"Asia/Kolkata\",\n        day: \"2-digit\",\n        month: \"short\",\n        year: \"numeric\",\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n        hour12: true,\n      })\n    : \"—\";\n\nconst formatShortDate = (dateStr: string) => {\n  const d = new Date(dateStr);\n  return `${d.getDate()} ${d.toLocaleString(\"en\", { month: \"short\" })}`;\n};\n\nconst displayDate = (iso: string) =>\n  new Date(iso).toLocaleDateString(\"en-IN\", {\n    day: \"2-digit\",\n    month: \"short\",\n    year: \"numeric\",\n  });\n\n\ninterface TooltipPayloadItem {\n  color?: string;\n  value?: number | string;\n  name?: string;\n}\n\ninterface ChartTooltipProps {\n  active?: boolean;\n  payload?: TooltipPayloadItem[];\n  label?: string;\n}\n\nconst ChartTooltip = ({ active, payload, label }: ChartTooltipProps) => {\n  if (!active || !payload?.length) return null;\n  return (\n    <div className=\"bg-gray-900 border border-gray-700 rounded-xl px-3 py-2.5 shadow-2xl\">\n      <p className=\"text-xs text-gray-400 mb-1.5\">{label}</p>\n      {payload.map((p, i) => (\n        <p\n          key={i}\n          className=\"text-sm font-semibold flex items-center gap-2\"\n          style={{ color: p.color ?? \"#fff\" }}\n        >\n          <span\n            className=\"w-2 h-2 rounded-full shrink-0\"\n            style={{ background: p.color ?? \"#fff\" }}\n          />\n          {p.value}\n          <span className=\"text-gray-400 font-normal text-xs\">{p.name}</span>\n        </p>\n      ))}\n    </div>\n  );\n};\n\n\nconst StatCard = ({\n  label,\n  value,\n  sub,\n  icon,\n  accent,\n  link\n}: {\n  label: string;\n  value: string | number;\n  sub?: string;\n  icon: JSX.Element;\n  accent: string;\n  link: string\n}) => (\n  <Link href={link} className=\"relative overflow-hidden hover:scale-105 hover:shadow-[0_0_6px_10px_#00000015] border-gray-200 bg-white dark:bg-gray-800 rounded-2xl border dark:border-gray-700 p-5 flex items-start gap-4\">\n    <div\n      className={`shrink-0 w-11 h-11 rounded-xl flex items-center justify-center text-white text-lg ${accent}`}\n    >\n      {icon}\n    </div>\n    <div className=\"min-w-0\">\n      <p className=\"text-xs font-medium text-gray-400 uppercase tracking-wider\">\n        {label}\n      </p>\n      <p className=\"text-2xl font-bold text-gray-900 dark:text-white mt-0.5\">\n        {value}\n      </p>\n      {sub && <p className=\"text-xs text-gray-500 mt-0.5 truncate\">{sub}</p>}\n    </div>\n    <div\n      className={`absolute -right-4 -bottom-4 w-20 h-20 rounded-full opacity-[0.07] ${accent}`}\n    />\n  </Link>\n);\n\n\nconst ActivityRow = ({ activity }: { activity: Activity }) => {\n  const entity = ENTITY_CONFIG[activity.entityType] ?? {\n    label: activity.entityType,\n    color: \"#94a3b8\",\n    bg: \"bg-slate-50 dark:bg-slate-800\",\n    icon: <FiActivity className=\"w-4 h-4\" />,\n  };\n  const action = ACTION_CONFIG[activity.action] ?? {\n    label: activity.action,\n    color: \"text-gray-500\",\n    dot: \"bg-gray-400\",\n  };\n  const metaEntries = Object.entries(activity.metadata ?? {}).filter(\n    ([k]) => ![\"leadId\", \"quoteId\"].includes(k),\n  );\n\n  return (\n    <div className=\"flex gap-4\">\n      <div className=\"flex flex-col items-center\">\n        <div\n          className={`w-3 h-3 rounded-full mt-1.5 ring-2 ring-white dark:ring-gray-800 ${action.dot} shrink-0`}\n        />\n        <div className=\"w-px flex-1 bg-gray-100 dark:bg-gray-700 mt-1\" />\n      </div>\n      <div className=\"pb-5 flex-1 min-w-0\">\n        <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-slate-100 dark:border-gray-700 p-4 hover:shadow-md transition-shadow duration-200\">\n          <div className=\"flex items-start justify-between gap-3 flex-wrap\">\n            <div className=\"flex items-center gap-2 flex-wrap\">\n              <span\n                className={`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-semibold ${entity.bg}`}\n                style={{ color: entity.color }}\n              >\n                {entity.icon}\n                {entity.label}\n              </span>\n              <span\n                className={`text-xs font-semibold capitalize ${action.color}`}\n              >\n                {action.label}\n              </span>\n            </div>\n            <time className=\"text-xs text-gray-400 whitespace-nowrap flex items-center gap-1\">\n              <IoTimeOutline className=\"w-3 h-3\" />\n              {formatDate(activity.createdAt)}\n            </time>\n          </div>\n          <p className=\"mt-2 text-sm font-medium text-gray-800 dark:text-gray-100 capitalize\">\n            {activity.title}\n          </p>\n          {metaEntries.length > 0 && (\n            <div className=\"mt-2.5 flex flex-wrap gap-2\">\n              {metaEntries.map(([key, val]) => (\n                <span\n                  key={key}\n                  className=\"text-xs bg-slate-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-0.5 rounded-md font-mono\"\n                >\n                  <span className=\"text-gray-400\">{key}: </span>\n                  {typeof val === \"object\" ? (\n                    <span className=\"text-amber-600 dark:text-amber-400\">\n                      {JSON.stringify(val)}\n                    </span>\n                  ) : (\n                    String(val)\n                  )}\n                </span>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// ─── DateFilterPanel ──────────────────────────────────────────────────────────\nconst DateFilterPanel = ({\n  value,\n  onApply,\n  onClear,\n}: {\n  value: DateRangeFilter | null;\n  onApply: (r: DateRangeFilter) => void;\n  onClear: () => void;\n}) => {\n  const [from, setFrom] = useState(value?.from ?? \"\");\n  const [to, setTo] = useState(value?.to ?? \"\");\n  const [err, setErr] = useState(\"\");\n\n  const apply = () => {\n    if (!from || !to) {\n      setErr(\"Both dates are required.\");\n      return;\n    }\n    if (from > to) {\n      setErr('\"From\" must be before \"To\".');\n      return;\n    }\n    setErr(\"\");\n    onApply({ from, to });\n  };\n\n  const pickPreset = (range: DateRangeFilter) => {\n    setFrom(range.from);\n    setTo(range.to);\n    setErr(\"\");\n    onApply(range);\n  };\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 border border-slate-200 dark:border-gray-600 rounded-2xl shadow-2xl p-5 w-80\">\n      <p className=\"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3\">\n        Quick ranges\n      </p>\n      <div className=\"flex flex-wrap gap-1.5 mb-5\">\n        {PRESETS.map((p) => {\n          const r = p.range();\n          const active = value?.from === r.from && value?.to === r.to;\n          return (\n            <button\n              key={p.label}\n              onClick={() => pickPreset(r)}\n              className={`text-xs px-2.5 py-1 rounded-full border font-medium transition-all ${\n                active\n                  ? \"bg-indigo-600 text-white border-indigo-600 shadow-sm\"\n                  : \"border-slate-200 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:border-indigo-400 hover:text-indigo-600 dark:hover:text-indigo-400\"\n              }`}\n            >\n              {p.label}\n            </button>\n          );\n        })}\n      </div>\n\n      <div className=\"h-px bg-slate-100 dark:bg-gray-700 mb-4\" />\n      <p className=\"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3\">\n        Custom range\n      </p>\n\n      <div className=\"space-y-3\">\n        <div>\n          <label className=\"block text-xs font-medium text-gray-500 mb-1.5\">\n            From date\n          </label>\n          <input\n            type=\"date\"\n            value={from}\n            max={to || undefined}\n            onChange={(e) => {\n              setFrom(e.target.value);\n              setErr(\"\");\n            }}\n            className=\"w-full text-sm rounded-xl border border-slate-200 dark:border-gray-600 bg-slate-50 dark:bg-gray-700 text-gray-800 dark:text-gray-200 px-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-indigo-500/40 focus:border-indigo-400\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-xs font-medium text-gray-500 mb-1.5\">\n            To date\n          </label>\n          <input\n            type=\"date\"\n            value={to}\n            min={from || undefined}\n            onChange={(e) => {\n              setTo(e.target.value);\n              setErr(\"\");\n            }}\n            className=\"w-full text-sm rounded-xl border border-slate-200 dark:border-gray-600 bg-slate-50 dark:bg-gray-700 text-gray-800 dark:text-gray-200 px-3 py-2.5 focus:outline-none focus:ring-2 focus:ring-indigo-500/40 focus:border-indigo-400\"\n          />\n        </div>\n      </div>\n\n      {err && (\n        <p className=\"text-xs text-red-500 mt-2 flex items-center gap-1\">\n          <FiX className=\"w-3 h-3\" />\n          {err}\n        </p>\n      )}\n\n      <div className=\"flex gap-2 mt-4\">\n        <button\n          onClick={apply}\n          className=\"flex-1 text-sm font-semibold bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl py-2.5 transition-colors shadow-sm shadow-indigo-200 dark:shadow-indigo-900/30\"\n        >\n          Apply filter\n        </button>\n        {value && (\n          <button\n            onClick={() => {\n              setFrom(\"\");\n              setTo(\"\");\n              setErr(\"\");\n              onClear();\n            }}\n            className=\"px-4 text-sm font-medium text-gray-500 dark:text-gray-400 border border-slate-200 dark:border-gray-600 rounded-xl hover:bg-slate-50 dark:hover:bg-gray-700 transition-colors\"\n          >\n            Clear\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// ─── Main Component ───────────────────────────────────────────────────────────\nconst UserDetail = ({\n  userData,\n  isLoading,\n  activityData = [],\n  activityLoading = false,\n  activitySummary = null,\n  summaryLoading = false,\n  summaryFilter = {},\n  currentPage = 1,\n  totalPages = 1,\n  pageLimit = 20,\n  dateRange = null,\n  onPageChange,\n  onDateFilter,\n  onSummaryFilter,\n}: ExtendedUserDetailProps): JSX.Element => {\n  const [activeTab, setActiveTab] = useState<\n    \"overview\" | \"activity\" | \"summary\" | \"roles\"\n  >(\"overview\");\n  const [entityFilter, setEntityFilter] = useState(\"all\");\n  const [actionFilter, setActionFilter] = useState(\"all\");\n  const [showDatePanel, setShowDatePanel] = useState(false);\n  const [showSummaryDatePanel, setShowSummaryDatePanel] = useState(false);\n\n  // ── Chart data ─────────────────────────────────────────────────────────\n  const { entityPieData, actionBarData, dailyAreaData, entityCounts } =\n    useMemo(() => {\n      if (!activityData.length)\n        return {\n          entityPieData: [],\n          actionBarData: [],\n          dailyAreaData: [],\n          entityCounts: {},\n        };\n\n      const em: Record<string, number> = {};\n      const am: Record<string, number> = {};\n      const dm: Record<string, number> = {};\n\n      activityData.forEach((a) => {\n        em[a.entityType] = (em[a.entityType] || 0) + 1;\n        am[a.action] = (am[a.action] || 0) + 1;\n        const d = formatShortDate(a.createdAt);\n        dm[d] = (dm[d] || 0) + 1;\n      });\n\n      return {\n        entityPieData: Object.entries(em).map(([name, value]) => ({\n          name: ENTITY_CONFIG[name]?.label ?? name,\n          value,\n        })),\n        actionBarData: Object.entries(am).map(([name, count]) => ({\n          name: ACTION_CONFIG[name]?.label ?? name,\n          count,\n        })),\n        dailyAreaData: Object.entries(dm).map(([date, count]) => ({\n          date,\n          count,\n        })),\n        entityCounts: em,\n      };\n    }, [activityData]);\n\n\n  const filteredActivities = useMemo(\n    () =>\n      activityData.filter((a) => {\n        if (entityFilter !== \"all\" && a.entityType !== entityFilter)\n          return false;\n        if (actionFilter !== \"all\" && a.action !== actionFilter) return false;\n        return true;\n      }),\n    [activityData, entityFilter, actionFilter],\n  );\n\n  const hasClientFilters = entityFilter !== \"all\" || actionFilter !== \"all\";\n\n  // ── Guards ─────────────────────────────────────────────────────────────\n  if (isLoading) return <ComponentLoader />;\n\n  if (!userData)\n    return (\n      <div className=\"bg-white dark:bg-gray-800 rounded-2xl p-12 text-center border border-slate-100 dark:border-gray-700\">\n        <IoPersonCircle className=\"w-16 h-16 text-gray-200 dark:text-gray-600 mx-auto mb-4\" />\n        <p className=\"text-lg font-semibold text-gray-500\">User not found</p>\n      </div>\n    );\n\n  const statusConfig = (\n    {\n      [USER_STATUS.ACTIVE]: {\n        bg: \"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-400\",\n        dot: \"text-emerald-500\",\n      },\n      [USER_STATUS.INACTIVE]: {\n        bg: \"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-400\",\n        dot: \"text-amber-500\",\n      },\n      [USER_STATUS.SUSPENDED]: {\n        bg: \"bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-400\",\n        dot: \"text-orange-500\",\n      },\n      [USER_STATUS.DELETED]: {\n        bg: \"bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-400\",\n        dot: \"text-red-500\",\n      },\n    } as Record<string, { bg: string; dot: string }>\n  )[userData.status] ?? {\n    bg: \"bg-gray-100 text-gray-700\",\n    dot: \"text-gray-400\",\n  };\n\n  const totalActivities = activityData.length;\n  const uniqueEntities = Object.keys(entityCounts).length;\n\n  const tabs = [\n    {\n      key: \"overview\" as const,\n      label: \"Overview\",\n      icon: <IoPersonCircle className=\"w-4 h-4\" />,\n    },\n    {\n      key: \"activity\" as const,\n      label: \"Activity\",\n      icon: <FiActivity className=\"w-4 h-4\" />,\n      badge: totalActivities,\n    },\n    {\n      key: \"summary\" as const,\n      label: \"Summary\",\n      icon: <IoBarChart className=\"w-4 h-4\" />,\n    },\n    {\n      key: \"roles\" as const,\n      label: \"Roles\",\n      icon: <IoShieldCheckmark className=\"w-4 h-4\" />,\n      badge: userData.userRole?.length,\n    },\n  ];\n  \n  return (\n    <div className=\"flex flex-col gap-6 font-sans\">\n      \n      <div className=\"relative bg-white dark:bg-gray-800 border border-slate-100 dark:border-gray-700 rounded-2xl overflow-hidden\">\n        <div className=\"h-28 bg-linear-to-r from-slate-700 via-slate-800 to-slate-900 relative\">\n          <div\n            className=\"absolute inset-0 opacity-20\"\n            style={{\n  background: \"linear-gradient(135deg, #2dd4bf 0%, #14b8a6 50%, #059669 100%)\"\n}}\n\n          />\n        </div>\n        <div className=\"px-6 pb-6\">\n          <div className=\"flex items-end justify-between -mt-10 mb-4 flex-wrap gap-4\">\n            <div className=\"relative\">\n              <div className=\"w-20 h-20 rounded-2xl border-4 border-white dark:border-gray-800 overflow-hidden bg-slate-100 shadow-xl\">\n                <Image\n                  src=\"/images/dummy-user.png\"\n                  width={80}\n                  height={80}\n                  alt=\"User\"\n                  className=\"object-cover\"\n                />\n              </div>\n              <div\n                className={`absolute -bottom-1 -right-1 w-5 h-5 rounded-full border-2 border-white dark:border-gray-800 ${userData.status ? \"bg-emerald-500\" : \"bg-gray-400\"}`}\n              />\n            </div>\n            <div className=\"pb-1\">\n              <PrimaryButton\n                text=\"Edit Profile\"\n                isLoading={isLoading}\n                disabled={isLoading}\n                link={`/users/update/${userData.id ?? userData._id}`}\n                icon={<MdOutlineEdit className=\"text-base\" />}\n              />\n            </div>\n          </div>\n          <div className=\"flex flex-col gap-1.5\">\n            <div className=\"flex items-center gap-2 flex-wrap\">\n              <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white tracking-tight capitalize\">\n                {userData.firstName} {userData.lastName}\n              </h1>\n              {userData.isEmailVerified && (\n                <MdVerified\n                  className=\"w-5 h-5 text-blue-500 shrink-0\"\n                  title=\"Email Verified\"\n                />\n              )}\n              <span\n                className={`inline-flex items-center gap-1 text-xs font-semibold px-2.5 py-0.5 rounded-full capitalize ${statusConfig.bg}`}\n              >\n                <GoDotFill className={statusConfig.dot} />\n                {userData.status}\n              </span>\n            </div>\n            <div className=\"flex flex-wrap items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mt-1\">\n              <button\n                onClick={() => handleCopy(userData.email)}\n                className=\"flex items-center gap-1.5 hover:text-blue-600 dark:hover:text-blue-400 cursor-pointer transition-colors group\"\n              >\n                <MdEmail className=\"w-4 h-4\" />\n                {userData.email}\n                <MdOutlineContentCopy className=\"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity\" />\n              </button>\n              <Link href={`tel:${userData.phone}`} className=\"flex items-center cursor-pointer hover:text-blue-600 gap-1.5\">\n                <MdPhone className=\"w-4 h-4\" />\n                {userData.phone}\n              </Link>\n              {userData.company && (\n                <span className=\"flex items-center gap-1.5\">\n                  <MdBusiness className=\"w-4 h-4\" />\n                  {userData.company}\n                </span>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      \n      <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4\">\n        <StatCard\n          label=\"Total Activities\"\n          value={totalActivities}\n          sub={`${uniqueEntities} entity types`}\n          icon={<FiActivity />}\n          accent=\"bg-indigo-500\"\n          link={`/leads?userid=${userData._id}`}\n        />\n        <StatCard\n          label=\"Last Login\"\n          link={``}\n          value={\n            userData.lastLogin\n              ? new Date(userData.lastLogin).toLocaleDateString(\"en-IN\", {\n                  day: \"2-digit\",\n                  month: \"short\",\n                })\n              : \"—\"\n          }\n          sub={\n            userData.lastLogin\n              ? new Date(userData.lastLogin).toLocaleTimeString(\"en-IN\", {\n                  hour: \"2-digit\",\n                  minute: \"2-digit\",\n                  hour12: true,\n                })\n              : \"Never\"\n          }\n          icon={<RiLoginCircleLine />}\n          accent=\"bg-blue-500\"\n        />\n        <StatCard\n        link={`/roles`}\n          label=\"Assigned Roles\"\n          value={userData.userRole?.length ?? 0}\n          sub=\"access roles\"\n          icon={<IoShieldCheckmark />}\n          accent=\"bg-violet-500\"\n        />\n        <StatCard\n          label=\"Member Since\"\n          link={``}\n          value={new Date(userData.createdAt).toLocaleDateString(\"en-IN\", {\n            day: \"2-digit\",\n            month: \"short\",\n          })}\n          sub={new Date(userData.createdAt).getFullYear().toString()}\n          icon={<IoCheckmarkDoneCircle />}\n          accent=\"bg-emerald-500\"\n        />\n      </div>\n\n\n      <div className=\"bg-white  dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl overflow-hidden\">\n        <div className=\"border-b border-slate-100 dark:border-gray-700 px-4\">\n          <nav className=\"flex gap-1\">\n            {tabs.map((tab) => (\n              <button\n                key={tab.key}\n                onClick={() => setActiveTab(tab.key)}\n                className={`flex items-center gap-2 px-4 py-4 cursor-pointer text-sm font-medium border-b-2 transition-colors ${\n                  activeTab === tab.key\n                    ? \"border-indigo-500 text-indigo-600 dark:text-indigo-400\"\n                    : \"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300\"\n                }`}\n              >\n                {tab.icon}\n                {tab.label}\n                {tab.badge !== undefined && tab.badge > 0 && (\n                  <span\n                    className={`text-xs px-1.5 py-0.5 rounded-full font-semibold ${\n                      activeTab === tab.key\n                        ? \"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/50 dark:text-indigo-300\"\n                        : \"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400\"\n                    }`}\n                  >\n                    {tab.badge}\n                  </span>\n                )}\n              </button>\n            ))}\n          </nav>\n        </div>\n\n        \n        {activeTab === \"overview\" && (\n          <div className=\"p-6 grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <h3 className=\"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4\">\n                Basic Information\n              </h3>\n              <div className=\"space-y-4\">\n                {[\n                  { label: \"First Name\", value: userData.firstName },\n                  { label: \"Last Name\", value: userData.lastName || \"—\" },\n                  { label: \"Email\", value: userData.email },\n                  { label: \"Phone\", value: userData.phone },\n                  { label: \"Company\", value: userData.company || \"—\" },\n                  {\n                    label: \"Email Verified\",\n                    value: userData.isEmailVerified\n                      ? \"Verified ✓\"\n                      : \"Not Verified\",\n                  },\n                ].map(({ label, value }) => (\n                  <div\n                    key={label}\n                    className=\"flex items-start justify-between gap-4 py-2 border-b border-slate-50 dark:border-gray-700/50\"\n                  >\n                    <span className=\"text-sm text-gray-400 min-w-28\">\n                      {label}\n                    </span>\n                    <span className=\"text-sm font-medium text-gray-800 dark:text-gray-200 text-right\">\n                      {value}\n                    </span>\n                  </div>\n                ))}\n              </div>\n            </div>\n            <div>\n              <h3 className=\"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4\">\n                Account Information\n              </h3>\n              <div className=\"space-y-4\">\n                {[\n                  { label: \"Status\", value: userData.status },\n                  { label: \"Active\", value: userData.isActive ? \"Yes\" : \"No\" },\n                  {\n                    label: \"Created At\",\n                    value: formatDate(userData.createdAt),\n                  },\n                  {\n                    label: \"Last Login\",\n                    value: userData.lastLogin\n                      ? formatDate(userData.lastLogin)\n                      : \"Never\",\n                  },\n                  {\n                    label: \"Updated At\",\n                    value: formatDate(userData.updatedAt),\n                  },\n                  {\n                    label: \"User ID\",\n                    value: userData.id ?? userData._id ?? \"—\",\n                  },\n                ].map(({ label, value }) => (\n                  <div\n                    key={label}\n                    className=\"flex items-start justify-between gap-4 py-2 border-b border-slate-50 dark:border-gray-700/50\"\n                  >\n                    <span className=\"text-sm text-gray-400 min-w-28\">\n                      {label}\n                    </span>\n                    <span\n                      className={`text-sm font-medium text-right max-w-48 break-all ${label === \"User ID\" ? \"font-mono text-xs text-gray-400\" : \"text-gray-800 dark:text-gray-200\"}`}\n                    >\n                      {value}\n                    </span>\n                  </div>\n                ))}\n              </div>\n            </div>\n            {userData.createdBy && (\n              <div className=\"md:col-span-2\">\n                <h3 className=\"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4\">\n                  Created By\n                </h3>\n                <div className=\"flex items-center gap-3 p-4 bg-slate-50 dark:bg-gray-700/50 rounded-xl\">\n                  <div className=\"w-10 h-10 rounded-full bg-linear-to-br from-slate-600 to-slate-800 flex items-center justify-center text-white font-bold text-sm\">\n                    {userData.createdBy.firstName?.[0]}\n                    {userData.createdBy.lastName?.[0]}\n                  </div>\n                  <div>\n                    <p className=\"text-sm font-semibold text-gray-800 dark:text-gray-100\">\n                      {userData.createdBy.firstName}{\" \"}\n                      {userData.createdBy.lastName}\n                    </p>\n                    {/* <p className=\"text-xs text-gray-500\">\n                      {userData.createdBy.email}\n                    </p> */}\n                  </div>\n                  <span className=\"ml-auto text-xs text-gray-400\">\n                    {formatDate(userData.createdAt)}\n                  </span>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n\n       \n        {activeTab === \"activity\" && (\n          <div className=\"p-6 space-y-6\">\n            {activityLoading ? (\n              <div className=\"flex flex-col items-center justify-center py-16 gap-3\">\n                <div className=\"w-9 h-9 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin\" />\n                <p className=\"text-sm text-gray-400\">Loading activity…</p>\n              </div>\n            ) : (\n              <>\n               \n                <div className=\"flex flex-wrap items-center gap-3\">\n                  \n                  <div className=\"relative\">\n                    <button\n                      onClick={() => setShowDatePanel((v) => !v)}\n                      className={`flex items-center gap-2 text-sm font-medium px-4 py-2.5 rounded-xl border transition-all ${\n                        dateRange\n                          ? \"bg-indigo-600 text-white border-indigo-600 shadow-md shadow-indigo-200 dark:shadow-indigo-900/30\"\n                          : \"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-slate-200 dark:border-gray-600 hover:border-indigo-400 hover:text-indigo-600 dark:hover:text-indigo-400\"\n                      }`}\n                    >\n                      <LuCalendarRange className=\"w-4 h-4\" />\n                      {dateRange\n                        ? `${displayDate(dateRange.from)} – ${displayDate(dateRange.to)}`\n                        : \"Date Range\"}\n                      {dateRange && (\n                        <span\n                          role=\"button\"\n                          tabIndex={0}\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            onDateFilter?.(null);\n                          }}\n                          onKeyDown={(e) =>\n                            e.key === \"Enter\" &&\n                            (e.stopPropagation(), onDateFilter?.(null))\n                          }\n                          className=\"ml-1 hover:opacity-70\"\n                        >\n                          <FiX className=\"w-3.5 h-3.5\" />\n                        </span>\n                      )}\n                    </button>\n\n                    {showDatePanel && (\n                      <>\n                        <div\n                          className=\"fixed inset-0 z-40\"\n                          onClick={() => setShowDatePanel(false)}\n                        />\n                        <div className=\"absolute left-0 top-full mt-2 z-50\">\n                          <DateFilterPanel\n                            value={dateRange}\n                            onApply={(range) => {\n                              onDateFilter?.(range);\n                              setShowDatePanel(false);\n                            }}\n                            onClear={() => {\n                              onDateFilter?.(null);\n                              setShowDatePanel(false);\n                            }}\n                          />\n                        </div>\n                      </>\n                    )}\n                  </div>\n\n          \n                  {dateRange && (\n                    <div className=\"flex items-center gap-1.5 text-xs font-medium text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-900/20 px-3 py-1.5 rounded-full border border-indigo-200 dark:border-indigo-800\">\n                      <FiCalendar className=\"w-3 h-3\" />\n                      {displayDate(dateRange.from)} —{\" \"}\n                      {displayDate(dateRange.to)}\n                    </div>\n                  )}\n\n                  <div className=\"flex-1\" />\n\n               \n                  <div className=\"flex flex-wrap items-center gap-2\">\n                    <span className=\"flex items-center gap-1 text-xs font-medium text-gray-400\">\n                      <FiFilter className=\"w-3.5 h-3.5\" />\n                    </span>\n                    <select\n                      value={entityFilter}\n                      onChange={(e) => setEntityFilter(e.target.value)}\n                      className=\"text-xs rounded-lg border border-slate-200 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-indigo-500/30\"\n                    >\n                      <option value=\"all\">All Entities</option>\n                      {Object.values(ACTIVITY_ENTITY_TYPE).map((v) => (\n                        <option key={v} value={v}>\n                          {ENTITY_CONFIG[v]?.label ?? v}\n                        </option>\n                      ))}\n                    </select>\n                    <select\n                      value={actionFilter}\n                      onChange={(e) => setActionFilter(e.target.value)}\n                      className=\"text-xs rounded-lg border border-slate-200 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-indigo-500/30\"\n                    >\n                      <option value=\"all\">All Actions</option>\n                      {Object.values(ACTIVITY_ACTION).map((v) => (\n                        <option key={v} value={v}>\n                          {ACTION_CONFIG[v]?.label ?? v}\n                        </option>\n                      ))}\n                    </select>\n                    {hasClientFilters && (\n                      <button\n                        onClick={() => {\n                          setEntityFilter(\"all\");\n                          setActionFilter(\"all\");\n                        }}\n                        className=\"text-xs text-red-500 hover:text-red-600 font-medium flex items-center gap-1\"\n                      >\n                        <FiX className=\"w-3 h-3\" />\n                        Clear\n                      </button>\n                    )}\n                    <span className=\"text-xs text-gray-400 tabular-nums\">\n                      {filteredActivities.length} results\n                    </span>\n                  </div>\n                </div>\n\n                {totalActivities === 0 ? (\n                  <div className=\"text-center py-16 space-y-3\">\n                    <FiActivity className=\"w-12 h-12 text-gray-200 dark:text-gray-600 mx-auto\" />\n                    <p className=\"text-gray-400 font-medium\">\n                      No activity recorded for this period\n                    </p>\n                    {dateRange && (\n                      <button\n                        onClick={() => onDateFilter?.(null)}\n                        className=\"text-sm text-indigo-500 hover:text-indigo-600 font-medium\"\n                      >\n                        Clear date filter\n                      </button>\n                    )}\n                  </div>\n                ) : (\n                  <>\n                   \n                    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-5\">\n                     \n                      <div className=\"lg:col-span-2 bg-slate-50 dark:bg-gray-700/40 rounded-2xl p-5 border border-slate-100 dark:border-gray-700\">\n                        <div className=\"flex items-center justify-between mb-4\">\n                          <div className=\"flex items-center gap-2\">\n                            <div className=\"w-7 h-7 bg-indigo-100 dark:bg-indigo-900/40 rounded-lg flex items-center justify-center\">\n                              <IoTrendingUp className=\"w-4 h-4 text-indigo-600 dark:text-indigo-400\" />\n                            </div>\n                            <p className=\"text-sm font-semibold text-gray-700 dark:text-gray-200\">\n                              Activity Over Time\n                            </p>\n                          </div>\n                          <span className=\"text-xs font-medium text-gray-400 bg-white dark:bg-gray-800 px-2.5 py-1 rounded-full border border-slate-200 dark:border-gray-600\">\n                            {totalActivities} total\n                          </span>\n                        </div>\n                        <ResponsiveContainer width=\"100%\" height={190}>\n                          <AreaChart\n                            data={dailyAreaData}\n                            margin={{ top: 5, right: 5, left: -20, bottom: 0 }}\n                          >\n                            <defs>\n                              <linearGradient\n                                id=\"actGrad\"\n                                x1=\"0\"\n                                y1=\"0\"\n                                x2=\"0\"\n                                y2=\"1\"\n                              >\n                                <stop\n                                  offset=\"5%\"\n                                  stopColor=\"#6366f1\"\n                                  stopOpacity={0.3}\n                                />\n                                <stop\n                                  offset=\"95%\"\n                                  stopColor=\"#6366f1\"\n                                  stopOpacity={0}\n                                />\n                              </linearGradient>\n                            </defs>\n                            <CartesianGrid\n                              strokeDasharray=\"3 3\"\n                              stroke=\"#e2e8f0\"\n                              strokeOpacity={0.4}\n                            />\n                            <XAxis\n                              dataKey=\"date\"\n                              tick={{ fontSize: 11, fill: \"#94a3b8\" }}\n                              axisLine={false}\n                              tickLine={false}\n                            />\n                            <YAxis\n                              allowDecimals={false}\n                              tick={{ fontSize: 11, fill: \"#94a3b8\" }}\n                              axisLine={false}\n                              tickLine={false}\n                            />\n                            <Tooltip content={<ChartTooltip />} />\n                            <Area\n                              type=\"monotone\"\n                              dataKey=\"count\"\n                              name=\"Activities\"\n                              stroke=\"#6366f1\"\n                              strokeWidth={2.5}\n                              fill=\"url(#actGrad)\"\n                              dot={{\n                                r: 4,\n                                fill: \"#6366f1\",\n                                strokeWidth: 2,\n                                stroke: \"#fff\",\n                              }}\n                              activeDot={{\n                                r: 6,\n                                fill: \"#6366f1\",\n                                stroke: \"#fff\",\n                                strokeWidth: 2,\n                              }}\n                            />\n                          </AreaChart>\n                        </ResponsiveContainer>\n                      </div>\n\n                      {/* Donut chart */}\n                      <div className=\"bg-slate-50 dark:bg-gray-700/40 rounded-2xl p-5 border border-slate-100 dark:border-gray-700 flex flex-col\">\n                        <div className=\"flex items-center gap-2 mb-4\">\n                          <div className=\"w-7 h-7 bg-amber-100 dark:bg-amber-900/40 rounded-lg flex items-center justify-center\">\n                            <BsCircleFill className=\"w-3.5 h-3.5 text-amber-600 dark:text-amber-400\" />\n                          </div>\n                          <p className=\"text-sm font-semibold text-gray-700 dark:text-gray-200\">\n                            By Entity\n                          </p>\n                        </div>\n                        <ResponsiveContainer width=\"100%\" height={145}>\n                          <PieChart>\n                            <Pie\n                              data={entityPieData}\n                              cx=\"50%\"\n                              cy=\"50%\"\n                              innerRadius={40}\n                              outerRadius={64}\n                              dataKey=\"value\"\n                              paddingAngle={4}\n                              stroke=\"none\"\n                            >\n                              {entityPieData.map((_, i) => (\n                                <Cell\n                                  key={i}\n                                  fill={PIE_COLORS[i % PIE_COLORS.length]}\n                                />\n                              ))}\n                            </Pie>\n                            <Tooltip content={<ChartTooltip />} />\n                          </PieChart>\n                        </ResponsiveContainer>\n                        {/* Legend with counts */}\n                        <div className=\"mt-3 space-y-1.5\">\n                          {entityPieData.map((e, i) => (\n                            <div\n                              key={e.name}\n                              className=\"flex items-center gap-2\"\n                            >\n                              <div\n                                className=\"w-2.5 h-2.5 rounded-sm shrink-0\"\n                                style={{\n                                  background: PIE_COLORS[i % PIE_COLORS.length],\n                                }}\n                              />\n                              <span className=\"text-xs text-gray-500 dark:text-gray-400 flex-1\">\n                                {e.name}\n                              </span>\n                              <span className=\"text-xs font-bold text-gray-700 dark:text-gray-200 tabular-nums\">\n                                {e.value}\n                              </span>\n                              <span className=\"text-xs text-gray-400 tabular-nums\">\n                                ({Math.round((e.value / totalActivities) * 100)}\n                                %)\n                              </span>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Bar chart */}\n                    <div className=\"bg-slate-50 dark:bg-gray-700/40 rounded-2xl p-5 border border-slate-100 dark:border-gray-700\">\n                      <div className=\"flex items-center justify-between mb-4\">\n                        <div className=\"flex items-center gap-2\">\n                          <div className=\"w-7 h-7 bg-emerald-100 dark:bg-emerald-900/40 rounded-lg flex items-center justify-center\">\n                            <FiActivity className=\"w-4 h-4 text-emerald-600 dark:text-emerald-400\" />\n                          </div>\n                          <p className=\"text-sm font-semibold text-gray-700 dark:text-gray-200\">\n                            Actions Breakdown\n                          </p>\n                        </div>\n                        <span className=\"text-xs text-gray-400\">\n                          {actionBarData.length} action types\n                        </span>\n                      </div>\n                      <ResponsiveContainer width=\"100%\" height={150}>\n                        <BarChart\n                          data={actionBarData}\n                          margin={{ top: 0, right: 5, left: -20, bottom: 0 }}\n                        >\n                          <CartesianGrid\n                            strokeDasharray=\"3 3\"\n                            stroke=\"#e2e8f0\"\n                            strokeOpacity={0.4}\n                            vertical={false}\n                          />\n                          <XAxis\n                            dataKey=\"name\"\n                            tick={{ fontSize: 11, fill: \"#94a3b8\" }}\n                            axisLine={false}\n                            tickLine={false}\n                          />\n                          <YAxis\n                            allowDecimals={false}\n                            tick={{ fontSize: 11, fill: \"#94a3b8\" }}\n                            axisLine={false}\n                            tickLine={false}\n                          />\n                          <Tooltip content={<ChartTooltip />} />\n                          <Bar\n                            dataKey=\"count\"\n                            name=\"Count\"\n                            radius={[5, 5, 0, 0]}\n                            maxBarSize={52}\n                          >\n                            {actionBarData.map((_, i) => (\n                              <Cell\n                                key={i}\n                                fill={BAR_COLORS[i % BAR_COLORS.length]}\n                              />\n                            ))}\n                          </Bar>\n                        </BarChart>\n                      </ResponsiveContainer>\n                    </div>\n\n                    {/* Timeline */}\n                    <div className=\"pt-2\">\n                      {filteredActivities.length === 0 ? (\n                        <p className=\"text-sm text-gray-400 text-center py-8\">\n                          No activities match the selected filters.\n                        </p>\n                      ) : (\n                        filteredActivities.map((activity) => (\n                          <ActivityRow key={activity.id} activity={activity} />\n                        ))\n                      )}\n                    </div>\n\n                    {/* Pagination */}\n                    {totalPages > 1 && onPageChange && (\n                      <div className=\"flex items-center justify-between pt-4 border-t border-slate-100 dark:border-gray-700\">\n                        <p className=\"text-xs text-gray-400\">\n                          Page {currentPage} of {totalPages}\n                        </p>\n                        <div className=\"flex items-center gap-2\">\n                          <button\n                            onClick={() => onPageChange(currentPage - 1)}\n                            disabled={currentPage <= 1}\n                            className=\"p-1.5 rounded-lg border border-slate-200 dark:border-gray-600 disabled:opacity-40 hover:bg-slate-50 dark:hover:bg-gray-700 transition-colors\"\n                          >\n                            <FiChevronLeft className=\"w-4 h-4\" />\n                          </button>\n                          <button\n                            onClick={() => onPageChange(currentPage + 1)}\n                            disabled={currentPage >= totalPages}\n                            className=\"p-1.5 rounded-lg border border-slate-200 dark:border-gray-600 disabled:opacity-40 hover:bg-slate-50 dark:hover:bg-gray-700 transition-colors\"\n                          >\n                            <FiChevronRight className=\"w-4 h-4\" />\n                          </button>\n                        </div>\n                      </div>\n                    )}\n                  </>\n                )}\n              </>\n            )}\n          </div>\n        )}\n\n        {/* ── Summary ────────────────────────────────────────────────── */}\n        {activeTab === \"summary\" && (\n          <div className=\"p-6 space-y-6\">\n            {summaryLoading ? (\n              <div className=\"flex flex-col items-center justify-center py-16 gap-3\">\n                <div className=\"w-9 h-9 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin\" />\n                <p className=\"text-sm text-gray-400\">Loading summary…</p>\n              </div>\n            ) : !activitySummary ? (\n              <div className=\"text-center py-16\">\n                <IoBarChart className=\"w-12 h-12 text-gray-200 dark:text-gray-600 mx-auto mb-3\" />\n                <p className=\"text-gray-400 font-medium\">\n                  No summary data available\n                </p>\n              </div>\n            ) : (\n              <>\n                {/* ── Summary filter bar ─────────────────────────────── */}\n                <div className=\"flex flex-wrap items-center gap-3\">\n                  {/* Date range trigger — reuses the same DateFilterPanel */}\n                  <div className=\"relative\">\n                    <button\n                      onClick={() => setShowSummaryDatePanel((v) => !v)}\n                      className={`flex items-center gap-2 text-sm font-medium px-4 py-2.5 rounded-xl border transition-all ${\n                        summaryFilter?.from || summaryFilter?.to\n                          ? \"bg-indigo-600 text-white border-indigo-600 shadow-md shadow-indigo-200 dark:shadow-indigo-900/30\"\n                          : \"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-slate-200 dark:border-gray-600 hover:border-indigo-400 hover:text-indigo-600 dark:hover:text-indigo-400\"\n                      }`}\n                    >\n                      <LuCalendarRange className=\"w-4 h-4\" />\n                      {summaryFilter?.from && summaryFilter?.to\n                        ? `${displayDate(summaryFilter.from)} – ${displayDate(summaryFilter.to)}`\n                        : \"Date Range\"}\n                      {(summaryFilter?.from || summaryFilter?.to) && (\n                        <span\n                          role=\"button\"\n                          tabIndex={0}\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            onSummaryFilter?.({\n                              ...summaryFilter,\n                              from: undefined,\n                              to: undefined,\n                            });\n                          }}\n                          onKeyDown={(e) =>\n                            e.key === \"Enter\" &&\n                            (e.stopPropagation(),\n                            onSummaryFilter?.({\n                              groupBy: summaryFilter?.groupBy,\n                            }))\n                          }\n                          className=\"ml-1 hover:opacity-70\"\n                        >\n                          <FiX className=\"w-3.5 h-3.5\" />\n                        </span>\n                      )}\n                    </button>\n\n                    {showSummaryDatePanel && (\n                      <>\n                        <div\n                          className=\"fixed inset-0 z-40\"\n                          onClick={() => setShowSummaryDatePanel(false)}\n                        />\n                        <div className=\"absolute left-0 top-full mt-2 z-50\">\n                          <DateFilterPanel\n                            value={\n                              summaryFilter?.from && summaryFilter?.to\n                                ? {\n                                    from: summaryFilter.from,\n                                    to: summaryFilter.to,\n                                  }\n                                : null\n                            }\n                            onApply={(range) => {\n                              onSummaryFilter?.({ ...summaryFilter, ...range });\n                              setShowSummaryDatePanel(false);\n                            }}\n                            onClear={() => {\n                              onSummaryFilter?.({\n                                groupBy: summaryFilter?.groupBy,\n                              });\n                              setShowSummaryDatePanel(false);\n                            }}\n                          />\n                        </div>\n                      </>\n                    )}\n                  </div>\n\n                  {/* GroupBy selector */}\n                  <div className=\"flex items-center gap-1 bg-white dark:bg-gray-800 border border-slate-200 dark:border-gray-600 rounded-xl p-1\">\n                    {([\"day\", \"week\", \"month\"] as const).map((g) => (\n                      <button\n                        key={g}\n                        onClick={() =>\n                          onSummaryFilter?.({ ...summaryFilter, groupBy: g })\n                        }\n                        className={`text-xs font-semibold px-3 py-1.5 rounded-lg capitalize transition-all ${\n                          (summaryFilter?.groupBy ?? \"month\") === g\n                            ? \"bg-indigo-600 text-white shadow-sm\"\n                            : \"text-gray-500 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400\"\n                        }`}\n                      >\n                        {g}\n                      </button>\n                    ))}\n                  </div>\n\n                  <div className=\"flex items-center gap-3\">\n                  {summaryFilter?.from && summaryFilter?.to && (\n                    <div className=\"flex items-center gap-1.5 text-xs font-medium text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-900/20 px-3 py-1.5 rounded-full border border-indigo-200 dark:border-indigo-800\">\n                      <FiCalendar className=\"w-3 h-3\" />\n                      {displayDate(summaryFilter.from)} —{\" \"}\n                      {displayDate(summaryFilter.to)}\n                    </div>\n                  )}\n\n                  \n                  {(summaryFilter?.from ||\n                    summaryFilter?.to ||\n                    summaryFilter?.groupBy) && (\n                    <button\n                      onClick={() => onSummaryFilter?.({})}\n                      className=\"text-xs text-red-500 hover:text-white bg-red-50 hover:bg-red-500 px-2.5 py-1 rounded-full cursor-pointer group font-medium flex items-center gap-1 ml-auto\"\n                    >\n                      <FiX className=\"w-3 h-3 group-hover:rotate-90\" /> Reset\n                    </button>\n                  )}\n                   </div>\n                  \n                  {activitySummary && (\n                    <span className=\"ml-auto text-xs text-gray-400 flex items-center gap-1.5\">\n                      <span className=\"w-1.5 h-1.5 rounded-full bg-emerald-500 inline-block\" />\n                      {displayDate(activitySummary.range.from)} —{\" \"}\n                      {displayDate(activitySummary.range.to)}\n                      <span className=\"px-1.5 py-0.5 bg-slate-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 rounded capitalize font-medium\">\n                        {activitySummary.range.groupBy}\n                      </span>\n                    </span>\n                  )}\n                </div>\n\n               \n                <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4\">\n                  \n                  <Link href={`/leads?userid=${userData._id}`} className=\"relative overflow-hidden hover:scale-105 cursor-point hover:shadow-[0_0_8px_10px_#00000014] bg-white dark:bg-gray-800 border border-slate-100 dark:border-gray-700 rounded-2xl p-5\">\n                    <div className=\"flex items-start gap-3\">\n                      <div className=\"w-10 h-10 rounded-xl bg-indigo-500 flex items-center justify-center shrink-0\">\n                        <HiOutlineUserGroup className=\"w-5 h-5 text-white\" />\n                      </div>\n                      <div>\n                        <p className=\"text-xs font-medium text-gray-400 uppercase tracking-wider\">\n                          Leads Created\n                        </p>\n                        <p className=\"text-2xl font-bold text-gray-900 dark:text-white mt-0.5\">\n                          {activitySummary.leads.created.reduce(\n                            (s, b) => s + b.count,\n                            0,\n                          )}\n                        </p>\n                        <p className=\"text-xs text-rose-500 mt-0.5\">\n                          {activitySummary.leads.lost} lost\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"absolute -right-3 -bottom-3 w-16 h-16 rounded-full bg-indigo-500 opacity-[0.07]\" />\n                  </Link>\n\n          \n                  <Link href={`/deals?userid=${userData._id}`} className=\"relative overflow-hidden hover:scale-105 cursor-point hover:shadow-[0_0_8px_10px_#00000014] bg-white dark:bg-gray-800 border border-slate-100 dark:border-gray-700 rounded-2xl p-5\">\n                    <div className=\"flex items-start gap-3\">\n                      <div className=\"w-10 h-10 rounded-xl bg-emerald-500 flex items-center justify-center shrink-0\">\n                        <HiOutlineBriefcase className=\"w-5 h-5 text-white\" />\n                      </div>\n                      <div>\n                        <p className=\"text-xs font-medium text-gray-400 uppercase tracking-wider\">\n                          Deals Created\n                        </p>\n                        <p className=\"text-2xl font-bold text-gray-900 dark:text-white mt-0.5\">\n                          {activitySummary.deals.created.reduce(\n                            (s, b) => s + b.count,\n                            0,\n                          )}\n                        </p>\n                        <p className=\"text-xs text-gray-400 mt-0.5\">\n                          <span className=\"text-emerald-500\">\n                            {activitySummary.deals.won} won\n                          </span>\n                          {\" · \"}\n                          <span className=\"text-rose-500\">\n                            {activitySummary.deals.lost} lost\n                          </span>\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"absolute -right-3 -bottom-3 w-16 h-16 rounded-full bg-emerald-500 opacity-[0.07]\" />\n                  </Link>\n\n                  {/* Quotations */}\n                  <div className=\"relative overflow-hidden bg-white dark:bg-gray-800 border border-slate-100 dark:border-gray-700 rounded-2xl p-5\">\n                    <div className=\"flex items-start gap-3\">\n                      <div className=\"w-10 h-10 rounded-xl bg-amber-500 flex items-center justify-center shrink-0\">\n                        <HiOutlineDocumentText className=\"w-5 h-5 text-white\" />\n                      </div>\n                      <div>\n                        <p className=\"text-xs font-medium text-gray-400 uppercase tracking-wider\">\n                          Quotations\n                        </p>\n                        <p className=\"text-2xl font-bold text-gray-900 dark:text-white mt-0.5\">\n                          {activitySummary.quotations.sent +\n                            activitySummary.quotations.accepted}\n                        </p>\n                        <p className=\"text-xs text-gray-400 mt-0.5\">\n                          <span className=\"text-violet-500\">\n                            {activitySummary.quotations.sent} sent\n                          </span>\n                          {\" · \"}\n                          <span className=\"text-emerald-500\">\n                            {activitySummary.quotations.accepted} accepted\n                          </span>\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"absolute -right-3 -bottom-3 w-16 h-16 rounded-full bg-amber-500 opacity-[0.07]\" />\n                  </div>\n\n              \n                  <div className=\"relative overflow-hidden bg-white dark:bg-gray-800 border border-slate-100 dark:border-gray-700 rounded-2xl p-5\">\n                    <div className=\"flex items-start gap-3\">\n                      <div className=\"w-10 h-10 rounded-xl bg-blue-500 flex items-center justify-center shrink-0\">\n                        <HiOutlineCurrencyDollar className=\"w-5 h-5 text-white\" />\n                      </div>\n                      <div>\n                        <p className=\"text-xs font-medium text-gray-400 uppercase tracking-wider\">\n                          Invoices\n                        </p>\n                        <p className=\"text-2xl font-bold text-gray-900 dark:text-white mt-0.5\">\n                          {activitySummary.invoices.created}\n                        </p>\n                        <p className=\"text-xs text-gray-400 mt-0.5\">created</p>\n                      </div>\n                    </div>\n                    <div className=\"absolute -right-3 -bottom-3 w-16 h-16 rounded-full bg-blue-500 opacity-[0.07]\" />\n                  </div>\n                </div>\n\n             \n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-5\">\n                  {/* Leads over time */}\n                  <div className=\"bg-slate-50 dark:bg-gray-700/40 rounded-2xl p-5 border border-slate-100 dark:border-gray-700\">\n                    <div className=\"flex items-center gap-2 mb-4\">\n                      <div className=\"w-7 h-7 bg-indigo-100 dark:bg-indigo-900/40 rounded-lg flex items-center justify-center\">\n                        <HiOutlineUserGroup className=\"w-4 h-4 text-indigo-600 dark:text-indigo-400\" />\n                      </div>\n                      <p className=\"text-sm font-semibold text-gray-700 dark:text-gray-200\">\n                        Leads Created\n                      </p>\n                      <span className=\"ml-auto text-xs font-bold text-indigo-600 dark:text-indigo-400\">\n                        {activitySummary.leads.created.reduce(\n                          (s, b) => s + b.count,\n                          0,\n                        )}{\" \"}\n                        total\n                      </span>\n                    </div>\n                    {activitySummary.leads.created.length > 0 ? (\n                      <ResponsiveContainer width=\"100%\" height={160}>\n                        <AreaChart\n                          data={activitySummary.leads.created.map((b) => ({\n                            period: String(b._id),\n                            count: b.count,\n                          }))}\n                          margin={{ top: 5, right: 5, left: -20, bottom: 0 }}\n                        >\n                          <defs>\n                            <linearGradient\n                              id=\"leadsGrad\"\n                              x1=\"0\"\n                              y1=\"0\"\n                              x2=\"0\"\n                              y2=\"1\"\n                            >\n                              <stop\n                                offset=\"5%\"\n                                stopColor=\"#6366f1\"\n                                stopOpacity={0.3}\n                              />\n                              <stop\n                                offset=\"95%\"\n                                stopColor=\"#6366f1\"\n                                stopOpacity={0}\n                              />\n                            </linearGradient>\n                          </defs>\n                          <CartesianGrid\n                            strokeDasharray=\"3 3\"\n                            stroke=\"#e2e8f0\"\n                            strokeOpacity={0.4}\n                          />\n                          <XAxis\n                            dataKey=\"period\"\n                            tick={{ fontSize: 11, fill: \"#94a3b8\" }}\n                            axisLine={false}\n                            tickLine={false}\n                          />\n                          <YAxis\n                            allowDecimals={false}\n                            tick={{ fontSize: 11, fill: \"#94a3b8\" }}\n                            axisLine={false}\n                            tickLine={false}\n                          />\n                          <Tooltip content={<ChartTooltip />} />\n                          <Area\n                            type=\"monotone\"\n                            dataKey=\"count\"\n                            name=\"Leads\"\n                            stroke=\"#6366f1\"\n                            strokeWidth={2.5}\n                            fill=\"url(#leadsGrad)\"\n                            dot={{\n                              r: 4,\n                              fill: \"#6366f1\",\n                              strokeWidth: 2,\n                              stroke: \"#fff\",\n                            }}\n                            activeDot={{\n                              r: 6,\n                              fill: \"#6366f1\",\n                              stroke: \"#fff\",\n                              strokeWidth: 2,\n                            }}\n                          />\n                        </AreaChart>\n                      </ResponsiveContainer>\n                    ) : (\n                      <div className=\"flex items-center justify-center h-40 text-sm text-gray-400\">\n                        No data for this period\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Deals over time */}\n                  <div className=\"bg-slate-50 dark:bg-gray-700/40 rounded-2xl p-5 border border-slate-100 dark:border-gray-700\">\n                    <div className=\"flex items-center gap-2 mb-4\">\n                      <div className=\"w-7 h-7 bg-emerald-100 dark:bg-emerald-900/40 rounded-lg flex items-center justify-center\">\n                        <HiOutlineBriefcase className=\"w-4 h-4 text-emerald-600 dark:text-emerald-400\" />\n                      </div>\n                      <p className=\"text-sm font-semibold text-gray-700 dark:text-gray-200\">\n                        Deals Created\n                      </p>\n                      <span className=\"ml-auto text-xs font-bold text-emerald-600 dark:text-emerald-400\">\n                        {activitySummary.deals.created.reduce(\n                          (s, b) => s + b.count,\n                          0,\n                        )}{\" \"}\n                        total\n                      </span>\n                    </div>\n                    {activitySummary.deals.created.length > 0 ? (\n                      <ResponsiveContainer width=\"100%\" height={160}>\n                        <AreaChart\n                          data={activitySummary.deals.created.map((b) => ({\n                            period: String(b._id),\n                            count: b.count,\n                          }))}\n                          margin={{ top: 5, right: 5, left: -20, bottom: 0 }}\n                        >\n                          <defs>\n                            <linearGradient\n                              id=\"dealsGrad\"\n                              x1=\"0\"\n                              y1=\"0\"\n                              x2=\"0\"\n                              y2=\"1\"\n                            >\n                              <stop\n                                offset=\"5%\"\n                                stopColor=\"#10b981\"\n                                stopOpacity={0.3}\n                              />\n                              <stop\n                                offset=\"95%\"\n                                stopColor=\"#10b981\"\n                                stopOpacity={0}\n                              />\n                            </linearGradient>\n                          </defs>\n                          <CartesianGrid\n                            strokeDasharray=\"3 3\"\n                            stroke=\"#e2e8f0\"\n                            strokeOpacity={0.4}\n                          />\n                          <XAxis\n                            dataKey=\"period\"\n                            tick={{ fontSize: 11, fill: \"#94a3b8\" }}\n                            axisLine={false}\n                            tickLine={false}\n                          />\n                          <YAxis\n                            allowDecimals={false}\n                            tick={{ fontSize: 11, fill: \"#94a3b8\" }}\n                            axisLine={false}\n                            tickLine={false}\n                          />\n                          <Tooltip content={<ChartTooltip />} />\n                          <Area\n                            type=\"monotone\"\n                            dataKey=\"count\"\n                            name=\"Deals\"\n                            stroke=\"#10b981\"\n                            strokeWidth={2.5}\n                            fill=\"url(#dealsGrad)\"\n                            dot={{\n                              r: 4,\n                              fill: \"#10b981\",\n                              strokeWidth: 2,\n                              stroke: \"#fff\",\n                            }}\n                            activeDot={{\n                              r: 6,\n                              fill: \"#10b981\",\n                              stroke: \"#fff\",\n                              strokeWidth: 2,\n                            }}\n                          />\n                        </AreaChart>\n                      </ResponsiveContainer>\n                    ) : (\n                      <div className=\"flex items-center justify-center h-40 text-sm text-gray-400\">\n                        No data for this period\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {/* ── Quotations + Deals win/loss bar charts ─────────── */}\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-5\">\n                  {/* Quotations breakdown bar */}\n                  <div className=\"bg-slate-50 dark:bg-gray-700/40 rounded-2xl p-5 border border-slate-100 dark:border-gray-700\">\n                    <div className=\"flex items-center gap-2 mb-4\">\n                      <div className=\"w-7 h-7 bg-amber-100 dark:bg-amber-900/40 rounded-lg flex items-center justify-center\">\n                        <HiOutlineDocumentText className=\"w-4 h-4 text-amber-600 dark:text-amber-400\" />\n                      </div>\n                      <p className=\"text-sm font-semibold text-gray-700 dark:text-gray-200\">\n                        Quotations Breakdown\n                      </p>\n                    </div>\n                    <ResponsiveContainer width=\"100%\" height={140}>\n                      <BarChart\n                        data={[\n                          {\n                            name: \"Sent\",\n                            value: activitySummary.quotations.sent,\n                          },\n                          {\n                            name: \"Accepted\",\n                            value: activitySummary.quotations.accepted,\n                          },\n                        ]}\n                        margin={{ top: 0, right: 5, left: -20, bottom: 0 }}\n                      >\n                        <CartesianGrid\n                          strokeDasharray=\"3 3\"\n                          stroke=\"#e2e8f0\"\n                          strokeOpacity={0.4}\n                          vertical={false}\n                        />\n                        <XAxis\n                          dataKey=\"name\"\n                          tick={{ fontSize: 11, fill: \"#94a3b8\" }}\n                          axisLine={false}\n                          tickLine={false}\n                        />\n                        <YAxis\n                          allowDecimals={false}\n                          tick={{ fontSize: 11, fill: \"#94a3b8\" }}\n                          axisLine={false}\n                          tickLine={false}\n                        />\n                        <Tooltip content={<ChartTooltip />} />\n                        <Bar\n                          dataKey=\"value\"\n                          name=\"Count\"\n                          radius={[5, 5, 0, 0]}\n                          maxBarSize={60}\n                        >\n                          <Cell fill=\"#8b5cf6\" />\n                          <Cell fill=\"#10b981\" />\n                        </Bar>\n                      </BarChart>\n                    </ResponsiveContainer>\n                  </div>\n\n                  {/* Deals win/loss breakdown bar */}\n                  <div className=\"bg-slate-50 dark:bg-gray-700/40 rounded-2xl p-5 border border-slate-100 dark:border-gray-700\">\n                    <div className=\"flex items-center gap-2 mb-4\">\n                      <div className=\"w-7 h-7 bg-emerald-100 dark:bg-emerald-900/40 rounded-lg flex items-center justify-center\">\n                        <HiOutlineBriefcase className=\"w-4 h-4 text-emerald-600 dark:text-emerald-400\" />\n                      </div>\n                      <p className=\"text-sm font-semibold text-gray-700 dark:text-gray-200\">\n                        Deals Outcome\n                      </p>\n                    </div>\n                    <ResponsiveContainer width=\"100%\" height={140}>\n                      <BarChart\n                        data={[\n                          {\n                            name: \"Created\",\n                            value: activitySummary.deals.created.reduce(\n                              (s, b) => s + b.count,\n                              0,\n                            ),\n                          },\n                          { name: \"Won\", value: activitySummary.deals.won },\n                          { name: \"Lost\", value: activitySummary.deals.lost },\n                        ]}\n                        margin={{ top: 0, right: 5, left: -20, bottom: 0 }}\n                      >\n                        <CartesianGrid\n                          strokeDasharray=\"3 3\"\n                          stroke=\"#e2e8f0\"\n                          strokeOpacity={0.4}\n                          vertical={false}\n                        />\n                        <XAxis\n                          dataKey=\"name\"\n                          tick={{ fontSize: 11, fill: \"#94a3b8\" }}\n                          axisLine={false}\n                          tickLine={false}\n                        />\n                        <YAxis\n                          allowDecimals={false}\n                          tick={{ fontSize: 11, fill: \"#94a3b8\" }}\n                          axisLine={false}\n                          tickLine={false}\n                        />\n                        <Tooltip content={<ChartTooltip />} />\n                        <Bar\n                          dataKey=\"value\"\n                          name=\"Count\"\n                          radius={[5, 5, 0, 0]}\n                          maxBarSize={60}\n                        >\n                          <Cell fill=\"#3b82f6\" />\n                          <Cell fill=\"#10b981\" />\n                          <Cell fill=\"#ef4444\" />\n                        </Bar>\n                      </BarChart>\n                    </ResponsiveContainer>\n                  </div>\n                </div>\n\n                {/* ── Entity performance summary table ───────────────── */}\n                <div className=\"bg-white dark:bg-gray-800 border border-slate-100 dark:border-gray-700 rounded-2xl overflow-hidden\">\n                  <div className=\"px-5 py-4 border-b border-slate-100 dark:border-gray-700\">\n                    <p className=\"text-sm font-semibold text-gray-700 dark:text-gray-200\">\n                      Entity Performance\n                    </p>\n                  </div>\n                  <div className=\"divide-y divide-slate-50 dark:divide-gray-700\">\n                    {[\n                      {\n                        icon: <HiOutlineUserGroup className=\"w-4 h-4\" />,\n                        label: \"Leads\",\n                        color: \"text-indigo-600\",\n                        bg: \"bg-indigo-50 dark:bg-indigo-900/30\",\n                        stats: [\n                          {\n                            label: \"Created/Assigned\",\n                            value: activitySummary.leads.created.reduce(\n                              (s, b) => s + b.count,\n                              0,\n                            ),\n                            color: \"text-gray-800 dark:text-gray-100\",\n                          },\n                          {\n                            label: \"Lost\",\n                            value: activitySummary.leads.lost,\n                            color: \"text-rose-500\",\n                          },\n                        ],\n                      },\n                      {\n                        icon: <HiOutlineBriefcase className=\"w-4 h-4\" />,\n                        label: \"Deals\",\n                        color: \"text-emerald-600\",\n                        bg: \"bg-emerald-50 dark:bg-emerald-900/30\",\n                        stats: [\n                          {\n                            label: \"Created\",\n                            value: activitySummary.deals.created.reduce(\n                              (s, b) => s + b.count,\n                              0,\n                            ),\n                            color: \"text-gray-800 dark:text-gray-100\",\n                          },\n                          {\n                            label: \"Won\",\n                            value: activitySummary.deals.won,\n                            color: \"text-emerald-500\",\n                          },\n                          {\n                            label: \"Lost\",\n                            value: activitySummary.deals.lost,\n                            color: \"text-rose-500\",\n                          },\n                        ],\n                      },\n                      {\n                        icon: <HiOutlineDocumentText className=\"w-4 h-4\" />,\n                        label: \"Quotations\",\n                        color: \"text-amber-600\",\n                        bg: \"bg-amber-50 dark:bg-amber-900/30\",\n                        stats: [\n                          {\n                            label: \"Sent\",\n                            value: activitySummary.quotations.sent,\n                            color: \"text-violet-500\",\n                          },\n                          {\n                            label: \"Accepted\",\n                            value: activitySummary.quotations.accepted,\n                            color: \"text-emerald-500\",\n                          },\n                        ],\n                      },\n                      {\n                        icon: <HiOutlineCurrencyDollar className=\"w-4 h-4\" />,\n                        label: \"Invoices\",\n                        color: \"text-blue-600\",\n                        bg: \"bg-blue-50 dark:bg-blue-900/30\",\n                        stats: [\n                          {\n                            label: \"Created\",\n                            value: activitySummary.invoices.created,\n                            color: \"text-gray-800 dark:text-gray-100\",\n                          },\n                        ],\n                      },\n                    ].map((row) => (\n                      <div\n                        key={row.label}\n                        className=\"flex items-center gap-4 px-5 py-4 hover:bg-slate-50 dark:hover:bg-gray-700/40 transition-colors\"\n                      >\n                        <span\n                          className={`inline-flex items-center gap-1.5 text-xs font-semibold px-2.5 py-1.5 rounded-lg ${row.bg} ${row.color} min-w-28`}\n                        >\n                          {row.icon}\n                          {row.label}\n                        </span>\n                        <div className=\"flex items-center gap-6 flex-wrap\">\n                          {row.stats.map((s) => (\n                            <div key={s.label} className=\"text-center\">\n                              <p\n                                className={`text-base font-bold tabular-nums ${s.color}`}\n                              >\n                                {s.value}\n                              </p>\n                              <p className=\"text-xs text-gray-400\">{s.label}</p>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n        )}\n\n        {/* ── Roles ──────────────────────────────────────────────────── */}\n        {activeTab === \"roles\" && (\n          <div className=\"p-6 space-y-4\">\n            {!userData.userRole?.length ? (\n              <div className=\"text-center py-12\">\n                <IoShieldCheckmark className=\"w-10 h-10 text-gray-200 dark:text-gray-600 mx-auto mb-3\" />\n                <p className=\"text-gray-400 font-medium\">No roles assigned</p>\n              </div>\n            ) : (\n              userData.userRole.map((role) => (\n                <div\n                  key={role.id}\n                  className=\"border border-slate-100 dark:border-gray-700 rounded-xl p-5\"\n                >\n                  <div className=\"flex items-start justify-between gap-4 flex-wrap mb-4\">\n                    <Link href={`/roles`}  className=\"flex items-center gap-2 group\">\n                      <div className=\"w-8 h-8 bg-linear-to-br from-violet-500 to-indigo-600 rounded-lg flex items-center justify-center\">\n                        <IoShieldCheckmark className=\"w-4 h-4 text-white group-hover:scale-112\" />\n                      </div>\n                      <div>\n                        <h4 className=\"font-semibold group-hover:text-blue-600 dark:group-hover:text-blue-500 text-gray-800 dark:text-gray-100\">\n                          {role.name}\n                        </h4>\n                        <p className=\"text-xs font-mono text-gray-400\">\n                          {role.code}\n                        </p>\n                      </div>\n                    </Link>\n                    <div className=\"flex items-center gap-2\">\n                      {role.isSystemRole && (\n                        <span className=\"text-xs px-2 py-0.5 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full font-medium\">\n                          System Role\n                        </span>\n                      )}\n                      <span\n                        className={`text-xs px-2 py-0.5 rounded-full font-medium ${role.status ? \"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400\" : \"bg-gray-100 dark:bg-gray-700 text-gray-500\"}`}\n                      >\n                        {role.status ? \"Active\" : \"Inactive\"}\n                      </span>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2 text-xs text-gray-400\">\n                    <FiCalendar className=\"w-3 h-3\" />\n                    <span>Created {formatDate(role.createdAt)}</span>\n                    {role.permissions?.length > 0 && (\n                      <>\n                        <span className=\"text-slate-300 dark:text-gray-600\">\n                          •\n                        </span>\n                        <IoShieldCheckmark className=\"w-3 h-3\" />\n                        <span>{role.permissions.length} permissions</span>\n                      </>\n                    )}\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default UserDetail;\n","import React from 'react'\n\nconst ComponentLoader = () => {\n  return (\n    <div className=\"bg-white dark:bg-gray-700 p-6 rounded-xl animate-pulse\">\n        <div className=\"h-6 w-40 bg-gray-300 dark:bg-gray-600 rounded mb-4\" />\n        <div className=\"h-4 w-72 bg-gray-300 dark:bg-gray-600 rounded\" />\n      </div>\n  )\n}\n\nexport default ComponentLoader\n","import api from \"../lib/axios\";\n\ninterface ActivityFilters {\n  entityType?: string;\n  action?: string;\n  from?: string; \n  to?: string;   \n}\n\nexport interface ActivitySummaryFilters {\n  from?: string;\n  to?: string;\n  groupBy?: \"day\" | \"week\" | \"month\";\n}\n\nconst ActivityService = {\n  getByUser(\n    userId: string,\n    page: number,\n    limit: number,\n    filters?: ActivityFilters\n  ) {\n    const params = new URLSearchParams();\n\n    if (page !== undefined) params.append(\"page\", String(page));\n    if (limit !== undefined) params.append(\"limit\", String(limit));\n\n    if (filters) {\n      Object.entries(filters).forEach(([key, value]) => {\n        if (value !== undefined && value !== null && value !== \"\") {\n          params.append(key, String(value));\n        }\n      });\n    }\n\n    return api.get(`/activity/user/${userId}`, { params });\n  },\n  \n  getSummaryByUser(\n    userId: string,\n    filters?: ActivitySummaryFilters\n  ) {\n    const params = new URLSearchParams();\n\n    if (filters) {\n      Object.entries(filters).forEach(([key, value]) => {\n        if (value !== undefined && value !== null && value !== \"\") {\n          params.append(key, String(value));\n        }\n      });\n    }\n\n    return api.get(`/activity/user/${userId}/summary`, { params });\n  },\n};\n\nexport default ActivityService;\n"],"names":[],"mappings":"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"}