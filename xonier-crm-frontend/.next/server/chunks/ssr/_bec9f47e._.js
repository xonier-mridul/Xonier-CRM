module.exports=[82353,a=>{"use strict";var b=a.i(87924),c=a.i(46271),d=a.i(62036);a.s(["default",0,({error:a})=>{if(!a||Array.isArray(a)&&0===a.length)return null;let e=Array.isArray(a)?a:[a];return(0,b.jsx)(d.AnimatePresence,{children:(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.25,ease:"easeOut"},className:"w-full relative rounded-md border border-red-500/50 bg-red-50 dark:bg-red-950  px-4 py-3 text-red-500 dark:text-red-400 ",children:(0,b.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:e.map((a,c)=>(0,b.jsx)("li",{children:a},c))})})})}])},49909,a=>{"use strict";a.s(["default",0,a=>{let b=a?.response?.data;return b?Array.isArray(b.detail)?b.detail.map(a=>a.msg||"Invalid input"):"string"==typeof b.detail?[b.detail]:"string"==typeof b.message?[b.message]:["Unexpected error occurred"]:["Something went wrong"]}])},3711,a=>{"use strict";var b=a.i(72131);let c=b.default.createContext({});function d({count:a=1,wrapper:d,className:e,containerClassName:f,containerTestId:g,circle:h=!1,style:i,...j}){var k,l,m;let n=b.default.useContext(c),o={...j};for(let[a,b]of Object.entries(j))void 0===b&&delete o[a];let p={...n,...o,circle:h},q={...i,...function({baseColor:a,highlightColor:b,width:c,height:d,borderRadius:e,circle:f,direction:g,duration:h,enableAnimation:i=!0,customHighlightBackground:j}){let k={};return"rtl"===g&&(k["--animation-direction"]="reverse"),"number"==typeof h&&(k["--animation-duration"]=`${h}s`),i||(k["--pseudo-element-display"]="none"),("string"==typeof c||"number"==typeof c)&&(k.width=c),("string"==typeof d||"number"==typeof d)&&(k.height=d),("string"==typeof e||"number"==typeof e)&&(k.borderRadius=e),f&&(k.borderRadius="50%"),void 0!==a&&(k["--base-color"]=a),void 0!==b&&(k["--highlight-color"]=b),"string"==typeof j&&(k["--custom-highlight-background"]=j),k}(p)},r="react-loading-skeleton";e&&(r+=` ${e}`);let s=null!=(k=p.inline)&&k,t=[],u=Math.ceil(a);for(let c=0;c<u;c++){let d=q;if(u>a&&c===u-1){let b=null!=(l=d.width)?l:"100%",c=a%1,e="number"==typeof b?b*c:`calc(${b} * ${c})`;d={...d,width:e}}let e=b.default.createElement("span",{className:r,style:d,key:c},"â€Œ");s?t.push(e):t.push(b.default.createElement(b.default.Fragment,{key:c},e,b.default.createElement("br",null)))}return b.default.createElement("span",{className:f,"data-testid":g,"aria-live":"polite","aria-busy":null==(m=p.enableAnimation)||m},d?t.map((a,c)=>b.default.createElement(d,{key:c},a)):t)}a.s(["default",()=>d])},94988,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(71682);a.s(["default",0,({label:a,error:e,type:f="text",className:g="",required:h=!1,...i})=>{let[j,k]=(0,c.useState)(!1),l="password"===f,m="textarea"===f,n=`
    w-full px-3 py-2 rounded-md border
    bg-white dark:bg-gray-700 text-black dark:text-white
    border-gray-300 dark:border-gray-300/30
    disabled:opacity-60 disabled:cursor-not-allowed
    focus:outline-none focus:ring-2 focus:ring-violet-500
    ${e?"border-red-500 focus:ring-red-500":""}
    ${g}
  `;return(0,b.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[a&&(0,b.jsxs)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 capitalize",children:[h&&(0,b.jsx)("span",{className:"text-red-500 text-xl",children:"*"})," ",a]}),(0,b.jsxs)("div",{className:"relative",children:[m?(0,b.jsx)("textarea",{required:h,className:`${n} resize-none`,rows:5,...i}):(0,b.jsx)("input",{type:l&&j?"text":f,required:h,className:n,...i}),l&&(0,b.jsx)("button",{type:"button",onClick:()=>k(a=>!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:hover:text-blue-500",children:j?(0,b.jsx)(d.FaEyeSlash,{}):(0,b.jsx)(d.FaEye,{})})]}),e&&(0,b.jsx)("span",{className:"text-sm text-red-500",children:e})]})}])},57238,a=>{"use strict";var b=a.i(28337);a.s(["RoleService",0,{getRoles:a=>b.default.get(`/user-role/all?page=${a.currentPage}&limit=${a.pageLimit}`),getRolesWithoutPagination:()=>b.default.get("/user-role/all/active/without-pagination"),getRoleById:a=>b.default.get(`/user-role/get-by-id/${a}`),update:(a,c)=>b.default.put(`/user-role/update/${a}`,c),create:a=>b.default.post("/user-role/create",a),delete:a=>b.default.delete(`/user-role/delete/${a}`)}])},8467,99985,a=>{"use strict";var b,c=((b={}).ACTIVE="active",b.INACTIVE="inactive",b.SUSPENDED="suspended",b.DELETED="deleted",b);a.s(["USER_STATUS",()=>c],99985),a.s([],8467)},63152,a=>{"use strict";var b=a.i(87924),c=a.i(49909),d=a.i(61914),e=a.i(83490),f=a.i(72131),g=a.i(50944),h=a.i(94988);a.i(8467);var i=a.i(99985),j=a.i(48196),k=a.i(97168),l=a.i(96407),m=a.i(82353),n=a.i(3711);let o=({formData:a,isLoading:c,handleChange:d,handleRemoveRole:e,handleUserRoleChange:f,roleData:g,loading:o,handleSubmit:p,err:q,handleStatus:r,handleStatusChange:s,statusData:t,statusErr:u,statusLoading:v,passwordData:w,handlePassChange:x,handlePasswordSubmit:y,passErr:z,isPassLoading:A})=>(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-12",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsx)("h2",{className:"text-slate-900 dark:text-white font-medium text-3xl capitalize",children:"Update user information"}),q&&(0,b.jsx)(m.default,{error:q}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-5 flex flex-col gap-4 w-full",children:(0,b.jsxs)("form",{className:"grid grid-cols-2 gap-4",onSubmit:p,children:[c?(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[" ",(0,b.jsx)(n.default,{height:14,width:80,className:"animate-pulse"})," ",(0,b.jsx)(n.default,{height:34,width:500,className:"animate-pulse"})]}):(0,b.jsx)(h.default,{label:"First Name",type:"text",name:"firstName",value:a.firstName,onChange:d,placeholder:"First Name"}),c?(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[" ",(0,b.jsx)(n.default,{height:14,width:80,className:"animate-pulse"})," ",(0,b.jsx)(n.default,{height:34,width:500,className:"animate-pulse"})]}):(0,b.jsx)(h.default,{label:"Last Name",type:"text",name:"lastName",value:a.lastName,onChange:d,placeholder:"Last Name"}),c?(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[" ",(0,b.jsx)(n.default,{height:14,width:80,className:"animate-pulse"})," ",(0,b.jsx)(n.default,{height:34,width:500,className:"animate-pulse"})]}):(0,b.jsx)(h.default,{label:"Email",type:"email",name:"email",value:a.email,onChange:d,placeholder:"Email"}),c?(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[" ",(0,b.jsx)(n.default,{height:14,width:80,className:"animate-pulse"})," ",(0,b.jsx)(n.default,{height:34,width:500,className:"animate-pulse"})]}):(0,b.jsx)(h.default,{label:"phone",type:"text",name:"phone",value:a.phone,onChange:d,placeholder:"Phone"}),c?(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[" ",(0,b.jsx)(n.default,{height:14,width:80,className:"animate-pulse"})," ",(0,b.jsx)(n.default,{height:34,width:500,className:"animate-pulse"})]}):(0,b.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"User Role"}),(0,b.jsxs)("select",{onChange:f,className:"w-full px-3 py-2 rounded-md border bg-white dark:bg-gray-700 text-black dark:text-white border-gray-300 dark:border-gray-300/30",children:[(0,b.jsx)("option",{value:"",children:"Select user role"}),g.map(a=>(0,b.jsx)("option",{value:a.id,hidden:a.code===j.SUPER_ADMIN_ROLE_CODE,disabled:a.code===j.SUPER_ADMIN_ROLE_CODE,children:a.name},a.id))]}),a.userRole.length>0&&(0,b.jsx)("div",{className:"col-span-1 flex flex-wrap gap-2 mt-2",children:a.userRole.map(a=>{let c=g.find(b=>b.id===a);return c?(0,b.jsxs)("span",{className:"flex items-center gap-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:[c.name,(0,b.jsx)("button",{type:"button",onClick:()=>e(a),className:"hover:text-red-500 transition",children:(0,b.jsx)(k.FaXmark,{size:12})})]},a):null})})]}),c?(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[" ",(0,b.jsx)(n.default,{height:14,width:80,className:"animate-pulse"})," ",(0,b.jsx)(n.default,{height:34,width:500,className:"animate-pulse"})]}):(0,b.jsx)(h.default,{label:"company",type:"text",name:"company",value:a.company,onChange:d,placeholder:"Company Name"}),q&&(0,b.jsx)("div",{className:"flex items-end",children:(0,b.jsx)("p",{className:"text-red-500",children:q})}),(0,b.jsxs)(l.default,{className:"col-span-2",isLoading:o,disabled:""===a.firstName||""===a.lastName||""===a.email||""===a.phone||a.userRole.length<=0,children:[" ","Update User Info"," "]})]})})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsx)("h2",{className:"text-slate-900 dark:text-white font-medium text-3xl capitalize",children:"Update user status"}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-5 flex flex-col gap-4 w-full",children:(0,b.jsxs)("form",{onSubmit:r,className:"grid grid-cols-1 gap-4",children:[c?(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[" ",(0,b.jsx)(n.default,{height:14,width:80,className:"animate-pulse"})," ",(0,b.jsx)(n.default,{height:34,width:1100,className:"animate-pulse"})]}):(0,b.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"User Status"}),(0,b.jsxs)("select",{onChange:s,name:"status",value:t.status,className:"w-full px-3 py-2 rounded-md border capitalize bg-white dark:bg-gray-700 text-black dark:text-white border-gray-300 dark:border-gray-300/30",children:[(0,b.jsx)("option",{value:"",hidden:!0,children:"Select user status"}),(0,b.jsx)("option",{value:i.USER_STATUS.ACTIVE,children:i.USER_STATUS.ACTIVE}),(0,b.jsx)("option",{value:i.USER_STATUS.INACTIVE,children:i.USER_STATUS.INACTIVE}),(0,b.jsx)("option",{value:i.USER_STATUS.DELETED,children:i.USER_STATUS.DELETED}),(0,b.jsx)("option",{value:i.USER_STATUS.SUSPENDED,children:i.USER_STATUS.SUSPENDED})]})]}),u&&(0,b.jsx)("div",{className:"flex items-center justify-end w-full",children:(0,b.jsx)("p",{className:"text-red-500",children:u})}),(0,b.jsx)(l.default,{isLoading:v,disabled:""===t.status,children:"Update Status"})]})})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsx)("h2",{className:"text-slate-900 dark:text-white font-medium text-3xl capitalize",children:"Update user Password"}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-5 flex flex-col gap-4 w-full",children:[(0,b.jsxs)("span",{className:"text-slate-600 dark:text-slate-400  text-sm",children:[(0,b.jsx)("span",{className:"text-red-500 text-lg",children:"*"})," Password should one uppercase, one lowercase, one special character and min length 8"]}),(0,b.jsxs)("form",{onSubmit:y,className:"grid grid-cols-1 gap-4",children:[(0,b.jsx)(h.default,{name:"password",type:"password",label:"New Password",onChange:x,value:w.password,placeholder:"Password"}),(0,b.jsx)(h.default,{name:"confirmPassword",type:"password",label:"Confirm Password",onChange:x,value:w.confirmPassword,placeholder:"Confirm Password"}),z&&(0,b.jsx)("div",{className:"flex w-full items-center justify-end",children:(0,b.jsx)("p",{className:"text-red-500",children:z})}),(0,b.jsx)(l.default,{disabled:w.password.length<8||w.confirmPassword.length<8||w.confirmPassword.trim()!==w.password.trim(),isLoading:A,children:"Update Password"})]})]})]})]})});var p=a.i(20094),q=a.i(57238),r=a.i(45991);a.s(["default",0,()=>{let[a,h]=(0,f.useState)(""),[i,j]=(0,f.useState)(""),[k,l]=(0,f.useState)(""),[m,n]=(0,f.useState)([]),[s,t]=(0,f.useState)([]),[u,v]=(0,f.useState)(!1),[w,x]=(0,f.useState)(!1),[y,z]=(0,f.useState)(!1),[A,B]=(0,f.useState)(!1),[C,D]=(0,f.useState)({status:""}),[E,F]=(0,f.useState)({password:"",confirmPassword:""}),[G,H]=(0,f.useState)({firstName:"",lastName:"",email:"",phone:"",userRole:[],company:""}),I=(0,g.useParams)().id,J=(0,g.useRouter)(),K=async()=>{try{let a=await q.RoleService.getRolesWithoutPagination();200===a.status&&t(a.data.data)}catch(a){console.error(a),e.default.isAxiosError(a)?h((0,c.default)(a)):h(["Something went wrong"])}},L=async()=>{v(!0);try{let a=await d.AuthService.getUserById(I);if(200===a.status){let b=a.data.data;n(b),H({firstName:b?.firstName??"",lastName:b?.lastName??"",email:b?.email??"",phone:b?.phone??"",userRole:b?.userRole?.map(a=>a.id)??[],company:b?.company??""}),D({status:b?.status??""})}}catch(a){console.error(a),e.default.isAxiosError(a)?h((0,c.default)(a)):h(["Something went wrong"])}finally{v(!1)}};(0,f.useEffect)(()=>{L(),K()},[]);let M=async a=>{a.preventDefault(),z(!0),h("");try{let a=await d.AuthService.update(I,G);200===a.status&&(p.toast.success(`${G.firstName} ${G.lastName} updated successfully`),setTimeout(()=>{J.push("/users")},2e3))}catch(a){console.error(a),e.default.isAxiosError(a)?h((0,c.default)(a)):h(["Something went wrong"])}finally{z(!1)}},N=async a=>{a.preventDefault(),B(!0),j("");try{if(await (0,r.default)({title:"Are you sure",text:`Are you sure to change ${G.firstName} ${G.lastName} status to ${C.status}?`,btnTxt:"Yes, Change"})){let a=await d.AuthService.updateStatus(I,C);200===a.status&&(p.toast.success(`${G.firstName} ${G.lastName} status to ${C.status.toUpperCase()} updated successfully`),setTimeout(()=>{J.push("/users")},2e3))}}catch(a){console.error(a),e.default.isAxiosError(a)?j((0,c.default)(a)):j(["Something went wrong"])}finally{B(!1)}},O=async a=>{a.preventDefault(),l(""),x(!0);try{if(E.password.trim()!==E.confirmPassword.trim())return void l("Password and confirm password not matching, please check and try again");if(await (0,r.default)({title:"Are you sure",text:`Are you sure to update ${G.firstName} ${G.lastName} password`,btnTxt:"Yes, Update Password"})){let a=await d.AuthService.changePasswordByAdmin(I,E);200===a.status&&(p.toast.success(`${G.firstName} ${G.lastName} password updated successfully`),setTimeout(()=>{J.push("/users")},2e3))}}catch(a){console.error(a),e.default.isAxiosError(a)?l((0,c.default)(a)):l(["Something went wrong"])}finally{x(!1)}};return(0,b.jsx)("div",{className:"ml-72 mt-14 p-6",children:(0,b.jsx)(o,{formData:G,isLoading:u,handleChange:a=>{let{name:b,value:c}=a.target;H(a=>({...a,[b]:c}))},handleUserRoleChange:a=>{let b=a.target.value;if(!G.userRole.includes(b)){if(G.userRole.length>=1)return void p.toast.info("Currently only one user role allowed");H(a=>({...a,userRole:[...a.userRole,b]})),a.target.value=""}},handleRemoveRole:a=>{H(b=>({...b,userRole:b.userRole.filter(b=>b!==a)}))},roleData:s,handleSubmit:M,loading:y,err:a,handleStatus:N,handleStatusChange:a=>{let{name:b,value:c}=a.target;D(a=>({...a,[b]:c}))},statusData:C,statusErr:i,statusLoading:A,passwordData:E,handlePassChange:a=>{let{name:b,value:c}=a.target;F(a=>({...a,[b]:c}))},handlePasswordSubmit:O,passErr:k,isPassLoading:w})})}],63152)}];

//# sourceMappingURL=_bec9f47e._.js.map