{"version":3,"sources":["../../../../src/app/utils/error.utils.tsx","../../../../src/components/ui/Input.tsx","../../../../src/components/pages/reset-password/ResetPassword.tsx","../../../../src/app/%28dashboard%29/reset-password/page.tsx"],"sourcesContent":["const extractErrorMessages = (error: any): string[] => {\n  const data = error?.response?.data;\n\n  if (!data) return [\"Something went wrong\"];\n\n\n  if (Array.isArray(data.detail)) {\n    return data.detail.map((err: any) => err.msg || \"Invalid input\");\n  }\n\n\n  if (typeof data.detail === \"string\") {\n    return [data.detail];\n  }\n\n\n  if (typeof data.message === \"string\") {\n    return [data.message];\n  }\n\n  return [\"Unexpected error occurred\"];\n};\n\nexport default extractErrorMessages\n","\"use client\";\n\nimport React, { useState } from \"react\";\nimport { FaEye, FaEyeSlash } from \"react-icons/fa\";\n\ninterface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement> {\n  label?: string;\n  error?: string;\n  \n}\n\nconst Input: React.FC<InputProps> = ({\n  label,\n  error,\n  type = \"text\",\n  className = \"\",\n  required = false,\n  ...props\n}) => {\n  const [showPassword, setShowPassword] = useState(false);\n\n  const isPassword = type === \"password\";\n  const isTextarea = type === \"textarea\";\n\n  const commonClasses = `\n    w-full px-3 py-2 rounded-md border\n    bg-white dark:bg-gray-700 text-black dark:text-white\n    border-gray-300 dark:border-gray-300/30\n    disabled:opacity-60 disabled:cursor-not-allowed\n    focus:outline-none focus:ring-2 focus:ring-violet-500\n    ${error ? \"border-red-500 focus:ring-red-500\" : \"\"}\n    ${className}\n  `;\n\n  return (\n    <div className=\"flex flex-col gap-1 w-full\">\n      {label && (\n        <label className=\"text-sm font-medium text-gray-700 dark:text-gray-200 capitalize\">\n          {required && <span className=\"text-red-500 text-xl\">*</span>} {label}\n        </label>\n      )}\n\n      <div className=\"relative\">\n        {isTextarea ? (\n          <textarea\n            required={required}\n            className={`${commonClasses} resize-none`}\n            rows={5}\n            {...(props as React.TextareaHTMLAttributes<HTMLTextAreaElement>)}\n          />\n        ) : (\n          <input\n            type={isPassword && showPassword ? \"text\" : type}\n            required={required}\n            className={commonClasses}\n            \n            {...(props as React.InputHTMLAttributes<HTMLInputElement>)}\n          />\n        )}\n\n        {isPassword && (\n          <button\n            type=\"button\"\n            onClick={() => setShowPassword(prev => !prev)}\n            className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:hover:text-blue-500\"\n          >\n            {showPassword ? <FaEyeSlash /> : <FaEye />}\n          </button>\n        )}\n      </div>\n\n      {error && <span className=\"text-sm text-red-500\">{error}</span>}\n    </div>\n  );\n};\n\nexport default Input;\n","\"use client\";\n\nimport React from \"react\";\nimport Input from \"../../ui/Input\";\nimport FormButton from \"../../ui/FormButton\";\nimport { ChangePasswordProps } from \"@/src/types\";\n\nconst ResetPassword: React.FC<ChangePasswordProps> = ({\n  formData,\n  handleChange,\n  onSubmit,\n  isLoading, err\n}) => {\n  return (\n    <div className=\" w-full bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 border border-gray-200 dark:border-gray-700 \">\n      <h2 className=\"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-6\">\n        Change Password\n      </h2>\n\n      <form onSubmit={onSubmit} className=\"flex flex-col gap-5\">\n        \n        <Input\n          label=\"Old Password\"\n          type=\"password\"\n          name=\"oldPassword\"\n          value={formData.oldPassword}\n          onChange={handleChange}\n          placeholder=\"Enter old password\"\n          required\n        />\n\n        \n        <Input\n          label=\"New Password\"\n          type=\"password\"\n          name=\"newPassword\"\n          value={formData.newPassword}\n          onChange={handleChange}\n          placeholder=\"Enter new password\"\n          required\n        />\n\n        \n        <Input\n          label=\"Confirm New Password\"\n          type=\"password\"\n          name=\"confirmNewPassword\"\n          value={formData.confirmNewPassword}\n          onChange={handleChange}\n          placeholder=\"Re-enter new password\"\n          required\n        />\n\n        {err && <div className=\"flex justify-end items-center\">\n            <p className=\"text-red-500\">{err}</p></div>}\n\n        \n        <FormButton isLoading={isLoading} disabled={formData.confirmNewPassword === \"\" || formData.newPassword === \"\" || formData.oldPassword === \"\"}> Submit </FormButton>\n      </form>\n    </div>\n  );\n};\n\nexport default ResetPassword;\n","\"use client\";\nimport ResetPassword from \"@/src/components/pages/reset-password/ResetPassword\";\nimport { MARGIN_TOP, SIDEBAR_WIDTH } from \"@/src/constants/constants\";\nimport React, { useState, useEffect, JSX, FormEvent } from \"react\";\nimport extractErrorMessages from \"../../utils/error.utils\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { AuthService } from \"@/src/services/auth.service\";\n\nconst page = (): JSX.Element => {\n  const [err, setErr] = useState<string[] | string | null>(null);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [formData, setFormData] = useState({\n    oldPassword: \"\",\n    newPassword: \"\",\n    confirmNewPassword: \"\",\n  });\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const handlePasswordChange = async (\n    e: FormEvent<HTMLFormElement>\n  ): Promise<void> => {\n    e.preventDefault();\n    setErr(null);\n    setIsLoading(true);\n    try {\n      if (formData.newPassword !== formData.confirmNewPassword) {\n        toast.error(\n          \"Your password are not matching, please check and try again\"\n        );\n        setErr(\"Your password are not matching, please check and try again\");\n        return\n      }\n\n      if (formData.oldPassword === formData.newPassword) {\n        toast.error(\"Your old and new password are same, please use different\");\n        return;\n      }\n\n      const result = await AuthService.changePassword(formData);\n      if (result.status === 200) {\n        setFormData({\n          oldPassword: \"\",\n          newPassword: \"\",\n          confirmNewPassword: \"\",\n        });\n\n        toast.success(\"password reset successfully\");\n      }\n    } catch (error) {\n      process.env.NEXT_PUBLIC_ENV === \"development\" && console.error(error);\n      if (axios.isAxiosError(error)) {\n        const messages = extractErrorMessages(error);\n        setErr(messages);\n        toast.error(`${messages}`);\n      }\n    } finally {\n        setIsLoading(false)\n    }\n  };\n  return (\n    <div className={`ml-72 mt-14 p-6`}>\n      <ResetPassword\n        formData={formData}\n        handleChange={handleChange}\n        onSubmit={handlePasswordChange}\n        isLoading={isLoading}\n        err={err}\n      />\n    </div>\n  );\n};\n\nexport default page;\n"],"names":[],"mappings":"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"}