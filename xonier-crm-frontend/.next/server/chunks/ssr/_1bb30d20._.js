module.exports=[82353,a=>{"use strict";var b=a.i(87924),c=a.i(46271),d=a.i(62036);a.s(["default",0,({error:a})=>{if(!a||Array.isArray(a)&&0===a.length)return null;let e=Array.isArray(a)?a:[a];return(0,b.jsx)(d.AnimatePresence,{children:(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.25,ease:"easeOut"},className:"w-full relative rounded-md border border-red-500/50 bg-red-50 dark:bg-red-950  px-4 py-3 text-red-500 dark:text-red-400 ",children:(0,b.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:e.map((a,c)=>(0,b.jsx)("li",{children:a},c))})})})}])},49909,a=>{"use strict";a.s(["default",0,a=>{let b=a?.response?.data;return b?Array.isArray(b.detail)?b.detail.map(a=>a.msg||"Invalid input"):"string"==typeof b.detail?[b.detail]:"string"==typeof b.message?[b.message]:["Unexpected error occurred"]:["Something went wrong"]}])},3711,a=>{"use strict";var b=a.i(72131);let c=b.default.createContext({});function d({count:a=1,wrapper:d,className:e,containerClassName:f,containerTestId:g,circle:h=!1,style:i,...j}){var k,l,m;let n=b.default.useContext(c),o={...j};for(let[a,b]of Object.entries(j))void 0===b&&delete o[a];let p={...n,...o,circle:h},q={...i,...function({baseColor:a,highlightColor:b,width:c,height:d,borderRadius:e,circle:f,direction:g,duration:h,enableAnimation:i=!0,customHighlightBackground:j}){let k={};return"rtl"===g&&(k["--animation-direction"]="reverse"),"number"==typeof h&&(k["--animation-duration"]=`${h}s`),i||(k["--pseudo-element-display"]="none"),("string"==typeof c||"number"==typeof c)&&(k.width=c),("string"==typeof d||"number"==typeof d)&&(k.height=d),("string"==typeof e||"number"==typeof e)&&(k.borderRadius=e),f&&(k.borderRadius="50%"),void 0!==a&&(k["--base-color"]=a),void 0!==b&&(k["--highlight-color"]=b),"string"==typeof j&&(k["--custom-highlight-background"]=j),k}(p)},r="react-loading-skeleton";e&&(r+=` ${e}`);let s=null!=(k=p.inline)&&k,t=[],u=Math.ceil(a);for(let c=0;c<u;c++){let d=q;if(u>a&&c===u-1){let b=null!=(l=d.width)?l:"100%",c=a%1,e="number"==typeof b?b*c:`calc(${b} * ${c})`;d={...d,width:e}}let e=b.default.createElement("span",{className:r,style:d,key:c},"â€Œ");s?t.push(e):t.push(b.default.createElement(b.default.Fragment,{key:c},e,b.default.createElement("br",null)))}return b.default.createElement("span",{className:f,"data-testid":g,"aria-live":"polite","aria-busy":null==(m=p.enableAnimation)||m},d?t.map((a,c)=>b.default.createElement(d,{key:c},a)):t)}a.s(["default",()=>d])},94988,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(71682);a.s(["default",0,({label:a,error:e,type:f="text",className:g="",required:h=!1,...i})=>{let[j,k]=(0,c.useState)(!1),l="password"===f,m="textarea"===f,n=`
    w-full px-3 py-2 rounded-md border
    bg-white dark:bg-gray-700 text-black dark:text-white
    border-gray-300 dark:border-gray-300/30
    disabled:opacity-60 disabled:cursor-not-allowed
    focus:outline-none focus:ring-2 focus:ring-violet-500
    ${e?"border-red-500 focus:ring-red-500":""}
    ${g}
  `;return(0,b.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[a&&(0,b.jsxs)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 capitalize",children:[h&&(0,b.jsx)("span",{className:"text-red-500 text-xl",children:"*"})," ",a]}),(0,b.jsxs)("div",{className:"relative",children:[m?(0,b.jsx)("textarea",{required:h,className:`${n} resize-none`,rows:5,...i}):(0,b.jsx)("input",{type:l&&j?"text":f,required:h,className:n,...i}),l&&(0,b.jsx)("button",{type:"button",onClick:()=>k(a=>!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:hover:text-blue-500",children:j?(0,b.jsx)(d.FaEyeSlash,{}):(0,b.jsx)(d.FaEye,{})})]}),e&&(0,b.jsx)("span",{className:"text-sm text-red-500",children:e})]})}])},46345,a=>{"use strict";var b=a.i(20094);a.s(["handleCopy",0,a=>{a&&(navigator.clipboard.writeText(a),b.toast.success(`${a} copied successfully`))}])},622,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({label:a,error:c,options:d,placeholder:e="Select an option",className:f="",required:g=!0,...h})=>(0,b.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[a&&(0,b.jsxs)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 capitalize",children:[g&&(0,b.jsx)("span",{className:"text-red-500 text-xl",children:"*"})," "," ",a]}),(0,b.jsxs)("select",{className:`
          w-full px-3 py-2.5 rounded-md border
          bg-white dark:bg-gray-700 text-black dark:text-white
          border-gray-300 dark:border-gray-300/30
          disabled:opacity-60 disabled:cursor-not-allowed
          focus:outline-none focus:ring-2 focus:ring-violet-500
          ${c?"border-red-500 focus:ring-red-500":""}
          ${f}
        `,...h,children:[e&&(0,b.jsx)("option",{value:"",disabled:!0,children:e}),d.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]}),c&&(0,b.jsx)("span",{className:"text-sm text-red-500",children:c})]})])},14701,a=>{"use strict";var b=a.i(28337);a.s(["default",0,{create:a=>b.default.post("/deal/create",a),getAll:(a,c,d)=>{let e=new URLSearchParams;return a&&e.append("page",String(a)),c&&e.append("limit",String(c)),d&&Object.entries(d).forEach(([a,b])=>{null!=b&&""!==b&&e.append(a,String(b))}),b.default.get(`/deal/all?${e.toString()}`)},getById:a=>b.default.get(`/deal/get-by-id/${a}`),update:(a,c)=>b.default.put(`/deal/update/${a}`,c),delete:a=>b.default.delete(`/deal/delete/${a}`)}])},60517,a=>{"use strict";var b=a.i(28337);a.s(["FormFieldService",0,{getAll:()=>b.default.get("/form/get-all"),getLeadsAll:()=>b.default.get("/form/lead/all"),getDealAll:()=>b.default.get("/form/deal/all")}])},77524,a=>{"use strict";var b=a.i(87924),c=a.i(46345),d=a.i(49909),e=a.i(94695),f=a.i(82353),g=a.i(94988),h=a.i(60239),i=a.i(14701),j=a.i(60517),k=a.i(83490),l=a.i(71987),m=a.i(50944),n=a.i(46271),o=a.i(72131),p=a.i(97168),q=a.i(3251),r=a.i(328),s=a.i(3711),t=a.i(20094),u=a.i(622),v=a.i(48617);a.s(["default",0,()=>{let[a,w]=(0,o.useState)(""),[x,y]=(0,o.useState)(!1),[z,A]=(0,o.useState)(!1),[B,C]=(0,o.useState)(!1),[D,E]=(0,o.useState)(null),[F,G]=(0,o.useState)([]),[H,I]=(0,o.useState)([]),[J,K]=(0,o.useState)([]),[L,M]=(0,o.useState)(null),[N,O]=(0,o.useState)([]),[P,Q]=(0,o.useState)({dealName:"",dealPipeline:h.DEAL_PIPELINE.QUALIFICATION,dealStage:h.DEAL_STAGES.QUALIFICATION,dealType:h.DEAL_TYPE.NEW_BUSINESS,dealOwner:null,createDate:new Date().toISOString().split("T")[0],closeDate:null,amount:0,dealCollaborator:null,dealDescription:null,dealProbability:null,forecastProbability:null,nextStep:"",forecastCategory:null,closedWonReason:"",closedLostReason:"",originalTrafficSource:""}),{id:R}=(0,m.useParams)(),S=(0,m.useRouter)(),T=async()=>{A(!0);try{let a=await j.FormFieldService.getDealAll();if(200===a.status){let b=a.data.data??[],c=b.filter(a=>!0===a.required);K(c),c.map(a=>a.key),I(b)}}catch(a){if(console.error(a),k.default.isAxiosError(a)){let b=(0,d.default)(a);w(b),t.toast.error(`${b}`)}else w(["Something went wrong"])}finally{A(!1)}},U=async a=>{y(!0);try{let b=await i.default.getById(a);if(200===b.status){let a=b.data.data,c=Object.keys(a).filter(b=>{let c=a[b];return null!=c&&("string"!=typeof c||""!==c.trim())&&("object"!=typeof c||!!Array.isArray(c)||Object.keys(c).length>0)});console.log("selectedKeys:",c),G(c),E(a),console.log("data: ",a.dealStage),Q({dealName:a.dealName??"",dealPipeline:a.dealPipeline??h.DEAL_PIPELINE.QUALIFICATION,dealStage:a.dealStage??h.DEAL_STAGES.QUALIFICATION,dealType:a.dealType??h.DEAL_TYPE.NEW_BUSINESS,dealOwner:a.dealOwner??null,createDate:a.createDate??new Date().toISOString().split("T")[0],closeDate:a.closeDate??null,amount:a.amount??0,dealCollaborator:a.dealCollaborator??null,dealDescription:a.dealDescription??null,dealProbability:a.dealProbability??null,forecastProbability:a.forecastProbability??null,nextStep:a.nextStep??"",forecastCategory:a.forecastCategory??null,closedWonReason:a.closedWonReason??"",closedLostReason:a.closedLostReason??"",originalTrafficSource:a.originalTrafficSource??""})}}catch(a){if(k.default.isAxiosError(a)){let b=(0,d.default)(a);t.toast.error(`${b}`)}else t.toast.error("Something went wrong")}finally{y(!1)}},V=a=>{let{value:b,checked:c}=a.target;c?G(a=>[...a,b]):J.some(a=>a.key===b)?t.toast.info("this field is required"):G(a=>a.filter(a=>a!=b))};(0,o.useEffect)(()=>{T(),R&&U(R)},[]);let W=a=>{let{name:b,value:c,type:d}=a.target;"number"===d?Q({...P,[b]:Number(c)}):Q({...P,[b]:c})},X=async a=>{a.preventDefault(),C(!0);try{let a=await i.default.update(R,P);200===a.status&&(t.toast.success(`${P.dealName} updated successfully`),setTimeout(()=>{S.push(`/deals/view/${D?.id}`)},1600),w(""))}catch(a){if(console.error(a),k.default.isAxiosError(a)){let b=(0,d.default)(a);w(b),t.toast.error(`${b}`)}else w(["Something went wrong"])}finally{C(!1)}};return(0,b.jsxs)("div",{className:"fixed min-h-screen overflow-y-scroll z-100 top-0 left-0 right-0 border-0 w-full h-full bg-stone-100 dark:bg-gray-800",children:[(0,b.jsxs)("div",{className:"fixed z-100 left-0 top-0 w-88 border-r flex flex-col gap-6  border-slate-900/15 dark:border-gray-700 bg-slate-50 h-screen dark:bg-gray-800/50 pt-12 px-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 w-full border-b border-slate-600 py-4",children:[(0,b.jsx)(r.MdOutlineFormatIndentIncrease,{className:"text-blue-500"}),(0,b.jsx)("h2",{className:"text-slate-900 dark:text-white font-semibold text-lg tracking-wide ",children:"All Form Fields"})]}),(0,b.jsx)("ul",{className:"flex flex-col gap-3 px-4 py-2.5 min-h-[70vh] overflow-y-scroll",children:z?Array.from({length:18}).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[" ",(0,b.jsx)(s.default,{height:15,width:15,borderRadius:6,className:"animate-pulse"})," ",(0,b.jsx)(s.default,{height:16,width:100,borderRadius:6,className:"animate-pulse"})," "]},c)):H&&H.length>0&&H.map(a=>{let c=!!F.find(b=>b===a.key);return(0,b.jsxs)("li",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{type:"checkbox",id:a.key,name:a.name,value:a.key,className:"peer cursor-pointer ",checked:c,onChange:V}),(0,b.jsx)("label",{htmlFor:a.key,className:"capitalize checked:text-blue-200 hover:text-blue-700 dark:hover:text-blue-200 hover:scale-104 transition-all duration-200 cursor-pointer peer-checked:text-blue-600 dark:peer-checked:text-blue-300  ",children:a.name})]})})})]}),(0,b.jsxs)("div",{className:"fixed top-4 z-50 left-96 w-[72vw] backdrop-blur-sm flex items-center justify-between gap-10 p-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 w-1/2",children:[(0,b.jsx)(q.GrDocumentUpdate,{className:"text-xl text-blue-500"})," ",(0,b.jsx)("div",{className:"flex flex-col gap-1",children:(0,b.jsxs)("h2",{className:"text-slate-900 dark:text-white font-semibold text-2xl tracking-wide ",children:[" ","Update Deal"]})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-3 ml-6",children:[(0,b.jsx)("button",{onClick:()=>S.back(),className:"h-10 w-10 flex items-center justify-center text-xl  border rounded-full dark:bg-[#1a2432] bg-slate-50 hover:text-blue-600 hover:border-blue-600/20 group border-[#ecf0f2] dark:border-gray-700 cursor-pointer hover:scale-103",children:(0,b.jsx)(p.FaArrowLeftLong,{className:"group-hover:scale-105 transition-all"})}),(0,b.jsx)("button",{onClick:()=>S.forward(),className:"h-10 w-10 flex items-center justify-center text-xl  border rounded-full dark:bg-[#1a2432] bg-slate-50 hover:text-blue-600 hover:border-blue-600/20 group border-[#ecf0f2] dark:border-gray-700 cursor-pointer hover:scale-103",children:(0,b.jsx)(p.FaArrowRightLong,{className:"group-hover:scale-105 transition-all"})}),(0,b.jsx)(e.default,{})]})]}),(0,b.jsxs)("div",{className:"ml-92 relative mt-18 flex flex-col gap-3 p-8",children:[(0,b.jsx)("div",{className:"w-full flex items-center justify-between mb-4",children:(0,b.jsxs)("div",{className:"flex items-start flex-col gap-1",children:[(0,b.jsxs)("h2",{className:"text-blue-500 capitalize font-medium",children:["Lead Name: ",x?(0,b.jsx)(s.default,{height:22,width:100,borderRadius:10,className:"animate-pulse"}):D?(0,b.jsx)("span",{children:D.dealName}):"not found"," "]}),x?(0,b.jsx)(s.default,{height:18,width:190,borderRadius:8,className:"animate-pulse"}):D&&(0,b.jsxs)("span",{className:"text-sm cursor-copy text-slate-500 dark:hover:text-blue-300 hover:text-blue-600",onClick:()=>(0,c.handleCopy)(D?.deal_id),children:[" Lead Id: ",D?.deal_id]})]})}),a&&(0,b.jsx)(f.default,{error:a}),(0,b.jsxs)("div",{className:" bg-white dark:bg-gray-700 p-6 rounded-lg grid grid-cols-2 gap-5",children:[x?(0,b.jsx)(b.Fragment,{children:Array.from({length:6}).map((a,c)=>(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)(s.default,{height:18,width:100,borderRadius:10,className:"animate-pulse"}),(0,b.jsx)(s.default,{height:38,width:450,borderRadius:14,className:"animate-pulse"})]},c))}):H&&H.length>0&&(0==F.length?(0,b.jsxs)("div",{className:"flex items-center flex-col justify-center col-span-2 py-5",children:[(0,b.jsx)(l.default,{src:"/images/Cry.gif",alt:"cry img",height:200,width:200}),(0,b.jsx)("p",{className:"",children:"No form fields found, please select fields first"})]}):H.map((a,c)=>{let d=P[a.key],e="date"===a.type?d?d.split("T")[0]:"":d??"";if(F.find(b=>b===a.key))return"text"===a.type||"email"===a.type||"date"===a.type||"textarea"===a.type?(0,b.jsx)(n.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:8},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"},className:"w-full",children:(0,b.jsx)(g.default,{name:a.key,type:a.type,label:a.name,onChange:a=>W(a),value:e,placeholder:a.placeholder??"",required:a.required})},a.id):"number"===a.type?(0,b.jsx)(n.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:8},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"},className:"w-full",children:(0,b.jsx)(g.default,{name:a.key,type:a.type,label:a.name,onChange:a=>W(a),onWheel:a=>a.currentTarget.blur(),value:e,placeholder:a.placeholder??"",required:a.required})},a.id):"select"===a.type?(0,b.jsx)(n.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:8},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"},className:"w-full",children:(0,b.jsx)(u.default,{name:a.key,label:a.name,options:a.options??[],placeholder:a.placeholder??"Select",onChange:a=>W(a),value:e,required:a.required})},a.id):null})),(0,b.jsxs)("div",{className:"flex mt-6 items-center gap-5 justify-end col-span-2",children:[(0,b.jsxs)("button",{onClick:X,className:"w-fit flex items-center justify-center gap-2 rounded-md px-4 py-2 font-medium text-nowrap bg-blue-600 text-white hover:bg-blue-700 hover:cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 capitalize",disabled:B||F.length<=0,children:[(0,b.jsx)(r.MdOutlineCloudUpload,{className:"text-lg"})," ",B?"Updating...":"Update deals"]}),(0,b.jsxs)("button",{className:"w-fit flex items-center justify-center gap-2 rounded-md px-4 py-2 font-medium bg-blue-200 text-blue-600 hover:text-blue-700 hover:bg-blue-300 hover:cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",onClick:()=>S.back(),children:[(0,b.jsx)(v.IoChevronBack,{})," Back"]})]})]})]})]})}])}];

//# sourceMappingURL=_1bb30d20._.js.map