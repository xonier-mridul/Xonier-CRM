module.exports=[82353,a=>{"use strict";var b=a.i(87924),c=a.i(46271),d=a.i(62036);a.s(["default",0,({error:a})=>{if(!a||Array.isArray(a)&&0===a.length)return null;let e=Array.isArray(a)?a:[a];return(0,b.jsx)(d.AnimatePresence,{children:(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.25,ease:"easeOut"},className:"w-full relative rounded-md border border-red-500/50 bg-red-50 dark:bg-red-950  px-4 py-3 text-red-500 dark:text-red-400 ",children:(0,b.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:e.map((a,c)=>(0,b.jsx)("li",{children:a},c))})})})}])},49909,a=>{"use strict";a.s(["default",0,a=>{let b=a?.response?.data;return b?Array.isArray(b.detail)?b.detail.map(a=>a.msg||"Invalid input"):"string"==typeof b.detail?[b.detail]:"string"==typeof b.message?[b.message]:["Unexpected error occurred"]:["Something went wrong"]}])},3711,a=>{"use strict";var b=a.i(72131);let c=b.default.createContext({});function d({count:a=1,wrapper:d,className:e,containerClassName:f,containerTestId:g,circle:h=!1,style:i,...j}){var k,l,m;let n=b.default.useContext(c),o={...j};for(let[a,b]of Object.entries(j))void 0===b&&delete o[a];let p={...n,...o,circle:h},q={...i,...function({baseColor:a,highlightColor:b,width:c,height:d,borderRadius:e,circle:f,direction:g,duration:h,enableAnimation:i=!0,customHighlightBackground:j}){let k={};return"rtl"===g&&(k["--animation-direction"]="reverse"),"number"==typeof h&&(k["--animation-duration"]=`${h}s`),i||(k["--pseudo-element-display"]="none"),("string"==typeof c||"number"==typeof c)&&(k.width=c),("string"==typeof d||"number"==typeof d)&&(k.height=d),("string"==typeof e||"number"==typeof e)&&(k.borderRadius=e),f&&(k.borderRadius="50%"),void 0!==a&&(k["--base-color"]=a),void 0!==b&&(k["--highlight-color"]=b),"string"==typeof j&&(k["--custom-highlight-background"]=j),k}(p)},r="react-loading-skeleton";e&&(r+=` ${e}`);let s=null!=(k=p.inline)&&k,t=[],u=Math.ceil(a);for(let c=0;c<u;c++){let d=q;if(u>a&&c===u-1){let b=null!=(l=d.width)?l:"100%",c=a%1,e="number"==typeof b?b*c:`calc(${b} * ${c})`;d={...d,width:e}}let e=b.default.createElement("span",{className:r,style:d,key:c},"â€Œ");s?t.push(e):t.push(b.default.createElement(b.default.Fragment,{key:c},e,b.default.createElement("br",null)))}return b.default.createElement("span",{className:f,"data-testid":g,"aria-live":"polite","aria-busy":null==(m=p.enableAnimation)||m},d?t.map((a,c)=>b.default.createElement(d,{key:c},a)):t)}a.s(["default",()=>d])},94988,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(71682);a.s(["default",0,({label:a,error:e,type:f="text",className:g="",required:h=!1,...i})=>{let[j,k]=(0,c.useState)(!1),l="password"===f,m="textarea"===f,n=`
    w-full px-3 py-2 rounded-md border
    bg-white dark:bg-gray-700 text-black dark:text-white
    border-gray-300 dark:border-gray-300/30
    disabled:opacity-60 disabled:cursor-not-allowed
    focus:outline-none focus:ring-2 focus:ring-violet-500
    ${e?"border-red-500 focus:ring-red-500":""}
    ${g}
  `;return(0,b.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[a&&(0,b.jsxs)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 capitalize",children:[h&&(0,b.jsx)("span",{className:"text-red-500 text-xl",children:"*"})," ",a]}),(0,b.jsxs)("div",{className:"relative",children:[m?(0,b.jsx)("textarea",{required:h,className:`${n} resize-none`,rows:5,...i}):(0,b.jsx)("input",{type:l&&j?"text":f,required:h,className:n,...i}),l&&(0,b.jsx)("button",{type:"button",onClick:()=>k(a=>!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:hover:text-blue-500",children:j?(0,b.jsx)(d.FaEyeSlash,{}):(0,b.jsx)(d.FaEye,{})})]}),e&&(0,b.jsx)("span",{className:"text-sm text-red-500",children:e})]})}])},622,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({label:a,error:c,options:d,placeholder:e="Select an option",className:f="",required:g=!0,...h})=>(0,b.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[a&&(0,b.jsxs)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 capitalize",children:[g&&(0,b.jsx)("span",{className:"text-red-500 text-xl",children:"*"})," "," ",a]}),(0,b.jsxs)("select",{className:`
          w-full px-3 py-2.5 rounded-md border
          bg-white dark:bg-gray-700 text-black dark:text-white
          border-gray-300 dark:border-gray-300/30
          disabled:opacity-60 disabled:cursor-not-allowed
          focus:outline-none focus:ring-2 focus:ring-violet-500
          ${c?"border-red-500 focus:ring-red-500":""}
          ${f}
        `,...h,children:[e&&(0,b.jsx)("option",{value:"",disabled:!0,children:e}),d.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]}),c&&(0,b.jsx)("span",{className:"text-sm text-red-500",children:c})]})])},43302,a=>{"use strict";var b=a.i(28337);a.s(["default",0,{getAll:(a,c,d)=>{let e=new URLSearchParams;return a&&e.append("page",String(a)),c&&e.append("limit",String(c)),d&&Object.entries(d).forEach(([a,b])=>{null!=b&&""!==b&&e.append(a,String(b))}),b.default.get(`/lead/all?${e.toString()}`)},getAllByCreator:(a,c,d)=>{let e=new URLSearchParams;return a&&e.append("page",String(a)),c&&e.append("limit",String(c)),d&&Object.entries(d).forEach(([a,b])=>{null!=b&&""!==b&&e.append(a,String(b))}),b.default.get(`/lead/leads-by-user/all?${e.toString()}`)},create:a=>b.default.post("/lead/create",a),bulkCreate:a=>b.default.post("/lead/create/bulk",a),getById:a=>b.default.get(`/lead/get-by-id/${a}`),update:(a,c)=>b.default.put(`/lead/update/${a}`,c),delete:a=>b.default.delete(`/lead/delete/${a}`)}])},57529,a=>{"use strict";var b=a.i(87924),c=a.i(38246);a.s(["default",0,({text:a,isLoading:d,disabled:e,link:f,icon:g})=>(0,b.jsxs)(c.default,{href:f,className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-md flex relative z-1 items-center capitalize w-fit gap-2",children:[" ",g," ",d?"Loading...":a]})])},40350,a=>{"use strict";var b=a.i(28337);a.s(["UserFormService",0,{getAllLead:()=>b.default.get("/user-form/user-id/lead"),getAllDeal:()=>b.default.get("/user-form/user-id/deal"),create:a=>b.default.post("/user-form/create",a),update:(a,c)=>b.default.put(`/user-form/update/${a}`,c)}])},46305,a=>{"use strict";var b=a.i(87924),c=a.i(46271),d=a.i(62036),e=a.i(31173);a.s(["default",0,({message:a})=>a?(0,b.jsx)(d.AnimatePresence,{children:(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.25,ease:"easeOut"},className:"w-full relative rounded-md border animate-pulse border-blue-500/50 bg-blue-50 dark:bg-blue-950  px-4 py-3 text-blue-700 dark:text-blue-400 shadow-sm",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(e.IoMdInformationCircleOutline,{className:"mt-0.5 text-blue-600 dark:text-blue-400",size:18}),(0,b.jsx)("p",{children:a})]})})}):null])},58461,a=>{"use strict";var b=a.i(87924),c=a.i(49909),d=a.i(96407),e=a.i(94988),f=a.i(57529),g=a.i(622),h=a.i(43302),i=a.i(40350),j=a.i(83490),k=a.i(72131),l=a.i(3251),m=a.i(20094),n=a.i(3711),o=a.i(46305),p=a.i(82353),q=a.i(71987),r=a.i(50944);let s=new Set(["fullName","email","phone","priority","source","projectType","status","companyName","city","country","postalCode","language","industry","employeeRole","employeeSeniority","message","membershipNotes"]),t=["fullName","email","phone","priority","source","projectType","status"],u={fullName:"",email:"",phone:"",priority:"",source:"",projectType:"",status:"",companyName:"",city:"",country:null,postalCode:null,language:null,industry:null,employeeRole:"",employeeSeniority:null,message:null,membershipNotes:null};a.s(["default",0,()=>{let[a,v]=(0,k.useState)(""),[w,x]=(0,k.useState)(!1),[y,z]=(0,k.useState)(!1),[A,B]=(0,k.useState)([]),[C,D]=(0,k.useState)([]),E=(0,r.useRouter)(),{id:F}=(0,r.useParams)(),[G,H]=(0,k.useState)(u),I=async()=>{x(!0);try{let a=await h.default.getById(F);if(200===a.status){let b=a.data.data;H({fullName:b.fullName??"",email:b.email??"",phone:b.phone??"",priority:b.priority??"",source:b.source??"",projectType:b.projectType??"",status:b.status??"",companyName:b.companyName??"",city:b.city??"",country:b.country??null,postalCode:b.postalCode??null,language:b.language??null,industry:b.industry??null,employeeRole:b.employeeRole??"",employeeSeniority:b.employeeSeniority??null,message:b.message??null,membershipNotes:b.membershipNotes??null,...b.extraFields??{}})}}catch(a){j.default.isAxiosError(a)?v((0,c.default)(a)):v(["Something went wrong"])}finally{x(!1)}},J=async()=>{x(!0);try{let a=await i.UserFormService.getAllLead();200===a.status&&(B(a.data.data),D(a.data.data.selectedFormFields))}catch(a){console.error(a),j.default.isAxiosError(a)?v((0,c.default)(a)):v(["Something went wrong"])}finally{x(!1)}},K=a=>{let{name:b,value:c}=a.target;H(a=>({...a,[b]:c}))};(0,k.useEffect)(()=>{J(),I()},[]);let L=t.some(a=>!G[a]),M=async a=>{a.preventDefault(),z(!0),v("");try{if(!F)return void m.toast.info("Lead id not found");let a=(()=>{let a={},b={};for(let[c,d]of Object.entries(G))s.has(c)?a[c]=d:b[c]=d;return{...a,...Object.keys(b).length>0?{extraFields:b}:{}}})(),b=await h.default.update(F,a);200===b.status&&(m.toast.success(`${G.fullName} lead updated successfully`),H(a=>{let b={...u};for(let c of Object.keys(a))s.has(c)||(b[c]="");return b}),setTimeout(()=>{E.back()},2e3))}catch(a){console.error(a),j.default.isAxiosError(a)?v((0,c.default)(a)):v(["Something went wrong"])}finally{z(!1)}};return(0,b.jsx)("div",{className:"ml-72 mt-14 p-6",children:(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-700 dark:backdrop-blur-sm flex flex-col gap-8 p-6 rounded-xl border-[1px] border-slate-900/10 w-full",children:[(0,b.jsxs)("div",{className:"flex items-center gap-5 justify-between",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold dark:text-white text-slate-900 capitalize",children:"Update Leads"}),(0,b.jsx)("p",{className:"text-slate-500 dark:text-slate-300",children:"You can customize your fields, if you want then click edit form field button"})]}),(0,b.jsx)(f.default,{text:A.length<=0?"Create Form Fields":"Edit Form Fields",link:"/leads/update-form",icon:(0,b.jsx)(l.GrDocumentUpdate,{})})]}),a&&(0,b.jsx)(p.default,{error:a}),L&&(0,b.jsx)(o.default,{message:"Full Name, Email, Phone, Source, Priority, Project Type and Status fields are mandatory"}),(0,b.jsxs)("form",{onSubmit:M,className:"grid grid-cols-2 gap-8",children:[w?(0,b.jsx)(b.Fragment,{children:Array.from({length:6}).map((a,c)=>(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)(n.default,{height:18,width:100,borderRadius:10,className:"animate-pulse"}),(0,b.jsx)(n.default,{height:38,width:500,borderRadius:14,className:"animate-pulse"})]},c))}):C&&C.length>0?C.map(a=>{let c=G[a.key]??"";return"text"===a.type||"email"===a.type||"number"===a.type?(0,b.jsx)(e.default,{name:a.key,type:a.type,label:a.name,placeholder:a.placeholder??"",value:c,onChange:K,required:a.required},a.id):"select"===a.type?(0,b.jsx)(g.default,{name:a.key,label:a.name,options:a.options??[],placeholder:a.placeholder??"Select",value:c,onChange:K,required:a.required},a.id):null}):(0,b.jsxs)("div",{className:"flex items-center flex-col justify-center col-span-2 py-5",children:[(0,b.jsx)(q.default,{src:"/images/Cry.gif",alt:"cry img",height:200,width:200}),(0,b.jsx)("p",{children:"No form fields found, please select fields first"})]}),(0,b.jsx)(d.default,{className:"col-span-2",isLoading:y,disabled:L||y,children:"Update Lead"})]})]})})}])}];

//# sourceMappingURL=_2db8afdb._.js.map