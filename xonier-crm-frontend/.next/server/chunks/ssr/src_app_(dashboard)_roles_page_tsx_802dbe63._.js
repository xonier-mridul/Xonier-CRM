module.exports=[47199,a=>{"use strict";var b=a.i(87924),c=a.i(48196),d=a.i(72131),e=a.i(49909),f=a.i(20094),g=a.i(83490),h=a.i(57238),i=a.i(328),j=a.i(97168),k=a.i(74362),l=a.i(48617),m=a.i(61413),n=a.i(96407),o=a.i(94988),p=a.i(60239),q=a.i(3711),r=a.i(38246);let s=({roleData:a,handleDelete:e,isLoading:f,permissionData:g,isPopupShow:h,setIsPopupShow:s,formData:t,setFormData:u,handleSubmit:v,hasPermissions:w,isAdmin:x})=>{let y,[z,A]=d.default.useState(""),[B,C]=d.default.useState(null),D=d.default.useMemo(()=>g?g.filter(a=>!z||a.title.toLowerCase().includes(z.toLowerCase())||a.module.toLowerCase().includes(z.toLowerCase())).reduce((a,b)=>(a[b.module]||(a[b.module]=[]),a[b.module].push(b),a),{}):{},[g,z]);return(0,b.jsxs)(b.Fragment,{children:[B&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.default,{onClick:()=>C(null)}),(0,b.jsxs)("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 rounded-2xl w-[650px] max-h-[90vh] z-[200] shadow-2xl flex flex-col",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-gray-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 ${B.code===c.SUPER_ADMIN_ROLE_CODE?"bg-gradient-to-br from-amber-400 to-orange-500":"bg-gradient-to-br from-indigo-400 to-violet-500"}`,children:B.code===c.SUPER_ADMIN_ROLE_CODE?(0,b.jsx)(i.MdAdminPanelSettings,{className:"w-6 h-6 text-white"}):(0,b.jsx)(j.FaShieldHalved,{className:"w-5 h-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-slate-900 dark:text-white capitalize flex items-center gap-2",children:[B.name,B.code===c.SUPER_ADMIN_ROLE_CODE&&(0,b.jsx)("span",{className:"text-xs font-bold bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 px-2 py-0.5 rounded-full",children:"SYSTEM"})]}),(0,b.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5 flex items-center gap-1.5",children:[(0,b.jsx)(l.IoShieldCheckmarkOutline,{className:"w-3.5 h-3.5"}),B.code===c.SUPER_ADMIN_ROLE_CODE?"All permissions granted":`${B.permissions.length} permission${1!==B.permissions.length?"s":""} assigned`]})]})]}),(0,b.jsx)("button",{onClick:()=>C(null),className:"w-8 h-8 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors group",children:(0,b.jsx)(j.FaXmark,{className:"text-lg text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-200 group-hover:rotate-90 transition-all duration-200"})})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:B.code===c.SUPER_ADMIN_ROLE_CODE?(0,b.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border-2 border-amber-200 dark:border-amber-800 rounded-xl p-6 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(l.IoShieldCheckmarkOutline,{className:"w-8 h-8 text-white"})}),(0,b.jsx)("h3",{className:"text-lg font-bold text-amber-900 dark:text-amber-200 mb-2",children:"Full System Access"}),(0,b.jsx)("p",{className:"text-sm text-amber-700 dark:text-amber-400",children:"This role has unrestricted access to all features and permissions in the system."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsxs)("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:["Permissions (",B.permissions.length,")"]})}),(y=B.permissions.reduce((a,b)=>(a[b.module]||(a[b.module]=[]),a[b.module].push(b),a),{}),(0,b.jsx)("div",{className:"space-y-4",children:Object.entries(y).map(([a,c])=>(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl border border-gray-200 dark:border-gray-600 overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 px-4 py-2.5 border-b border-gray-200 dark:border-gray-600",children:(0,b.jsx)("h4",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:a})}),(0,b.jsx)("div",{className:"p-3 space-y-2",children:c.map(a=>(0,b.jsxs)("div",{className:"flex items-start gap-3 bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-600",children:[(0,b.jsx)("div",{className:"w-5 h-5 rounded border-2 bg-emerald-500 border-emerald-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,b.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-semibold text-slate-900 dark:text-white capitalize text-sm",children:a.title}),(0,b.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1.5",children:[(0,b.jsx)("span",{className:"text-xs bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-2 py-0.5 rounded-md font-medium",children:a.action}),(0,b.jsx)("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:a.code})]})]})]},a.id))})]},a))}))]})}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:[(0,b.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Created ",new Date(B.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>C(null),className:"px-5 py-2.5 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 text-slate-700 dark:text-slate-200 font-medium transition-colors",children:"Close"}),w(p.PERMISSIONS.updateRole)&&B.code!==c.SUPER_ADMIN_ROLE_CODE&&(0,b.jsxs)(r.default,{href:`/roles/update/${B.id}`,className:"px-5 py-2.5 rounded-lg bg-indigo-600 hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600 text-white font-semibold transition-all shadow-sm hover:shadow-md flex items-center gap-2",children:[(0,b.jsx)(i.MdOutlineEdit,{className:"w-4 h-4"}),"Edit Role"]})]})]})]})]}),h&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.default,{onClick:()=>s(!1)}),(0,b.jsxs)("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 rounded-2xl w-[720px] max-h-[90vh] z-[200] shadow-2xl flex flex-col",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-gray-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center",children:(0,b.jsx)(j.FaShieldHalved,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Create Role"}),(0,b.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Define a new role with custom permissions"})]})]}),(0,b.jsx)("button",{onClick:()=>s(!1),className:"w-8 h-8 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors group",children:(0,b.jsx)(j.FaXmark,{className:"text-lg text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-200 group-hover:rotate-90 transition-all duration-200"})})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-5",children:[(0,b.jsx)(o.default,{label:"Role name",name:"name",placeholder:"e.g. Sales Manager, Team Lead, Developer",value:t.name,onChange:a=>u(b=>({...b,name:a.target.value})),required:!0}),t.permissions.length>0&&(0,b.jsxs)("div",{className:"bg-indigo-50 dark:bg-indigo-950/20 rounded-xl p-4 border border-indigo-100 dark:border-indigo-900/30",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("span",{className:"text-sm font-semibold text-indigo-700 dark:text-indigo-400",children:"Selected Permissions"}),(0,b.jsx)("span",{className:"text-xs font-medium text-indigo-600 dark:text-indigo-400 bg-indigo-100 dark:bg-indigo-900/40 px-2 py-0.5 rounded-full",children:t.permissions.length})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:t.permissions.map(a=>{let c=g?.find(b=>b.id===a);return c?(0,b.jsxs)("span",{className:"group bg-white dark:bg-gray-700 border border-indigo-200 dark:border-indigo-800 text-indigo-700 dark:text-indigo-300 px-3 py-1.5 rounded-lg text-sm flex items-center gap-2 capitalize hover:bg-indigo-50 dark:hover:bg-indigo-900/30 transition-colors",children:[(0,b.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500 flex-shrink-0"}),c.title,(0,b.jsx)("button",{onClick:()=>{u(b=>({...b,permissions:b.permissions.filter(b=>b!==a)}))},className:"ml-1 hover:text-red-500 dark:hover:text-red-400 transition-colors",children:(0,b.jsx)(j.FaXmark,{className:"w-3 h-3"})})]},a):null})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Available Permissions"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(k.HiOutlineSearch,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search permissions...",value:z,onChange:a=>A(a.target.value),className:"pl-9 pr-3 py-1.5 text-sm border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-slate-700 dark:text-slate-200 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent w-56"})]})]}),(0,b.jsx)("div",{className:"max-h-80 overflow-y-auto border border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700/50",children:Object.entries(D).map(([a,c])=>(0,b.jsxs)("div",{className:"border-b border-gray-200 dark:border-gray-600 last:border-0",children:[(0,b.jsx)("div",{className:"sticky top-0 bg-gray-100 dark:bg-gray-700 px-4 py-2 text-xs font-bold uppercase tracking-wide text-slate-500 dark:text-slate-400 z-10",children:a}),(0,b.jsx)("div",{className:"p-2",children:c.map(a=>{let c,d=(c=a.id,t.permissions.includes(c));return(0,b.jsx)("button",{type:"button",disabled:d,onClick:()=>{var b;return b=a.id,void(!t.permissions.includes(b)&&u(a=>({...a,permissions:[...a.permissions,b]})))},className:`w-full text-left px-3 py-2.5 rounded-lg mb-1 transition-all ${d?"bg-indigo-100 dark:bg-indigo-900/40 cursor-not-allowed":"hover:bg-white dark:hover:bg-gray-600"}`,children:(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${d?"bg-indigo-500 border-indigo-500":"border-gray-300 dark:border-gray-500"}`,children:d&&(0,b.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-slate-700 dark:text-slate-200 capitalize text-sm",children:a.title}),(0,b.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:a.action})]})]})})},a.id)})})]},a))})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:[(0,b.jsx)("button",{onClick:()=>s(!1),className:"px-5 py-2.5 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 text-slate-700 dark:text-slate-200 font-medium transition-colors",children:"Cancel"}),(0,b.jsxs)(n.default,{isLoading:f,onClick:v,disabled:""===t.name||t.permissions.length<=0,children:[(0,b.jsx)(j.FaPlus,{className:"w-4 h-4"}),"Create Role"]})]})]})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-gray-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center",children:(0,b.jsx)(k.HiOutlineUserGroup,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"User Roles"}),(0,b.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Manage roles and permissions"})]})]}),(0,b.jsxs)("button",{onClick:()=>s(!0),className:"bg-indigo-600 hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600 text-white px-5 py-2.5 rounded-xl flex items-center gap-2 font-semibold disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:bg-indigo-600 transition-all shadow-sm hover:shadow-md",disabled:!w(p.PERMISSIONS.createRole),children:[(0,b.jsx)(j.FaPlus,{className:"w-4 h-4"}),"Create Role"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-gray-50 dark:bg-gray-700/50 border-b border-gray-100 dark:border-gray-700",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Role"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Permissions"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:f?Array.from({length:5}).map((a,c)=>(0,b.jsxs)("tr",{className:"animate-pulse",children:[(0,b.jsx)("td",{className:"px-6 py-5",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(q.default,{width:40,height:40,borderRadius:10}),(0,b.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,b.jsx)(q.default,{height:18,width:140,borderRadius:6}),(0,b.jsx)(q.default,{height:12,width:90,borderRadius:6})]})]})}),(0,b.jsx)("td",{className:"px-6 py-5",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(q.default,{height:28,width:110,borderRadius:8}),(0,b.jsx)(q.default,{height:28,width:110,borderRadius:8}),(0,b.jsx)(q.default,{height:28,width:110,borderRadius:8})]})}),(0,b.jsx)("td",{className:"px-6 py-5",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(q.default,{height:36,width:36,borderRadius:8}),(0,b.jsx)(q.default,{height:36,width:36,borderRadius:8}),(0,b.jsx)(q.default,{height:36,width:36,borderRadius:8})]})})]},c)):a&&a.length>0?a.map(a=>(0,b.jsxs)("tr",{className:"group hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-5",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${a.code===c.SUPER_ADMIN_ROLE_CODE?"bg-gradient-to-br from-amber-400 to-orange-500":"bg-gradient-to-br from-indigo-400 to-violet-500"}`,children:a.code===c.SUPER_ADMIN_ROLE_CODE?(0,b.jsx)(i.MdAdminPanelSettings,{className:"w-5 h-5 text-white"}):(0,b.jsx)(j.FaShieldHalved,{className:"w-4 h-4 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"font-semibold text-slate-900 dark:text-white capitalize flex items-center gap-2",children:[a.name,a.code===c.SUPER_ADMIN_ROLE_CODE&&(0,b.jsx)("span",{className:"text-xs font-bold bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 px-2 py-0.5 rounded-full",children:"SYSTEM"})]}),(0,b.jsxs)("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1.5 mt-0.5",children:[(0,b.jsx)(l.IoShieldCheckmarkOutline,{className:"w-3.5 h-3.5"}),a.code===c.SUPER_ADMIN_ROLE_CODE?"All permissions":`${a.permissions.length} permission${1!==a.permissions.length?"s":""}`]})]})]})}),(0,b.jsx)("td",{className:"px-6 py-5",children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 max-w-2xl",children:[a.code===c.SUPER_ADMIN_ROLE_CODE?(0,b.jsxs)("span",{className:"inline-flex items-center gap-1.5 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border border-amber-200 dark:border-amber-800 px-3 py-1.5 text-amber-700 dark:text-amber-400 rounded-lg text-xs font-semibold",children:[(0,b.jsx)(l.IoShieldCheckmarkOutline,{className:"w-3.5 h-3.5"}),"Full Access"]}):a.permissions.slice(0,4).map((a,c)=>(0,b.jsxs)("span",{className:"inline-flex items-center gap-1.5 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 px-3 py-1.5 text-emerald-700 dark:text-emerald-400 rounded-lg text-xs font-medium capitalize",children:[(0,b.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 flex-shrink-0"}),a.title]},c)),a.permissions.length>4&&(0,b.jsxs)("span",{className:"inline-flex items-center bg-slate-100 dark:bg-slate-700 px-3 py-1.5 text-slate-600 dark:text-slate-300 rounded-lg text-xs font-medium",children:["+",a.permissions.length-4," more"]})]})}),(0,b.jsx)("td",{className:"px-6 py-5",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>C(a),className:"w-9 h-9 flex items-center justify-center rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 transition-all hover:scale-105 active:scale-95",title:"View role details",children:(0,b.jsx)(j.FaEye,{className:"w-4 h-4"})}),w(p.PERMISSIONS.updateRole)&&a.code!==c.SUPER_ADMIN_ROLE_CODE?(0,b.jsx)(r.default,{href:`/roles/update/${a.id}`,className:"w-9 h-9 flex items-center justify-center rounded-lg bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 hover:bg-amber-200 dark:hover:bg-amber-900/50 transition-all hover:scale-105 active:scale-95",title:"Edit role",children:(0,b.jsx)(i.MdOutlineEdit,{className:"w-4 h-4"})}):(0,b.jsx)("span",{className:"w-9 h-9 flex items-center justify-center rounded-lg bg-amber-50 dark:bg-amber-900/10 text-amber-300 dark:text-amber-700 cursor-not-allowed opacity-50",children:(0,b.jsx)(i.MdOutlineEdit,{className:"w-4 h-4"})}),a.code!==c.SUPER_ADMIN_ROLE_CODE?(0,b.jsx)("button",{onClick:()=>e(a.id),className:"w-9 h-9 flex items-center justify-center rounded-lg bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-400 hover:bg-rose-200 dark:hover:bg-rose-900/50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-rose-100 dark:disabled:hover:bg-rose-900/30 transition-all hover:scale-105 active:scale-95",disabled:!w(p.PERMISSIONS.deleteRole),title:"Delete role",children:(0,b.jsx)(i.MdDeleteOutline,{className:"w-4 h-4"})}):(0,b.jsx)("span",{className:"w-9 h-9 flex items-center justify-center rounded-lg bg-rose-50 dark:bg-rose-900/10 text-rose-300 dark:text-rose-700 cursor-not-allowed opacity-50",children:(0,b.jsx)(i.MdDeleteOutline,{className:"w-4 h-4"})})]})})]},a.id)):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:3,className:"px-6 py-12",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center mb-3",children:(0,b.jsx)(k.HiOutlineUserGroup,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsx)("p",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"No roles found"}),(0,b.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:"Create your first role to get started"})]})})})})]})})]})]})};var t=a.i(22198),u=a.i(87145),v=a.i(45991),w=a.i(14174);a.s(["default",0,()=>{let[a,i]=(0,d.useState)(1),[j,k]=(0,d.useState)(!1),[l,m]=(0,d.useState)(10),[n,o]=(0,d.useState)(null),[p,q]=(0,d.useState)(!1),[r,x]=(0,d.useState)(!1),[y,z]=(0,d.useState)([]),[A,B]=(0,d.useState)(null),[C,D]=(0,d.useState)({name:"",permissions:[]}),E=(0,w.useSelector)(a=>a.auth),{hasPermission:F}=(0,u.usePermissions)(),G=async()=>{o(null),q(!0);try{let b=await h.RoleService.getRoles({currentPage:a,pageLimit:l});if(200===b.status){let a=b.data.data;z(a.data),i(Number(a.page)),m(Number(a.limit))}}catch(a){if(console.error(a),g.default.isAxiosError(a)){let b=(0,e.default)(a);o(b),f.toast.error(`${b}`)}}finally{q(!1)}},H=async()=>{try{let a=await t.PermissionsService.getAll();200===a.status&&B(a.data.data)}catch(a){if(console.error(a),g.default.isAxiosError(a)){let b=(0,e.default)(a);o(b),f.toast.error(`${b}`)}}},I=async a=>{o(""),x(!0);try{if(await (0,v.default)({title:"Are you sure for delete",text:"Are you sure to delete this User role",btnTxt:"Yes, Delete"})){let b=await h.RoleService.delete(a);200===b.status&&(f.toast.success("Role deleted successfully"),await G())}}catch(a){if(console.error(a),g.default.isAxiosError(a)){let b=(0,e.default)(a);o(b),f.toast.error(`${b}`)}}finally{x(!1)}},J=async()=>{q(!0),o(null);try{let a=await h.RoleService.create(C);200===a.status&&(await G(),D({name:"",permissions:[]}),f.toast.success("Roles created successfully"),k(!1))}catch(a){if(console.error(a),g.default.isAxiosError(a)){let b=(0,e.default)(a);o(b),f.toast.error(`${b}`)}}finally{q(!1)}};(0,d.useEffect)(()=>{G()},[]),(0,d.useEffect)(()=>{H()},[]);let K=E.user?.userRole?.some(a=>a.code===c.SUPER_ADMIN_ROLE_CODE)??!1;return(0,b.jsx)("div",{className:"ml-72 mt-14 p-6",children:(0,b.jsx)(s,{roleData:y,permissionData:A,currentPage:a,pageLimit:l,handleDelete:I,isLoading:p,isPopupShow:j,setIsPopupShow:k,formData:C,setFormData:D,handleSubmit:J,hasPermissions:F,isAdmin:K})})}],47199)}];

//# sourceMappingURL=src_app_%28dashboard%29_roles_page_tsx_802dbe63._.js.map