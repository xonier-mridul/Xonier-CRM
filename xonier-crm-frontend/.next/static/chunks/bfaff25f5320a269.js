(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2988,e=>{"use strict";e.s(["default",0,e=>{let t=e?.response?.data;return t?Array.isArray(t.detail)?t.detail.map(e=>e.msg||"Invalid input"):"string"==typeof t.detail?[t.detail]:"string"==typeof t.message?[t.message]:["Unexpected error occurred"]:["Something went wrong"]}])},3812,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(11152);e.s(["default",0,({label:e,error:s,type:l="text",className:i="",required:d=!1,...n})=>{let[c,o]=(0,a.useState)(!1),m="password"===l,u="textarea"===l,g=`
    w-full px-3 py-2 rounded-md border
    bg-white dark:bg-gray-700 text-black dark:text-white
    border-gray-300 dark:border-gray-300/30
    disabled:opacity-60 disabled:cursor-not-allowed
    focus:outline-none focus:ring-2 focus:ring-violet-500
    ${s?"border-red-500 focus:ring-red-500":""}
    ${i}
  `;return(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[e&&(0,t.jsxs)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 capitalize",children:[d&&(0,t.jsx)("span",{className:"text-red-500 text-xl",children:"*"})," ",e]}),(0,t.jsxs)("div",{className:"relative",children:[u?(0,t.jsx)("textarea",{required:d,className:`${g} resize-none`,rows:5,...n}):(0,t.jsx)("input",{type:m&&c?"text":l,required:d,className:g,...n}),m&&(0,t.jsx)("button",{type:"button",onClick:()=>o(e=>!e),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:hover:text-blue-500",children:c?(0,t.jsx)(r.FaEyeSlash,{}):(0,t.jsx)(r.FaEye,{})})]}),s&&(0,t.jsx)("span",{className:"text-sm text-red-500",children:s})]})}])},44331,e=>{"use strict";var t=e.i(43476),a=e.i(46932),r=e.i(88653);e.s(["default",0,({error:e})=>{if(!e||Array.isArray(e)&&0===e.length)return null;let s=Array.isArray(e)?e:[e];return(0,t.jsx)(r.AnimatePresence,{children:(0,t.jsx)(a.motion.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.25,ease:"easeOut"},className:"w-full relative rounded-md border border-red-500/50 bg-red-50 dark:bg-red-950  px-4 py-3 text-red-500 dark:text-red-400 ",children:(0,t.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:s.map((e,a)=>(0,t.jsx)("li",{children:e},a))})})})}])},19181,e=>{"use strict";var t=e.i(63816);e.s(["TeamService",0,{create:e=>t.default.post("/team/create",e),getAll:e=>t.default.get(`/team/all?${e.page&&`page=${e.page}`}${e.limit&&`&limit=${e.limit}`}`),getById:e=>t.default.get(`/team/get-by-id/${e}`),update:(e,a)=>t.default.put(`/team/update/${e}`,a),delete:e=>t.default.delete(`/team/delete/${e}`)}])},75254,e=>{"use strict";var t=e.i(71645);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,t.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:d="",children:n,iconNode:c,...o},m)=>(0,t.createElement)("svg",{ref:m,...s,width:a,height:a,stroke:e,strokeWidth:i?24*Number(l)/Number(a):l,className:r("lucide",d),...!n&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(o)&&{"aria-hidden":"true"},...o},[...c.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(n)?n:[n]])),i=(e,s)=>{let i=(0,t.forwardRef)(({className:i,...d},n)=>(0,t.createElement)(l,{ref:n,iconNode:s,className:r(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...d}));return i.displayName=a(e),i};e.s(["default",()=>i],75254)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},22650,e=>{"use strict";var t=e.i(43476),a=e.i(46932),r=e.i(88653),s=e.i(69638);e.s(["default",0,({message:e})=>e?(0,t.jsx)(r.AnimatePresence,{children:(0,t.jsx)(a.motion.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.25,ease:"easeOut"},className:"w-full relative rounded-md border border-green-500/50 bg-green-50 dark:bg-green-950  px-4 py-3 text-green-700 dark:text-green-400 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(s.CheckCircle,{className:"mt-0.5 text-green-600 dark:text-green-400",size:18}),(0,t.jsx)("p",{children:e})]})})}):null])},62713,e=>{"use strict";var t=e.i(63816);e.s(["TeamCategoryService",0,{create:e=>t.default.post("/team-category/create",e),getAll:e=>t.default.get(`/team-category/all?${e.page&&`page=${e.page}`}${e.limit&&`&limit=${e.limit}`}`),getAllWithoutPagination:()=>t.default.get("/team-category/get-all-without-pagination"),delete:e=>t.default.delete(`/team-category/delete/${e}`)}])},45529,e=>{"use strict";var t=e.i(43476),a=e.i(2988),r=e.i(64975),s=e.i(69036),l=e.i(19181),i=e.i(62713),d=e.i(81949),n=e.i(71645),c=e.i(70319),o=e.i(3812),m=e.i(30648),u=e.i(18566),g=e.i(44331),x=e.i(22650),p=e.i(77344),f=e.i(84828);e.s(["default",0,()=>{let[e,h]=(0,n.useState)(!1),[y,b]=(0,n.useState)(""),[v,j]=(0,n.useState)(!1),[N,w]=(0,n.useState)(null),[k,A]=(0,n.useState)([]),[S,$]=(0,n.useState)([]),[C,T]=(0,n.useState)({name:"",description:"",category:"",isActive:!1,manager:[],members:[]}),[E,P]=(0,n.useState)(""),{hasPermission:z}=(0,r.usePermissions)(),{id:R}=(0,u.useParams)(),U=async e=>{j(!0);try{let t=await l.TeamService.getById(e);200===t.status&&w(t.data.data)}catch(e){if(console.error(e),d.default.isAxiosError(e)){let t=(0,a.default)(e);b(t),c.toast.error(`${t}`)}else b(["Something went wrong"])}finally{j(!1)}},L=async()=>{try{let e=await s.AuthService.getAllActiveWithoutPagination();200===e.status&&$(e.data.data)}catch(e){if(console.error(e),d.default.isAxiosError(e)){let t=(0,a.default)(e);b(t),c.toast.error(`${t}`)}else b(["Something went wrong"])}},O=async()=>{try{let e=await i.TeamCategoryService.getAllWithoutPagination();200===e.status&&A(e.data.data)}catch(e){if(console.error(e),d.default.isAxiosError(e)){let t=(0,a.default)(e);b(t),c.toast.error(`${t}`)}else b(["Something went wrong"])}};(0,n.useEffect)(()=>{O(),L(),R&&U(R)},[]),(0,n.useEffect)(()=>{N&&T({name:N.name,description:N.description||"",category:"string"==typeof N.category?N.category:N.category.id||N.category.id,isActive:N.isActive,manager:N.manager.map(e=>e.id||e.id),members:N.members.map(e=>e.id||e.id)})},[N]);let W=e=>{let{name:t,value:a}=e.target;T(e=>({...e,[t]:a}))},B=async e=>{if(e.preventDefault(),R){j(!0);try{let e=await l.TeamService.update(R,C);200===e.status&&(c.toast.success("Team updated successfully"),P("Team updated successfully"),setTimeout(()=>P(""),3e3))}catch(e){d.default.isAxiosError(e)?b((0,a.default)(e)):b(["Something went wrong"])}finally{j(!1)}}};return(0,t.jsx)("div",{className:"ml-72 mt-14 p-6",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-700 dark:backdrop-blur-sm flex flex-col gap-5 p-6 rounded-xl border-[1px] border-slate-900/10 w-full",children:[(0,t.jsx)("h2",{className:"text-xl font-bold dark:text-white",children:"Update Team"}),y&&(0,t.jsx)(g.default,{error:y}),E&&(0,t.jsx)(x.default,{message:E}),(0,t.jsxs)("form",{onSubmit:B,className:"grid grid-cols-2 gap-4 ",children:[(0,t.jsx)(o.default,{label:"Team Name",name:"name",value:C.name,onChange:W,required:!0}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:"Category"}),(0,t.jsxs)("select",{name:"category",value:C.category,onChange:e=>T(t=>({...t,category:e.target.value})),className:" px-3 py-2 rounded-md border border-gray-300 dark:border-gray-300/30",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select category"}),k.map(e=>(0,t.jsx)("option",{value:e.id||e.id,children:e.name},e.id||e.id))]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Add Manager"}),(0,t.jsxs)("select",{onChange:e=>{if(e.target.value){var t;t=e.target.value,T(e=>e.members.includes(t)?e:{...e,manager:[...e.manager,t]}),e.target.value=""}},className:"bg-white dark:bg-gray-600 px-3 py-2 rounded-md border capitalize",children:[(0,t.jsx)("option",{value:"",children:"Select user"}),S.map(e=>(0,t.jsx)("option",{value:e.id,children:`${e.firstName} ${e.lastName} (${e.userRole.map(e=>e.name)})`},e.id))]}),C.manager.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:C.manager.map(e=>{let a=S.find(t=>t.id===e);return a?(0,t.jsxs)("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-600  px-3 py-1 rounded-full text-sm",children:[a.firstName," ",a.lastName," (",a.userRole.map(e=>e.name),")",(0,t.jsx)("button",{type:"button",onClick:()=>{T(t=>({...t,manager:t.manager.filter(t=>t!==e)}))},className:"hover:text-red-500 cursor-pointer hover:rotate-90 transition-all duration-300",children:(0,t.jsx)(f.FaXmark,{size:14})})]},e):null})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:"Team Members"}),(0,t.jsxs)("select",{onChange:e=>{if(e.target.value){var t;t=e.target.value,T(e=>e.members.includes(t)?e:{...e,members:[...e.members,t]}),e.target.value=""}},className:" px-3 py-2 rounded-md border border-gray-300 dark:border-gray-300/30",children:[(0,t.jsx)("option",{value:"",children:"Add member"}),S.map(e=>(0,t.jsxs)("option",{value:e.id||e.id,children:[e.firstName," ",e.lastName]},e.id||e.id))]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:C.members.map(e=>{let a=S.find(t=>(t.id||t.id)===e);return a?(0,t.jsxs)("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-600 px-3 py-1 rounded-full text-sm",children:[a.firstName," ",a.lastName,(0,t.jsx)("button",{type:"button",onClick:()=>{T(t=>({...t,members:t.members.filter(t=>t!==e)}))},className:"hover:text-red-500",children:"âœ•"})]},e):null})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:C.isActive,onChange:e=>T(t=>({...t,isActive:e.target.checked}))}),(0,t.jsx)("span",{className:"text-sm dark:text-gray-200",children:"Active"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 col-span-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:"Description"}),(0,t.jsx)("textarea",{rows:3,name:"description",value:C.description,onChange:W,className:"rounded-md border border-gray-300 dark:border-gray-300/30 px-3 py-2  "})]}),(0,t.jsx)("div",{className:"flex gap-3 pt-4 col-span-2",children:(0,t.jsx)(m.default,{isLoading:v,disabled:(""===C.name||C.members.length<=0||""===C.category)&&z(p.PERMISSIONS.updateTeam),children:"Update Team"})})]})]})})}])}]);