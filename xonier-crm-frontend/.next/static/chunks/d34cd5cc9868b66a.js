(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2988,e=>{"use strict";e.s(["default",0,e=>{let t=e?.response?.data;return t?Array.isArray(t.detail)?t.detail.map(e=>e.msg||"Invalid input"):"string"==typeof t.detail?[t.detail]:"string"==typeof t.message?[t.message]:["Unexpected error occurred"]:["Something went wrong"]}])},96924,e=>{"use strict";var t=e.i(71645);let s=t.default.createContext({});function a({count:e=1,wrapper:a,className:r,containerClassName:l,containerTestId:i,circle:d=!1,style:n,...o}){var u,c,m;let x=t.default.useContext(s),p={...o};for(let[e,t]of Object.entries(o))void 0===t&&delete p[e];let f={...x,...p,circle:d},g={...n,...function({baseColor:e,highlightColor:t,width:s,height:a,borderRadius:r,circle:l,direction:i,duration:d,enableAnimation:n=!0,customHighlightBackground:o}){let u={};return"rtl"===i&&(u["--animation-direction"]="reverse"),"number"==typeof d&&(u["--animation-duration"]=`${d}s`),n||(u["--pseudo-element-display"]="none"),("string"==typeof s||"number"==typeof s)&&(u.width=s),("string"==typeof a||"number"==typeof a)&&(u.height=a),("string"==typeof r||"number"==typeof r)&&(u.borderRadius=r),l&&(u.borderRadius="50%"),void 0!==e&&(u["--base-color"]=e),void 0!==t&&(u["--highlight-color"]=t),"string"==typeof o&&(u["--custom-highlight-background"]=o),u}(f)},h="react-loading-skeleton";r&&(h+=` ${r}`);let b=null!=(u=f.inline)&&u,y=[],v=Math.ceil(e);for(let s=0;s<v;s++){let a=g;if(v>e&&s===v-1){let t=null!=(c=a.width)?c:"100%",s=e%1,r="number"==typeof t?t*s:`calc(${t} * ${s})`;a={...a,width:r}}let r=t.default.createElement("span",{className:h,style:a,key:s},"‌");b?y.push(r):y.push(t.default.createElement(t.default.Fragment,{key:s},r,t.default.createElement("br",null)))}return t.default.createElement("span",{className:l,"data-testid":i,"aria-live":"polite","aria-busy":null==(m=f.enableAnimation)||m},a?y.map((e,s)=>t.default.createElement(a,{key:s},e)):y)}e.s(["default",()=>a])},3812,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(11152);e.s(["default",0,({label:e,error:r,type:l="text",className:i="",required:d=!1,...n})=>{let[o,u]=(0,s.useState)(!1),c="password"===l,m="textarea"===l,x=`
    w-full px-3 py-2 rounded-md border
    bg-white dark:bg-gray-700 text-black dark:text-white
    border-gray-300 dark:border-gray-300/30
    disabled:opacity-60 disabled:cursor-not-allowed
    focus:outline-none focus:ring-2 focus:ring-violet-500
    ${r?"border-red-500 focus:ring-red-500":""}
    ${i}
  `;return(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[e&&(0,t.jsxs)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 capitalize",children:[d&&(0,t.jsx)("span",{className:"text-red-500 text-xl",children:"*"})," ",e]}),(0,t.jsxs)("div",{className:"relative",children:[m?(0,t.jsx)("textarea",{required:d,className:`${x} resize-none`,rows:5,...n}):(0,t.jsx)("input",{type:c&&o?"text":l,required:d,className:x,...n}),c&&(0,t.jsx)("button",{type:"button",onClick:()=>u(e=>!e),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:hover:text-blue-500",children:o?(0,t.jsx)(a.FaEyeSlash,{}):(0,t.jsx)(a.FaEye,{})})]}),r&&(0,t.jsx)("span",{className:"text-sm text-red-500",children:r})]})}])},43935,e=>{"use strict";var t=e.i(63816);e.s(["RoleService",0,{getRoles:e=>t.default.get(`/user-role/all?page=${e.currentPage}&limit=${e.pageLimit}`),getRolesWithoutPagination:()=>t.default.get("/user-role/all/active/without-pagination"),getRoleById:e=>t.default.get(`/user-role/get-by-id/${e}`),update:(e,s)=>t.default.put(`/user-role/update/${e}`,s),create:e=>t.default.post("/user-role/create",e),delete:e=>t.default.delete(`/user-role/delete/${e}`)}])},34390,e=>{"use strict";var t=e.i(63816);e.s(["PermissionsService",0,{getAll:()=>t.default.get("/permission/all")}])},79219,e=>{"use strict";var t=e.i(43476),s=e.i(2988),a=e.i(30648),r=e.i(3812),l=e.i(43935),i=e.i(34390),d=e.i(81949),n=e.i(18566),o=e.i(71645),u=e.i(70319),c=e.i(96924),m=e.i(84828);e.s(["default",0,()=>{let[e,x]=(0,o.useState)(""),[p,f]=(0,o.useState)(!0),[g,h]=(0,o.useState)(!1),[b,y]=(0,o.useState)([]),[v,j]=(0,o.useState)({name:"",permissions:[]}),{id:N}=(0,n.useParams)();(0,n.useRouter)();let w=async()=>{try{let e=await i.PermissionsService.getAll();200===e.status&&y(e.data.data)}catch(e){if(console.error(e),d.default.isAxiosError(e)){let t=(0,s.default)(e);x(t),u.toast.error(`${t}`)}}},k=async e=>{try{let t=await l.RoleService.getRoleById(e);if(200===t.status){let e=t.data.data;j({name:e.name??"",permissions:e.permissions.map(e=>"string"==typeof e?e:e.id||e._id)})}}catch(e){if(console.error(e),d.default.isAxiosError(e)){let t=(0,s.default)(e);x(t),u.toast.error(`${t}`)}else x(["Something went wrong"])}finally{f(!1)}};(0,o.useEffect)(()=>{w(),N&&k(N)},[N]);let S=async e=>{e.preventDefault(),x(""),h(!0);try{let e=await l.RoleService.update(N,v);200===e.status&&u.toast.success("Role updated successfully")}catch(e){if(console.error(e),d.default.isAxiosError(e)){let t=(0,s.default)(e);x(t),u.toast.error(`${t}`)}else x(["Something went wrong"])}finally{h(!1)}};return(0,t.jsx)("div",{className:"ml-72 mt-14 p-6",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-700 dark:backdrop-blur-sm flex flex-col gap-5 p-6 rounded-xl border border-slate-900/10 w-full",children:[(0,t.jsx)("h2",{className:"text-xl font-bold dark:text-white",children:"Update Role"}),(0,t.jsxs)("form",{onSubmit:S,className:"grid grid-cols-1 gap-6",children:[p?(0,t.jsxs)("div",{className:"flex flex-col gap-1 animate-pulse",children:[(0,t.jsx)(c.default,{height:14,width:100}),(0,t.jsx)(c.default,{height:36,borderRadius:12})]}):(0,t.jsx)(r.default,{label:"Role Name",placeholder:"Enter role name",required:!0,value:v.name,onChange:e=>j({...v,name:e.target.value})}),v.permissions.length>0&&(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["Selected permissions (",v.permissions.length,")"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:v.permissions.map(e=>{let s=b.find(t=>t.id===e);return s?(0,t.jsxs)("span",{className:"bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300 px-3 py-1 rounded-full text-sm flex items-center gap-2 capitalize",children:[s.title,(0,t.jsx)("button",{type:"button",onClick:()=>{j(t=>({...t,permissions:t.permissions.filter(t=>t!==e)}))},className:"hover:text-red-500",children:(0,t.jsx)(m.FaXmark,{})})]},e):null})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Available permissions"}),g?(0,t.jsx)("div",{children:(0,t.jsx)(c.default,{className:"animate-pulse",height:80,width:1140})}):(0,t.jsx)("div",{className:"max-h-64 overflow-y-auto border rounded-md p-2",children:b.map(e=>{let s,a=(s=e.id,v.permissions.includes(s.toString()));return(0,t.jsxs)("button",{type:"button",disabled:a,onClick:()=>{var t;return t=e.id,void j(e=>({...e,permissions:[...e.permissions,t]}))},className:`
                      w-full text-left px-3 py-2 rounded-md mb-1 transition
                      ${a?"bg-blue-200 dark:bg-blue-900/50 cursor-not-allowed":"hover:bg-blue-100 dark:hover:bg-gray-600"}
                    `,children:[(0,t.jsxs)("div",{className:"font-medium capitalize flex justify-between",children:[e.title,a&&(0,t.jsx)("span",{className:"text-xs text-blue-700 dark:text-blue-300",children:"selected"})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[e.module," · ",e.action]})]},e.id)})})]}),e&&(0,t.jsx)("div",{className:"rounded-md border border-red-500/40 bg-red-50 dark:bg-red-900/20 px-4 py-2 text-sm text-red-600 dark:text-red-400",children:Array.isArray(e)?(0,t.jsx)("ul",{className:"list-disc pl-4",children:e.map((e,s)=>(0,t.jsx)("li",{children:e},s))}):e}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(a.default,{type:"submit",isLoading:g,disabled:""===v.name||0===v.permissions.length,children:"Update Role"})})]})]})})}])}]);