(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44331,e=>{"use strict";var t=e.i(43476),a=e.i(46932),l=e.i(88653);e.s(["default",0,({error:e})=>{if(!e||Array.isArray(e)&&0===e.length)return null;let r=Array.isArray(e)?e:[e];return(0,t.jsx)(l.AnimatePresence,{children:(0,t.jsx)(a.motion.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.25,ease:"easeOut"},className:"w-full relative rounded-md border border-red-500/50 bg-red-50 dark:bg-red-950  px-4 py-3 text-red-500 dark:text-red-400 ",children:(0,t.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:r.map((e,a)=>(0,t.jsx)("li",{children:e},a))})})})}])},2988,e=>{"use strict";e.s(["default",0,e=>{let t=e?.response?.data;return t?Array.isArray(t.detail)?t.detail.map(e=>e.msg||"Invalid input"):"string"==typeof t.detail?[t.detail]:"string"==typeof t.message?[t.message]:["Unexpected error occurred"]:["Something went wrong"]}])},96924,e=>{"use strict";var t=e.i(71645);let a=t.default.createContext({});function l({count:e=1,wrapper:l,className:r,containerClassName:s,containerTestId:i,circle:d=!1,style:o,...n}){var c,u,p;let m=t.default.useContext(a),f={...n};for(let[e,t]of Object.entries(n))void 0===t&&delete f[e];let x={...m,...f,circle:d},h={...o,...function({baseColor:e,highlightColor:t,width:a,height:l,borderRadius:r,circle:s,direction:i,duration:d,enableAnimation:o=!0,customHighlightBackground:n}){let c={};return"rtl"===i&&(c["--animation-direction"]="reverse"),"number"==typeof d&&(c["--animation-duration"]=`${d}s`),o||(c["--pseudo-element-display"]="none"),("string"==typeof a||"number"==typeof a)&&(c.width=a),("string"==typeof l||"number"==typeof l)&&(c.height=l),("string"==typeof r||"number"==typeof r)&&(c.borderRadius=r),s&&(c.borderRadius="50%"),void 0!==e&&(c["--base-color"]=e),void 0!==t&&(c["--highlight-color"]=t),"string"==typeof n&&(c["--custom-highlight-background"]=n),c}(x)},g="react-loading-skeleton";r&&(g+=` ${r}`);let y=null!=(c=x.inline)&&c,b=[],j=Math.ceil(e);for(let a=0;a<j;a++){let l=h;if(j>e&&a===j-1){let t=null!=(u=l.width)?u:"100%",a=e%1,r="number"==typeof t?t*a:`calc(${t} * ${a})`;l={...l,width:r}}let r=t.default.createElement("span",{className:g,style:l,key:a},"â€Œ");y?b.push(r):b.push(t.default.createElement(t.default.Fragment,{key:a},r,t.default.createElement("br",null)))}return t.default.createElement("span",{className:s,"data-testid":i,"aria-live":"polite","aria-busy":null==(p=x.enableAnimation)||p},l?b.map((e,a)=>t.default.createElement(l,{key:a},e)):b)}e.s(["default",()=>l])},3812,e=>{"use strict";var t=e.i(43476),a=e.i(71645),l=e.i(11152);e.s(["default",0,({label:e,error:r,type:s="text",className:i="",required:d=!1,...o})=>{let[n,c]=(0,a.useState)(!1),u="password"===s,p="textarea"===s,m=`
    w-full px-3 py-2 rounded-md border
    bg-white dark:bg-gray-700 text-black dark:text-white
    border-gray-300 dark:border-gray-300/30
    disabled:opacity-60 disabled:cursor-not-allowed
    focus:outline-none focus:ring-2 focus:ring-violet-500
    ${r?"border-red-500 focus:ring-red-500":""}
    ${i}
  `;return(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[e&&(0,t.jsxs)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 capitalize",children:[d&&(0,t.jsx)("span",{className:"text-red-500 text-xl",children:"*"})," ",e]}),(0,t.jsxs)("div",{className:"relative",children:[p?(0,t.jsx)("textarea",{required:d,className:`${m} resize-none`,rows:5,...o}):(0,t.jsx)("input",{type:u&&n?"text":s,required:d,className:m,...o}),u&&(0,t.jsx)("button",{type:"button",onClick:()=>c(e=>!e),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:hover:text-blue-500",children:n?(0,t.jsx)(l.FaEyeSlash,{}):(0,t.jsx)(l.FaEye,{})})]}),r&&(0,t.jsx)("span",{className:"text-sm text-red-500",children:r})]})}])},65992,e=>{"use strict";var t=e.i(70319);e.s(["handleCopy",0,e=>{e&&(navigator.clipboard.writeText(e),t.toast.success(`${e} copied successfully`))}])},67073,e=>{"use strict";var t=e.i(43476);e.s(["default",0,({label:e,error:a,options:l,placeholder:r="Select an option",className:s="",required:i=!0,...d})=>(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[e&&(0,t.jsxs)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 capitalize",children:[i&&(0,t.jsx)("span",{className:"text-red-500 text-xl",children:"*"})," "," ",e]}),(0,t.jsxs)("select",{className:`
          w-full px-3 py-2.5 rounded-md border
          bg-white dark:bg-gray-700 text-black dark:text-white
          border-gray-300 dark:border-gray-300/30
          disabled:opacity-60 disabled:cursor-not-allowed
          focus:outline-none focus:ring-2 focus:ring-violet-500
          ${a?"border-red-500 focus:ring-red-500":""}
          ${s}
        `,...d,children:[r&&(0,t.jsx)("option",{value:"",disabled:!0,children:r}),l.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]}),a&&(0,t.jsx)("span",{className:"text-sm text-red-500",children:a})]})])},46718,e=>{"use strict";var t=e.i(63816);e.s(["default",0,{create:e=>t.default.post("/deal/create",e),getAll:(e,a,l)=>{let r=new URLSearchParams;return e&&r.append("page",String(e)),a&&r.append("limit",String(a)),l&&Object.entries(l).forEach(([e,t])=>{null!=t&&""!==t&&r.append(e,String(t))}),t.default.get(`/deal/all?${r.toString()}`)},getById:e=>t.default.get(`/deal/get-by-id/${e}`),update:(e,a)=>t.default.put(`/deal/update/${e}`,a),delete:e=>t.default.delete(`/deal/delete/${e}`)}])},20830,e=>{"use strict";var t=e.i(63816);e.s(["FormFieldService",0,{getAll:()=>t.default.get("/form/get-all"),getLeadsAll:()=>t.default.get("/form/lead/all"),getDealAll:()=>t.default.get("/form/deal/all")}])},75598,e=>{"use strict";var t=e.i(43476),a=e.i(65992),l=e.i(2988),r=e.i(80421),s=e.i(44331),i=e.i(3812),d=e.i(77344),o=e.i(46718),n=e.i(20830),c=e.i(81949),u=e.i(57688),p=e.i(18566),m=e.i(46932),f=e.i(71645),x=e.i(84828),h=e.i(2939),g=e.i(73665),y=e.i(96924),b=e.i(70319),j=e.i(67073),v=e.i(69620);e.s(["default",0,()=>{let[e,N]=(0,f.useState)(""),[w,k]=(0,f.useState)(!1),[S,A]=(0,f.useState)(!1),[E,C]=(0,f.useState)(!1),[I,T]=(0,f.useState)(null),[D,L]=(0,f.useState)([]),[O,P]=(0,f.useState)([]),[R,$]=(0,f.useState)([]),[F,U]=(0,f.useState)(null),[q,_]=(0,f.useState)([]),[z,B]=(0,f.useState)({dealName:"",dealPipeline:d.DEAL_PIPELINE.QUALIFICATION,dealStage:d.DEAL_STAGES.QUALIFICATION,dealType:d.DEAL_TYPE.NEW_BUSINESS,dealOwner:null,createDate:new Date().toISOString().split("T")[0],closeDate:null,amount:0,dealCollaborator:null,dealDescription:null,dealProbability:null,forecastProbability:null,nextStep:"",forecastCategory:null,closedWonReason:"",closedLostReason:"",originalTrafficSource:""}),{id:W}=(0,p.useParams)(),Q=(0,p.useRouter)(),G=async()=>{A(!0);try{let e=await n.FormFieldService.getDealAll();if(200===e.status){let t=e.data.data??[],a=t.filter(e=>!0===e.required);$(a),a.map(e=>e.key),P(t)}}catch(e){if(console.error(e),c.default.isAxiosError(e)){let t=(0,l.default)(e);N(t),b.toast.error(`${t}`)}else N(["Something went wrong"])}finally{A(!1)}},K=async e=>{k(!0);try{let t=await o.default.getById(e);if(200===t.status){let e=t.data.data,a=Object.keys(e).filter(t=>{let a=e[t];return null!=a&&("string"!=typeof a||""!==a.trim())&&("object"!=typeof a||!!Array.isArray(a)||Object.keys(a).length>0)});console.log("selectedKeys:",a),L(a),T(e),console.log("data: ",e.dealStage),B({dealName:e.dealName??"",dealPipeline:e.dealPipeline??d.DEAL_PIPELINE.QUALIFICATION,dealStage:e.dealStage??d.DEAL_STAGES.QUALIFICATION,dealType:e.dealType??d.DEAL_TYPE.NEW_BUSINESS,dealOwner:e.dealOwner??null,createDate:e.createDate??new Date().toISOString().split("T")[0],closeDate:e.closeDate??null,amount:e.amount??0,dealCollaborator:e.dealCollaborator??null,dealDescription:e.dealDescription??null,dealProbability:e.dealProbability??null,forecastProbability:e.forecastProbability??null,nextStep:e.nextStep??"",forecastCategory:e.forecastCategory??null,closedWonReason:e.closedWonReason??"",closedLostReason:e.closedLostReason??"",originalTrafficSource:e.originalTrafficSource??""})}}catch(e){if(c.default.isAxiosError(e)){let t=(0,l.default)(e);b.toast.error(`${t}`)}else b.toast.error("Something went wrong")}finally{k(!1)}},M=e=>{let{value:t,checked:a}=e.target;a?L(e=>[...e,t]):R.some(e=>e.key===t)?b.toast.info("this field is required"):L(e=>e.filter(e=>e!=t))};(0,f.useEffect)(()=>{G(),W&&K(W)},[]);let Y=e=>{let{name:t,value:a,type:l}=e.target;"number"===l?B({...z,[t]:Number(a)}):B({...z,[t]:a})},H=async e=>{e.preventDefault(),C(!0);try{let e=await o.default.update(W,z);200===e.status&&(b.toast.success(`${z.dealName} updated successfully`),setTimeout(()=>{Q.push(`/deals/view/${I?.id}`)},1600),N(""))}catch(e){if(console.error(e),c.default.isAxiosError(e)){let t=(0,l.default)(e);N(t),b.toast.error(`${t}`)}else N(["Something went wrong"])}finally{C(!1)}};return(0,t.jsxs)("div",{className:"fixed min-h-screen overflow-y-scroll z-100 top-0 left-0 right-0 border-0 w-full h-full bg-stone-100 dark:bg-gray-800",children:[(0,t.jsxs)("div",{className:"fixed z-100 left-0 top-0 w-88 border-r flex flex-col gap-6  border-slate-900/15 dark:border-gray-700 bg-slate-50 h-screen dark:bg-gray-800/50 pt-12 px-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 w-full border-b border-slate-600 py-4",children:[(0,t.jsx)(g.MdOutlineFormatIndentIncrease,{className:"text-blue-500"}),(0,t.jsx)("h2",{className:"text-slate-900 dark:text-white font-semibold text-lg tracking-wide ",children:"All Form Fields"})]}),(0,t.jsx)("ul",{className:"flex flex-col gap-3 px-4 py-2.5 min-h-[70vh] overflow-y-scroll",children:S?Array.from({length:18}).map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[" ",(0,t.jsx)(y.default,{height:15,width:15,borderRadius:6,className:"animate-pulse"})," ",(0,t.jsx)(y.default,{height:16,width:100,borderRadius:6,className:"animate-pulse"})," "]},a)):O&&O.length>0&&O.map(e=>{let a=!!D.find(t=>t===e.key);return(0,t.jsxs)("li",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"checkbox",id:e.key,name:e.name,value:e.key,className:"peer cursor-pointer ",checked:a,onChange:M}),(0,t.jsx)("label",{htmlFor:e.key,className:"capitalize checked:text-blue-200 hover:text-blue-700 dark:hover:text-blue-200 hover:scale-104 transition-all duration-200 cursor-pointer peer-checked:text-blue-600 dark:peer-checked:text-blue-300  ",children:e.name})]})})})]}),(0,t.jsxs)("div",{className:"fixed top-4 z-50 left-96 w-[72vw] backdrop-blur-sm flex items-center justify-between gap-10 p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 w-1/2",children:[(0,t.jsx)(h.GrDocumentUpdate,{className:"text-xl text-blue-500"})," ",(0,t.jsx)("div",{className:"flex flex-col gap-1",children:(0,t.jsxs)("h2",{className:"text-slate-900 dark:text-white font-semibold text-2xl tracking-wide ",children:[" ","Update Deal"]})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3 ml-6",children:[(0,t.jsx)("button",{onClick:()=>Q.back(),className:"h-10 w-10 flex items-center justify-center text-xl  border rounded-full dark:bg-[#1a2432] bg-slate-50 hover:text-blue-600 hover:border-blue-600/20 group border-[#ecf0f2] dark:border-gray-700 cursor-pointer hover:scale-103",children:(0,t.jsx)(x.FaArrowLeftLong,{className:"group-hover:scale-105 transition-all"})}),(0,t.jsx)("button",{onClick:()=>Q.forward(),className:"h-10 w-10 flex items-center justify-center text-xl  border rounded-full dark:bg-[#1a2432] bg-slate-50 hover:text-blue-600 hover:border-blue-600/20 group border-[#ecf0f2] dark:border-gray-700 cursor-pointer hover:scale-103",children:(0,t.jsx)(x.FaArrowRightLong,{className:"group-hover:scale-105 transition-all"})}),(0,t.jsx)(r.default,{})]})]}),(0,t.jsxs)("div",{className:"ml-92 relative mt-18 flex flex-col gap-3 p-8",children:[(0,t.jsx)("div",{className:"w-full flex items-center justify-between mb-4",children:(0,t.jsxs)("div",{className:"flex items-start flex-col gap-1",children:[(0,t.jsxs)("h2",{className:"text-blue-500 capitalize font-medium",children:["Lead Name: ",w?(0,t.jsx)(y.default,{height:22,width:100,borderRadius:10,className:"animate-pulse"}):I?(0,t.jsx)("span",{children:I.dealName}):"not found"," "]}),w?(0,t.jsx)(y.default,{height:18,width:190,borderRadius:8,className:"animate-pulse"}):I&&(0,t.jsxs)("span",{className:"text-sm cursor-copy text-slate-500 dark:hover:text-blue-300 hover:text-blue-600",onClick:()=>(0,a.handleCopy)(I?.deal_id),children:[" Lead Id: ",I?.deal_id]})]})}),e&&(0,t.jsx)(s.default,{error:e}),(0,t.jsxs)("div",{className:" bg-white dark:bg-gray-700 p-6 rounded-lg grid grid-cols-2 gap-5",children:[w?(0,t.jsx)(t.Fragment,{children:Array.from({length:6}).map((e,a)=>(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(y.default,{height:18,width:100,borderRadius:10,className:"animate-pulse"}),(0,t.jsx)(y.default,{height:38,width:450,borderRadius:14,className:"animate-pulse"})]},a))}):O&&O.length>0&&(0==D.length?(0,t.jsxs)("div",{className:"flex items-center flex-col justify-center col-span-2 py-5",children:[(0,t.jsx)(u.default,{src:"/images/Cry.gif",alt:"cry img",height:200,width:200}),(0,t.jsx)("p",{className:"",children:"No form fields found, please select fields first"})]}):O.map((e,a)=>{let l=z[e.key],r="date"===e.type?l?l.split("T")[0]:"":l??"";if(D.find(t=>t===e.key))return"text"===e.type||"email"===e.type||"date"===e.type||"textarea"===e.type?(0,t.jsx)(m.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:8},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"},className:"w-full",children:(0,t.jsx)(i.default,{name:e.key,type:e.type,label:e.name,onChange:e=>Y(e),value:r,placeholder:e.placeholder??"",required:e.required})},e.id):"number"===e.type?(0,t.jsx)(m.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:8},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"},className:"w-full",children:(0,t.jsx)(i.default,{name:e.key,type:e.type,label:e.name,onChange:e=>Y(e),onWheel:e=>e.currentTarget.blur(),value:r,placeholder:e.placeholder??"",required:e.required})},e.id):"select"===e.type?(0,t.jsx)(m.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:8},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"},className:"w-full",children:(0,t.jsx)(j.default,{name:e.key,label:e.name,options:e.options??[],placeholder:e.placeholder??"Select",onChange:e=>Y(e),value:r,required:e.required})},e.id):null})),(0,t.jsxs)("div",{className:"flex mt-6 items-center gap-5 justify-end col-span-2",children:[(0,t.jsxs)("button",{onClick:H,className:"w-fit flex items-center justify-center gap-2 rounded-md px-4 py-2 font-medium text-nowrap bg-blue-600 text-white hover:bg-blue-700 hover:cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 capitalize",disabled:E||D.length<=0,children:[(0,t.jsx)(g.MdOutlineCloudUpload,{className:"text-lg"})," ",E?"Updating...":"Update deals"]}),(0,t.jsxs)("button",{className:"w-fit flex items-center justify-center gap-2 rounded-md px-4 py-2 font-medium bg-blue-200 text-blue-600 hover:text-blue-700 hover:bg-blue-300 hover:cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",onClick:()=>Q.back(),children:[(0,t.jsx)(v.IoChevronBack,{})," Back"]})]})]})]})]})}])}]);