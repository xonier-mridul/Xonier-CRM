(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40141,e=>{"use strict";var t=e.i(71645),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=t.default.createContext&&t.default.createContext(r),s=["attr","size","title"];function a(){return(a=Object.assign.bind()).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,s,a;n=e,s=t,a=r[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(s))in n?Object.defineProperty(n,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[s]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e){return r=>t.default.createElement(c,a({attr:l({},e.attr)},r),function e(r){return r&&r.map((r,n)=>t.default.createElement(r.tag,l({key:n},r.attr),e(r.child)))}(e.child))}function c(e){var i=r=>{var n,{attr:i,size:o,title:c}=e,u=function(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,s),d=o||r.size||"1em";return r.className&&(n=r.className),e.className&&(n=(n?n+" ":"")+e.className),t.default.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,u,{className:n,style:l(l({color:e.color||r.color},r.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&t.default.createElement("title",null,c),e.children)};return void 0!==n?t.default.createElement(n.Consumer,null,e=>i(e)):i(r)}e.s(["GenIcon",()=>o],40141)},2988,e=>{"use strict";e.s(["default",0,e=>{let t=e?.response?.data;return t?Array.isArray(t.detail)?t.detail.map(e=>e.msg||"Invalid input"):"string"==typeof t.detail?[t.detail]:"string"==typeof t.message?[t.message]:["Unexpected error occurred"]:["Something went wrong"]}])},18566,(e,t,r)=>{t.exports=e.r(76562)},91648,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(18566),s=e.i(81949),a=e.i(70319),i=e.i(69620),l=e.i(55487),o=e.i(30648),c=e.i(69036),u=e.i(67825),d=e.i(2988);e.s(["default",0,()=>{let e=(0,n.useRouter)(),[f,m]=(0,r.useState)(!1),[g,p]=(0,r.useState)(!1),[b,h]=(0,r.useState)([]),[x,y]=(0,r.useState)(""),[v,j]=(0,r.useState)(""),[O,w]=(0,r.useState)(""),[P,S]=(0,r.useState)(60),N=(0,r.useRef)([]);(0,r.useEffect)(()=>{let e=sessionStorage.getItem("loginMail"),t=sessionStorage.getItem("loginPassword");e&&y(e),t&&j(t)},[]),(0,r.useEffect)(()=>{if(0===P)return;let e=setInterval(()=>{S(t=>t<=1?(clearInterval(e),0):t-1)},1e3);return()=>clearInterval(e)},[P]);let E=(0,l.useDispatch)(),k=e=>{e.preventDefault();let t=e.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);t&&(w(t),N.current[t.length-1]?.focus())},T=async t=>{if(t.preventDefault(),6!==O.length)return void a.toast.error("Please enter 6 digit OTP");m(!0),h([]);try{let t={email:x,otp:Number(O),password:v},r=await c.AuthService.verifyLoginOtp(t);200===r.status&&(a.toast.success("Logged in successfully"),sessionStorage.removeItem("loginMail"),sessionStorage.removeItem("loginPassword"),e.push("/dashboard"),E((0,u.login)(r.data.data)))}catch(e){console.error(e),s.default.isAxiosError(e)?h((0,d.default)(e)):h(["Something went wrong"])}finally{m(!1)}},C=async()=>{p(!0);try{x&&v||h(["Email and password not found, please back to login form and try again"]);let e=await c.AuthService.resendOTP({email:x,password:v});200===e.status&&a.toast.success("Verification OTP send successfully")}catch(e){console.error(e),s.default.isAxiosError(e)?h((0,d.default)(e)):h(["Something went wrong"])}finally{p(!1)}};return(0,t.jsx)("div",{className:"flex items-center justify-center bg-violet-50 min-h-screen",children:(0,t.jsxs)("div",{className:"bg-white p-8 rounded-xl w-[600px] flex flex-col gap-5",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-blue-800",children:"Verify Login OTP"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["OTP is sent to"," ",(0,t.jsx)("span",{className:"font-medium text-blue-500",children:x})]}),(0,t.jsxs)("form",{onSubmit:T,className:"flex flex-col gap-7",children:[(0,t.jsx)("div",{className:"flex gap-3 justify-between",children:Array.from({length:6}).map((e,r)=>(0,t.jsx)("input",{ref:e=>{N.current[r]=e},type:"text",inputMode:"numeric",maxLength:1,value:O[r]||"",onChange:e=>((e,t)=>{if(!/^\d?$/.test(t))return;let r=O.split("");r[e]=t,w(r.join("").slice(0,6)),t&&e<5&&N.current[e+1]?.focus()})(r,e.target.value),onKeyDown:e=>{"Backspace"===e.key&&!O[r]&&r>0&&N.current[r-1]?.focus()},onPaste:k,className:" w-16 h-14 text-center text-lg font-semibold border border-slate-400 text-slate-800 rounded-md focus:ring-2 focus:ring-blue-500 "},r))}),b.length>0&&(0,t.jsx)("div",{className:"text-red-500 text-sm text-center",children:b.map((e,r)=>(0,t.jsx)("p",{children:e},r))}),(0,t.jsx)(o.default,{isLoading:f,children:"Verify OTP"})]}),(0,t.jsx)("div",{className:"text-center text-sm text-gray-600",children:P>0?(0,t.jsxs)("p",{children:["Resend OTP in"," ",(0,t.jsxs)("span",{className:"font-semibold text-blue-600",children:[P,"s"]})]}):(0,t.jsx)("button",{onClick:C,className:"text-blue-600 font-medium hover:underline",children:g?"Sending...":"Resend OTP"})}),(0,t.jsxs)("button",{onClick:()=>e.back(),className:"flex items-center gap-1.5 text-slate-700 font-medium cursor-pointer hover:text-blue-400 tracking-wide",children:[(0,t.jsx)(i.IoChevronBack,{})," Step Back"]})]})})}])}]);