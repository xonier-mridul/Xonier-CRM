(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2988,e=>{"use strict";e.s(["default",0,e=>{let t=e?.response?.data;return t?Array.isArray(t.detail)?t.detail.map(e=>e.msg||"Invalid input"):"string"==typeof t.detail?[t.detail]:"string"==typeof t.message?[t.message]:["Unexpected error occurred"]:["Something went wrong"]}])},96924,e=>{"use strict";var t=e.i(71645);let a=t.default.createContext({});function s({count:e=1,wrapper:s,className:r,containerClassName:l,containerTestId:i,circle:d=!1,style:n,...o}){var c,u,x;let h=t.default.useContext(a),m={...o};for(let[e,t]of Object.entries(o))void 0===t&&delete m[e];let g={...h,...m,circle:d},p={...n,...function({baseColor:e,highlightColor:t,width:a,height:s,borderRadius:r,circle:l,direction:i,duration:d,enableAnimation:n=!0,customHighlightBackground:o}){let c={};return"rtl"===i&&(c["--animation-direction"]="reverse"),"number"==typeof d&&(c["--animation-duration"]=`${d}s`),n||(c["--pseudo-element-display"]="none"),("string"==typeof a||"number"==typeof a)&&(c.width=a),("string"==typeof s||"number"==typeof s)&&(c.height=s),("string"==typeof r||"number"==typeof r)&&(c.borderRadius=r),l&&(c.borderRadius="50%"),void 0!==e&&(c["--base-color"]=e),void 0!==t&&(c["--highlight-color"]=t),"string"==typeof o&&(c["--custom-highlight-background"]=o),c}(g)},f="react-loading-skeleton";r&&(f+=` ${r}`);let b=null!=(c=g.inline)&&c,y=[],j=Math.ceil(e);for(let a=0;a<j;a++){let s=p;if(j>e&&a===j-1){let t=null!=(u=s.width)?u:"100%",a=e%1,r="number"==typeof t?t*a:`calc(${t} * ${a})`;s={...s,width:r}}let r=t.default.createElement("span",{className:f,style:s,key:a},"â€Œ");b?y.push(r):y.push(t.default.createElement(t.default.Fragment,{key:a},r,t.default.createElement("br",null)))}return t.default.createElement("span",{className:l,"data-testid":i,"aria-live":"polite","aria-busy":null==(x=g.enableAnimation)||x},s?y.map((e,a)=>t.default.createElement(s,{key:a},e)):y)}e.s(["default",()=>s])},3812,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(11152);e.s(["default",0,({label:e,error:r,type:l="text",className:i="",required:d=!1,...n})=>{let[o,c]=(0,a.useState)(!1),u="password"===l,x="textarea"===l,h=`
    w-full px-3 py-2 rounded-md border
    bg-white dark:bg-gray-700 text-black dark:text-white
    border-gray-300 dark:border-gray-300/30
    disabled:opacity-60 disabled:cursor-not-allowed
    focus:outline-none focus:ring-2 focus:ring-violet-500
    ${r?"border-red-500 focus:ring-red-500":""}
    ${i}
  `;return(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[e&&(0,t.jsxs)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 capitalize",children:[d&&(0,t.jsx)("span",{className:"text-red-500 text-xl",children:"*"})," ",e]}),(0,t.jsxs)("div",{className:"relative",children:[x?(0,t.jsx)("textarea",{required:d,className:`${h} resize-none`,rows:5,...n}):(0,t.jsx)("input",{type:u&&o?"text":l,required:d,className:h,...n}),u&&(0,t.jsx)("button",{type:"button",onClick:()=>c(e=>!e),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:hover:text-blue-500",children:o?(0,t.jsx)(s.FaEyeSlash,{}):(0,t.jsx)(s.FaEye,{})})]}),r&&(0,t.jsx)("span",{className:"text-sm text-red-500",children:r})]})}])},16128,e=>{"use strict";var t=e.i(43476),a=e.i(11152);e.s(["default",0,({currentPage:e,totalPages:s,onPageChange:r,className:l=""})=>s<=1?null:(0,t.jsxs)("div",{className:`flex items-center justify-between gap-4 mt-6 ${l}`,children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-300",children:["Page ",e," of ",s]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>r(e-1),disabled:1===e,className:`h-9 w-9 flex items-center justify-center  rounded-md border
            ${1===e?"opacity-50 cursor-not-allowed":"hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer"}`,children:(0,t.jsx)(a.FaChevronLeft,{})}),(()=>{let t=[],a=Math.max(1,e-2),r=Math.min(s,e+2);for(let e=a;e<=r;e++)t.push(e);return t})().map(a=>(0,t.jsx)("button",{onClick:()=>r(a),className:`h-9 w-9 rounded-md text-sm font-medium cursor-pointer
              ${a===e?"bg-blue-600 text-white":"border hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:a},a)),(0,t.jsx)("button",{onClick:()=>r(e+1),disabled:e===s,className:`h-9 w-9 flex items-center justify-center rounded-md border
            ${e===s?"opacity-50 cursor-not-allowed":"hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:(0,t.jsx)(a.FaChevronRight,{})})]})]})])},34728,e=>{"use strict";var t=e.i(43476),a=e.i(71645);e.s(["default",0,({onClick:e})=>((0,a.useEffect)(()=>{let t=t=>{"Escape"===t.key&&e&&e()};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e]),(0,t.jsx)("div",{onClick:e,className:" fixed inset-0 w-full h-full bg-black/30 backdrop-blur-sm z-[199] cursor-pointer ","aria-hidden":"true"}))])},43935,e=>{"use strict";var t=e.i(63816);e.s(["RoleService",0,{getRoles:e=>t.default.get(`/user-role/all?page=${e.currentPage}&limit=${e.pageLimit}`),getRolesWithoutPagination:()=>t.default.get("/user-role/all/active/without-pagination"),getRoleById:e=>t.default.get(`/user-role/get-by-id/${e}`),update:(e,a)=>t.default.put(`/user-role/update/${e}`,a),create:e=>t.default.post("/user-role/create",e),delete:e=>t.default.delete(`/user-role/delete/${e}`)}])},93948,91807,e=>{"use strict";var t,a=((t={}).ACTIVE="active",t.INACTIVE="inactive",t.SUSPENDED="suspended",t.DELETED="deleted",t);e.s(["USER_STATUS",()=>a],91807),e.s([],93948)},98134,e=>{"use strict";e.i(47167);var t=e.i(43476);let a=()=>(0,t.jsx)("div",{});var s=e.i(10936),r=e.i(73665),l=e.i(46864),i=e.i(11152);e.i(93948);var d=e.i(91807),n=e.i(22016),o=e.i(84828),c=e.i(92199),u=e.i(34728),x=e.i(3812),h=e.i(75545),m=e.i(64975),g=e.i(77344),p=e.i(30648),f=e.i(96924),b=e.i(16128);let y=({currentPage:e,pageLimit:a,userData:y,handleDelete:j,isLoading:N,isPopupShow:w,setIsPopupShow:v,formData:S,roleData:k,handleChange:E,handleUserRoleChange:R,handleRemoveRole:C,handleSubmit:A,setPageLimit:P,totalPage:U,err:D,loading:$,setCurrentPages:I})=>{let{hasPermission:T}=(0,m.usePermissions)();return(0,t.jsxs)(t.Fragment,{children:[w&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.default,{onClick:()=>v(!1)}),(0,t.jsxs)("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2  bg-white dark:bg-gray-700 p-6 rounded-xl w-[650px] z-[200] flex flex-col gap-5 shadow-xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-xl font-bold dark:text-white",children:"Create User"}),(0,t.jsx)("button",{className:"text-2xl text-gray-500 hover:text-red-500 cursor-pointer hover:rotate-90 transition-all duration-300",onClick:()=>v(!1),children:(0,t.jsx)(o.FaXmark,{})})]}),(0,t.jsxs)("form",{onSubmit:A,className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(x.default,{label:"firstName",type:"text",name:"firstName",placeholder:"First Name",value:S.firstName,onChange:E}),(0,t.jsx)(x.default,{label:"lastName",type:"text",name:"lastName",placeholder:"Last Name",value:S.lastName,onChange:E}),(0,t.jsx)(x.default,{label:"email",type:"email",name:"email",placeholder:"Email Address",value:S.email,onChange:E}),(0,t.jsx)(x.default,{label:"phone",type:"text",name:"phone",placeholder:"Phone Number",value:S.phone,onChange:E}),(0,t.jsx)(x.default,{label:"password",type:"password",name:"password",placeholder:"Password",value:S.password,onChange:E}),(0,t.jsx)(x.default,{label:"confirm password",type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:S.confirmPassword,onChange:E}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"User Role"}),(0,t.jsxs)("select",{onChange:R,className:"w-full px-3 py-2 rounded-md border bg-white dark:bg-gray-700 text-black dark:text-white border-gray-300 dark:border-gray-300/30",children:[(0,t.jsx)("option",{value:"",children:"Select user role"}),k.map(e=>(0,t.jsx)("option",{value:e.id,hidden:e.code===h.SUPER_ADMIN_ROLE_CODE,disabled:e.code===h.SUPER_ADMIN_ROLE_CODE,children:e.name},e.id))]}),S.userRole.length>0&&(0,t.jsx)("div",{className:"col-span-1 flex flex-wrap gap-2 mt-2",children:S.userRole.map(e=>{let a=k.find(t=>t.id===e);return a?(0,t.jsxs)("span",{className:"flex items-center gap-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:[a.name,(0,t.jsx)("button",{type:"button",onClick:()=>C(e),className:"hover:text-red-500 transition",children:(0,t.jsx)(o.FaXmark,{size:12})})]},e):null})})]}),(0,t.jsx)(x.default,{label:"company",type:"text",name:"company",placeholder:"Company Name",value:S.company,onChange:E}),D&&(0,t.jsx)("div",{className:"flex justify-end col-span-2",children:(0,t.jsx)("p",{className:"text-red-500",children:D})}),(0,t.jsxs)(p.default,{isLoading:$,disabled:""===S.firstName||""===S.lastName||""===S.email||""===S.phone||""===S.password||S.userRole.length<=0,className:"col-span-2",children:[" ","Submit"," "]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-700 dark:backdrop-blur-sm flex flex-col gap-5 p-6 rounded-xl border-[1px] border-slate-900/10 w-full ",children:[(0,t.jsxs)("div",{className:"flex items-center gap-12 justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("h2",{className:"text-xl font-bold  dark:text-white text-slate-900 capitalize",children:"All users"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Create, edit or remove users. Each user can have multiple roles."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsxs)("select",{name:"limit",id:"limit",className:"bg-slate-50 dark:bg-gray-600 px-3 py-2.5 rounded-lg border-[1px] border-slate-900/10",onChange:e=>{P(Number(e.target.value)),I(1)},children:[(0,t.jsx)("option",{value:"10",children:"10"}),(0,t.jsx)("option",{value:"20",children:"20"}),(0,t.jsx)("option",{value:"30",children:"30"}),(0,t.jsx)("option",{value:"40",children:"50"})]}),(0,t.jsxs)("div",{className:"bg-slate-50 dark:bg-gray-600 px-3 py-2.5 rounded-lg border-[1px] border-slate-900/10 flex items-center gap-2",children:[(0,t.jsx)(s.IoIosSearch,{className:"text-xl"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by name"})]}),(0,t.jsxs)("button",{onClick:()=>v(!0),disabled:!T(g.PERMISSIONS.createUser),className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed text-white px-5 py-2 rounded-md flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)(c.FiUserPlus,{})," Create User"]})]})]}),(0,t.jsxs)("table",{className:"w-full rounded-xl overflow-hidden",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"w-full border-b-2 border-zinc-500 bg-blue-100 dark:bg-gray-800",children:[(0,t.jsx)("th",{className:"p-4 uppercase text-xs text-start text-slate-500 dark:text-slate-100",children:"S.No."}),(0,t.jsxs)("th",{className:"p-4 uppercase text-xs text-start text-slate-500  dark:text-slate-100",children:[" ","User"]}),(0,t.jsx)("th",{className:"p-4 uppercase text-xs text-start text-slate-500  dark:text-slate-100",children:"Type"}),(0,t.jsx)("th",{className:"p-4 uppercase text-xs text-start text-slate-500  dark:text-slate-100",children:"Created At"}),(0,t.jsx)("th",{className:"p-4 uppercase text-xs text-start text-slate-500  dark:text-slate-100",children:"Status"}),(0,t.jsx)("th",{className:"p-4 uppercase text-xs text-start text-slate-500  dark:text-slate-100",children:"Last Login"}),(0,t.jsx)("th",{className:"p-4 uppercase text-xs text-start text-slate-500  dark:text-slate-100",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"",children:N?Array.from({length:10}).map(e=>(0,t.jsxs)("tr",{className:" text-center animate-pulse",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)(f.default,{width:30,height:30,borderRadius:12})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)(f.default,{width:140,height:30,borderRadius:12})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)(f.default,{width:130,height:30,borderRadius:12})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)(f.default,{width:120,height:30,borderRadius:12})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)(f.default,{width:100,height:30,borderRadius:999})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)(f.default,{width:140,height:30,borderRadius:12})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.default,{width:35,height:35,borderRadius:12}),(0,t.jsx)(f.default,{width:35,height:35,borderRadius:12}),(0,t.jsx)(f.default,{width:35,height:35,borderRadius:12})]})})]})):y&&y?.length>0?y?.map((e,a)=>{let s=new Date(e.createdAt).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",timeZone:"Asia/Kolkata"}),o=e?.lastLogin?new Date(e?.lastLogin).toLocaleDateString("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}):"Not found";return(0,t.jsxs)("tr",{className:`${a%2==0?"bg-white dark:bg-transparent":"bg-blue-100/50 dark:bg-slate-500"} w-full`,children:[(0,t.jsx)("td",{className:"p-4",children:a+1}),(0,t.jsx)("td",{children:(0,t.jsxs)(n.default,{href:`/users/${e.id}`,className:"cursor-pointer hover:text-blue-500 capitalize",children:[e.firstName," ",e.lastName]})}),(0,t.jsx)("td",{children:e.userRole.map(e=>(0,t.jsx)("span",{className:"bg-green-500 px-3.5 py-1.5 rounded-lg text-white text-xs tracking-wide",children:e.name}))}),(0,t.jsx)("td",{children:s}),(0,t.jsx)("td",{children:(0,t.jsxs)("span",{className:`${e.status===d.USER_STATUS.ACTIVE?"bg-green-100  text-green-500":e.status===d.USER_STATUS.INACTIVE?"bg-yellow-100 text-yellow-500":e.status===d.USER_STATUS.DELETED?"bg-red-100 text-red-500":e.status===d.USER_STATUS.SUSPENDED?"bg-orange-100 text-orange-500":"bg-gray-100 text-gray-500"}  rounded-full text-sm font-medium py-1 px-3 flex items-center gap-1 w-fit  capitalize`,children:[" ",(0,t.jsx)(l.GoDotFill,{})," ",e.status]})}),(0,t.jsx)("td",{children:o}),(0,t.jsx)("td",{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.default,{href:`/users/${e.id}`,className:"h-9 w-9 flex items-center justify-center rounded-md cursor-pointer bg-green-100/80 dark:bg-green-50 hover:bg-green-200/70 dark:hover:bg-green-100 text-green-500 hover:scale-104",children:(0,t.jsx)(i.FaRegEye,{className:"text-xl"})}),e.userRole.some(e=>e.code===h.SUPER_ADMIN_ROLE_CODE)||!T(g.PERMISSIONS.updateUser)?(0,t.jsx)("span",{className:"h-9 w-9 flex items-center justify-center rounded-md cursor-not-allowed bg-yellow-200/80 dark:bg-yellow-100 text-yellow-300",children:(0,t.jsx)(r.MdOutlineEdit,{className:"text-xl"})}):(0,t.jsx)(n.default,{href:`/users/update/${e.id}`,className:"h-9 w-9 flex items-center justify-center rounded-md cursor-pointer bg-yellow-200/80 dark:bg-yellow-100 hover:bg-yellow-300/70 dark:hover:bg-yellow-200 text-yellow-500 hover:scale-104",children:(0,t.jsx)(r.MdOutlineEdit,{className:"text-xl"})}),e.userRole.some(e=>e.code===h.SUPER_ADMIN_ROLE_CODE)||!T(g.PERMISSIONS.deleteUser)?(0,t.jsxs)("span",{className:"h-9 w-9 flex items-center justify-center rounded-md cursor-not-allowed bg-red-100 text-red-400  opacity-80",children:[" ",(0,t.jsx)(r.MdDeleteOutline,{className:"text-xl"})," "]}):(0,t.jsxs)("button",{onClick:()=>j(e.id),className:"h-9 w-9 flex items-center justify-center rounded-md cursor-pointer bg-red-100 text-red-500 hover:bg-red-200 hover:scale-104",children:[" ",(0,t.jsx)(r.MdDeleteOutline,{className:"text-xl"})," "]})]})})]})}):(0,t.jsx)("tr",{className:" text-center ",children:(0,t.jsx)("td",{colSpan:7,className:"p-4",children:"User data not found"})})})]}),(0,t.jsx)(b.default,{currentPage:e,totalPages:U,onPageChange:e=>I(e)})]})]})};var j=e.i(81949),N=e.i(71645),w=e.i(2988),v=e.i(69036),S=e.i(70319),k=e.i(36253),E=e.i(43935);e.s(["default",0,()=>{let[e,s]=(0,N.useState)(""),[r,l]=(0,N.useState)([]),[i,d]=(0,N.useState)([]),[n,o]=(0,N.useState)(!1),[c,u]=(0,N.useState)(!1),[x,h]=(0,N.useState)(1),[m,g]=(0,N.useState)(10),[p,f]=(0,N.useState)(1),[b,R]=(0,N.useState)(!1),[C,A]=(0,N.useState)({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",userRole:[],company:"Xonier Technologies"}),P=async()=>{o(!0);try{let e=await v.AuthService.getAll({page:x,limit:m});if(200===e.status){let t=e.data.data;l(t.data),h(t.page),g(t.limit),f(t.totalPages)}}catch(e){console.error(e),j.default.isAxiosError(e)?s((0,w.default)(e)):s(["Something went wrong"])}finally{o(!1)}},U=async()=>{try{let e=await E.RoleService.getRolesWithoutPagination();200===e.status&&d(e.data.data)}catch(e){console.error(e),j.default.isAxiosError(e)?s((0,w.default)(e)):s(["Something went wrong"])}},D=async e=>{s("");try{if(await (0,k.default)({title:"Are your sure",text:"Are you sure to delete this user",btnTxt:"Yes, delete"})){let t=await v.AuthService.softDelete(e);200===t.status&&(S.toast.success("User deleted successfully"),await P())}}catch(e){if(console.error(e),j.default.isAxiosError(e)){let t=(0,w.default)(e);s(t),S.toast.error(`${t}`)}else s(["Something went wrong"])}};(0,N.useEffect)(()=>{U(),P()},[x,m]);let $=async e=>{if(e.preventDefault(),s(""),u(!0),C.password!==C.confirmPassword){s("Password not matching please, try again later"),u(!1);return}try{let e=await v.AuthService.create(C);201===e.status&&(S.toast.success(`${C.firstName} ${C.lastName} user create successfully`),R(!1),await P(),A({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",userRole:[],company:"xonier technologies"}))}catch(e){if(console.error(e),j.default.isAxiosError(e)){let t=(0,w.default)(e);s(t),S.toast.error(`${t}`)}else s(["Something went wrong"])}finally{u(!1)}};return(0,t.jsxs)("div",{className:"ml-72 mt-16 p-6",children:[(0,t.jsx)(a,{}),(0,t.jsx)(y,{currentPage:Number(x),pageLimit:Number(m),userData:r,handleDelete:D,isLoading:n,isPopupShow:b,setIsPopupShow:R,formData:C,roleData:i,handleChange:e=>{let{name:t,value:a}=e.target;A(e=>({...e,[t]:a}))},handleUserRoleChange:e=>{let t=e.target.value;if(!C.userRole.includes(t)){if(C.userRole.length>=1)return void S.toast.info("Currently only one user role allowed");A(e=>({...e,userRole:[...e.userRole,t]})),e.target.value=""}},handleRemoveRole:e=>{A(t=>({...t,userRole:t.userRole.filter(t=>t!==e)}))},handleSubmit:$,err:e,loading:c,setPageLimit:g,totalPage:p,setCurrentPages:h})]})}],98134)}]);