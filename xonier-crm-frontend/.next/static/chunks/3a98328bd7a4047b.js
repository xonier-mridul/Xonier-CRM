(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2988,e=>{"use strict";e.s(["default",0,e=>{let t=e?.response?.data;return t?Array.isArray(t.detail)?t.detail.map(e=>e.msg||"Invalid input"):"string"==typeof t.detail?[t.detail]:"string"==typeof t.message?[t.message]:["Unexpected error occurred"]:["Something went wrong"]}])},96924,e=>{"use strict";var t=e.i(71645);let a=t.default.createContext({});function s({count:e=1,wrapper:s,className:r,containerClassName:l,containerTestId:i,circle:d=!1,style:n,...c}){var o,u,x;let h=t.default.useContext(a),m={...c};for(let[e,t]of Object.entries(c))void 0===t&&delete m[e];let p={...h,...m,circle:d},g={...n,...function({baseColor:e,highlightColor:t,width:a,height:s,borderRadius:r,circle:l,direction:i,duration:d,enableAnimation:n=!0,customHighlightBackground:c}){let o={};return"rtl"===i&&(o["--animation-direction"]="reverse"),"number"==typeof d&&(o["--animation-duration"]=`${d}s`),n||(o["--pseudo-element-display"]="none"),("string"==typeof a||"number"==typeof a)&&(o.width=a),("string"==typeof s||"number"==typeof s)&&(o.height=s),("string"==typeof r||"number"==typeof r)&&(o.borderRadius=r),l&&(o.borderRadius="50%"),void 0!==e&&(o["--base-color"]=e),void 0!==t&&(o["--highlight-color"]=t),"string"==typeof c&&(o["--custom-highlight-background"]=c),o}(p)},f="react-loading-skeleton";r&&(f+=` ${r}`);let y=null!=(o=p.inline)&&o,b=[],j=Math.ceil(e);for(let a=0;a<j;a++){let s=g;if(j>e&&a===j-1){let t=null!=(u=s.width)?u:"100%",a=e%1,r="number"==typeof t?t*a:`calc(${t} * ${a})`;s={...s,width:r}}let r=t.default.createElement("span",{className:f,style:s,key:a},"â€Œ");y?b.push(r):b.push(t.default.createElement(t.default.Fragment,{key:a},r,t.default.createElement("br",null)))}return t.default.createElement("span",{className:l,"data-testid":i,"aria-live":"polite","aria-busy":null==(x=p.enableAnimation)||x},s?b.map((e,a)=>t.default.createElement(s,{key:a},e)):b)}e.s(["default",()=>s])},16128,e=>{"use strict";var t=e.i(43476),a=e.i(11152);e.s(["default",0,({currentPage:e,totalPages:s,onPageChange:r,className:l=""})=>s<=1?null:(0,t.jsxs)("div",{className:`flex items-center justify-between gap-4 mt-6 ${l}`,children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-300",children:["Page ",e," of ",s]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>r(e-1),disabled:1===e,className:`h-9 w-9 flex items-center justify-center  rounded-md border
            ${1===e?"opacity-50 cursor-not-allowed":"hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer"}`,children:(0,t.jsx)(a.FaChevronLeft,{})}),(()=>{let t=[],a=Math.max(1,e-2),r=Math.min(s,e+2);for(let e=a;e<=r;e++)t.push(e);return t})().map(a=>(0,t.jsx)("button",{onClick:()=>r(a),className:`h-9 w-9 rounded-md text-sm font-medium cursor-pointer
              ${a===e?"bg-blue-600 text-white":"border hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:a},a)),(0,t.jsx)("button",{onClick:()=>r(e+1),disabled:e===s,className:`h-9 w-9 flex items-center justify-center rounded-md border
            ${e===s?"opacity-50 cursor-not-allowed":"hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:(0,t.jsx)(a.FaChevronRight,{})})]})]})])},47971,e=>{"use strict";var t=e.i(43476),a=e.i(22016);e.s(["default",0,({text:e,isLoading:s,disabled:r,link:l,icon:i})=>(0,t.jsxs)(a.default,{href:l,className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-md flex items-center capitalize w-fit gap-2",children:[" ",i," ",s?"Loading...":e]})])},72537,e=>{"use strict";var t=e.i(63816);e.s(["EnquiryService",0,{getAll:e=>t.default.get(`/enquiry/all?${e.page?`page=${e.page}&`:""}${e.limit?`limit=${e.limit}&`:""}${e.enquiry_id?`enquiry_id=${e.enquiry_id}&`:""}${e.fullName?`fullName=${e.fullName}&`:""}${e.email?`email=${e.email}&`:""}${e.phone?`phone=${e.phone}&`:""}${e.companyName?`companyName=${e.companyName}&`:""}${e.projectType?`projectType=${e.projectType}&`:""}${e.priority?`priority=${e.priority}&`:""}`),getAllByCreator:(e,a,s)=>{let r=new URLSearchParams;return e&&r.append("page",String(e)),a&&r.append("limit",String(a)),s&&Object.entries(s).forEach(([e,t])=>{null!=t&&""!==t&&r.append(e,String(t))}),t.default.get(`/enquiry/all/by-creator?${r.toString()}`)},getById:e=>t.default.get(`/enquiry/get-by-id/${e}`),create:e=>t.default.post("/enquiry/create",e),bulkCreate:e=>t.default.post("/enquiry/create/bulk",e),update:(e,a)=>t.default.put(`/enquiry/update/${e}`,a),delete:e=>t.default.delete(`/enquiry/delete/${e}`)}])},67836,e=>{"use strict";var t=e.i(43476),a=e.i(81949),s=e.i(71645),r=e.i(2988),l=e.i(70319),i=e.i(72537),d=e.i(10936),n=e.i(22016),c=e.i(73665),o=e.i(11152),u=e.i(84828),x=e.i(36253),h=e.i(77344),m=e.i(16128),p=e.i(55487),g=e.i(64975),f=e.i(47971),y=e.i(68557),b=e.i(96924);e.s(["default",0,()=>{let[e,j]=(0,s.useState)(null),[N,w]=(0,s.useState)(!1),[v,k]=(0,s.useState)(""),[S,$]=(0,s.useState)(1),[q,E]=(0,s.useState)(10),[C,A]=(0,s.useState)(1),{hasPermission:R}=(0,g.usePermissions)(),P=(0,p.useSelector)(e=>e.auth),I=async()=>{w(!0);try{if(console.log("isAdmin: ",P.isAdmin),P.isAdmin){let e=await i.EnquiryService.getAll({page:S,limit:q});if(200===e.status){let t=e.data.data;j(t.data),$(t.page),E(t.limit),A(t.totalPages)}}else{let e=await i.EnquiryService.getAllByCreator(S,q);if(200===e.status){let t=e.data.data;j(t.data),$(t.page),E(t.limit),A(t.totalPages)}}}catch(e){if(console.error(e),a.default.isAxiosError(e)){let t=(0,r.default)(e);k(t),l.toast.error(`${t}`)}else k(["Something went wrong"])}finally{w(!1)}};(0,s.useEffect)(()=>{I()},[q,S]);let M=async e=>{try{if(await (0,x.default)({title:"Are your sure",text:"Are you sure to delete this enquiry",btnTxt:"Yes, delete"})){let t=await i.EnquiryService.delete(e);200===t.status&&(l.toast.success("Enquiry deleted successfully"),await I())}}catch(e){if(console.error(e),a.default.isAxiosError(e)){let t=(0,r.default)(e);k(t),l.toast.error(`${t}`)}else k(["Something went wrong"])}},O=async e=>{await navigator.clipboard.writeText(e),l.toast.success("text copied successfully")};return(0,t.jsxs)("div",{className:"ml-72 mt-14 p-6",children:[(0,t.jsxs)("div",{className:"bg-white mb-10 dark:bg-gray-700 dark:backdrop-blur-sm  gap-5 p-6 rounded-xl border-[1px] border-slate-900/10 w-full flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold  dark:text-white text-slate-900 capitalize",children:"Add bulk enquiries"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"You want to create bulk enquiries via CSV file"})]}),(0,t.jsx)("div",{className:"flex items-center justify-end gap-3 ",children:(0,t.jsx)(f.default,{text:"Create Bulk Enquiry",link:"/enquiry/bulk",icon:(0,t.jsx)(y.LiaMailBulkSolid,{})})})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-700 dark:backdrop-blur-sm flex flex-col gap-5 p-6 rounded-xl border-[1px] border-slate-900/10 w-full ",children:[(0,t.jsxs)("div",{className:"flex items-center gap-12 justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("h2",{className:"text-xl font-bold  dark:text-white text-slate-900 capitalize",children:"All Sales Enquiries"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Create, edit or remove enquiries."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsxs)("select",{name:"limit",id:"limit",className:"bg-slate-50 dark:bg-gray-600 px-3 py-2.5 rounded-lg border-[1px] border-slate-900/10",onChange:e=>E(Number(e.target.value)),children:[(0,t.jsx)("option",{value:"10",children:"10"}),(0,t.jsx)("option",{value:"20",children:"20"}),(0,t.jsx)("option",{value:"30",children:"30"}),(0,t.jsx)("option",{value:"40",children:"50"})]}),(0,t.jsxs)("div",{className:"bg-slate-50 dark:bg-gray-600 px-3 py-2.5 rounded-lg border-[1px] border-slate-900/10 flex items-center gap-2",children:[(0,t.jsx)(d.IoIosSearch,{className:"text-xl"}),(0,t.jsx)("input",{type:"text",className:"outline-none"})]}),R(h.PERMISSIONS.createEnquiry)?(0,t.jsxs)(n.default,{href:"/enquiry/add",className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-md flex items-center gap-2 group",children:[(0,t.jsx)(u.FaPlus,{className:"group-hover:rotate-90 transition-all duration-300"})," ","Create New Enquiry"]}):(0,t.jsxs)("span",{className:"bg-blue-600  text-white px-5 py-2 rounded-md flex items-center gap-2  opacity-80 cursor-not-allowed",children:[(0,t.jsx)(u.FaPlus,{className:" transition-all duration-300"}),"Create New Enquiry"]})]})]}),(0,t.jsxs)("table",{className:"w-full rounded-xl overflow-hidden",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"w-full border-b-2 border-zinc-500 bg-blue-100 dark:bg-gray-800",children:[(0,t.jsx)("th",{className:"p-4 uppercase text-xs text-start text-slate-500  dark:text-slate-100",children:"Enquiry Id"}),(0,t.jsx)("th",{className:"p-4 uppercase text-xs text-start text-slate-500 dark:text-slate-100",children:"Client Info"}),(0,t.jsxs)("th",{className:"p-4 uppercase text-xs text-start text-slate-500  dark:text-slate-100",children:[" ","Project Type"]}),(0,t.jsx)("th",{className:"p-4 uppercase text-xs text-start text-slate-500  dark:text-slate-100",children:"Source"}),(0,t.jsx)("th",{className:"p-4 uppercase text-xs text-start text-slate-500  dark:text-slate-100",children:"Status"}),(0,t.jsx)("th",{className:"p-4 uppercase text-xs text-start text-slate-500  dark:text-slate-100",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"",children:N?(0,t.jsxs)("tr",{className:"p-4",children:[(0,t.jsx)("td",{className:"text-center p-4",children:(0,t.jsx)(b.default,{width:120,height:30,borderRadius:14})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(b.default,{width:120,height:28,borderRadius:12}),(0,t.jsx)(b.default,{width:80,height:12,borderRadius:10})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)(b.default,{width:120,height:30,borderRadius:14})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)(b.default,{width:120,height:30,borderRadius:14})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)(b.default,{width:120,height:30,borderRadius:14})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(b.default,{width:32,height:32,borderRadius:10}),(0,t.jsx)(b.default,{width:32,height:32,borderRadius:10}),(0,t.jsx)(b.default,{width:32,height:32,borderRadius:10})]})})]}):e&&Array.isArray(e)&&e.length>0?e.map((e,a)=>(0,t.jsxs)("tr",{className:`${a%2==0?"bg-white dark:bg-transparent":"bg-blue-100/50 dark:bg-slate-500"} w-full`,children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("span",{className:"text-sm cursor-copy",onClick:()=>O(e.enquiry_id),children:[" ",e.enquiry_id]})}),(0,t.jsxs)("td",{className:"flex gap-1 flex-col p-4",children:[(0,t.jsx)("h4",{children:e.fullName})," ",(0,t.jsx)(n.default,{href:`mailto:${e.email}`,className:"text-xs",children:e.email})," "]}),(0,t.jsx)("td",{className:"p-4 ",children:(0,t.jsx)("span",{className:"px-3 py-1 rounded-full bg-green-100 text-green-500 text-sm",children:e.projectType})}),(0,t.jsx)("td",{className:"p-4 ",children:(0,t.jsxs)("span",{className:"bg-yellow-400 text-slate-800 px-3 py-1.5 text-sm rounded-sm",children:[" ",e.source]})}),(0,t.jsxs)("td",{className:"p-4",children:[" ",e.status," "]}),(0,t.jsx)("td",{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[R(h.PERMISSIONS.readEnquiry)?(0,t.jsx)(n.default,{href:`/enquiry/view/${e.id}`,className:"h-9 w-9 flex items-center justify-center rounded-md cursor-pointer bg-green-100/80 dark:bg-green-50 hover:bg-green-200/70 dark:hover:bg-green-100 text-green-500 hover:scale-104",children:(0,t.jsx)(o.FaRegEye,{className:"text-xl"})}):(0,t.jsxs)("span",{className:"h-9 w-9 flex items-center justify-center rounded-md bg-green-100/80 dark:bg-green-50  text-green-500 opacity-80 cursor-not-allowed",children:[" ",(0,t.jsx)(o.FaRegEye,{className:"text-xl"})," "]}),R(h.PERMISSIONS.updateEnquiry)?(0,t.jsx)(n.default,{href:`/enquiry/update/${e.id}`,className:"h-9 w-9 flex items-center justify-center rounded-md bg-yellow-200/80 dark:bg-yellow-100 hover:bg-yellow-300/70 dark:hover:bg-yellow-200 text-yellow-500 hover:scale-104",children:(0,t.jsx)(c.MdOutlineEdit,{className:"text-xl"})}):(0,t.jsx)("span",{className:"h-9 w-9 flex items-center justify-center rounded-md bg-yellow-100 text-yellow-400 opacity-80 cursor-not-allowed",children:(0,t.jsx)(c.MdOutlineEdit,{className:"text-xl"})}),(0,t.jsxs)("button",{onClick:()=>M(e.id),className:"h-9 w-9 flex items-center justify-center rounded-md cursor-pointer bg-red-100 text-red-500 hover:bg-red-200 hover:scale-104 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:bg-red-100 disabled:opacity-80",disabled:!R(h.PERMISSIONS.deleteEnquiry),children:[" ",(0,t.jsx)(c.MdDeleteOutline,{className:"text-xl"})," "]})]})})]},e.enquiry_id)):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{className:"p-4 text-center",colSpan:6,children:"Data not found"})})})]}),(0,t.jsx)(m.default,{currentPage:S,totalPages:C,onPageChange:e=>$(e)})]})]})}])}]);