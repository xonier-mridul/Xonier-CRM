(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44331,e=>{"use strict";var a=e.i(43476),t=e.i(46932),s=e.i(88653);e.s(["default",0,({error:e})=>{if(!e||Array.isArray(e)&&0===e.length)return null;let l=Array.isArray(e)?e:[e];return(0,a.jsx)(s.AnimatePresence,{children:(0,a.jsx)(t.motion.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.25,ease:"easeOut"},className:"w-full relative rounded-md border border-red-500/50 bg-red-50 dark:bg-red-950  px-4 py-3 text-red-500 dark:text-red-400 ",children:(0,a.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:l.map((e,t)=>(0,a.jsx)("li",{children:e},t))})})})}])},2988,e=>{"use strict";e.s(["default",0,e=>{let a=e?.response?.data;return a?Array.isArray(a.detail)?a.detail.map(e=>e.msg||"Invalid input"):"string"==typeof a.detail?[a.detail]:"string"==typeof a.message?[a.message]:["Unexpected error occurred"]:["Something went wrong"]}])},96924,e=>{"use strict";var a=e.i(71645);let t=a.default.createContext({});function s({count:e=1,wrapper:s,className:l,containerClassName:r,containerTestId:i,circle:d=!1,style:n,...o}){var u,c,m;let h=a.default.useContext(t),x={...o};for(let[e,a]of Object.entries(o))void 0===a&&delete x[e];let p={...h,...x,circle:d},f={...n,...function({baseColor:e,highlightColor:a,width:t,height:s,borderRadius:l,circle:r,direction:i,duration:d,enableAnimation:n=!0,customHighlightBackground:o}){let u={};return"rtl"===i&&(u["--animation-direction"]="reverse"),"number"==typeof d&&(u["--animation-duration"]=`${d}s`),n||(u["--pseudo-element-display"]="none"),("string"==typeof t||"number"==typeof t)&&(u.width=t),("string"==typeof s||"number"==typeof s)&&(u.height=s),("string"==typeof l||"number"==typeof l)&&(u.borderRadius=l),r&&(u.borderRadius="50%"),void 0!==e&&(u["--base-color"]=e),void 0!==a&&(u["--highlight-color"]=a),"string"==typeof o&&(u["--custom-highlight-background"]=o),u}(p)},g="react-loading-skeleton";l&&(g+=` ${l}`);let y=null!=(u=p.inline)&&u,N=[],w=Math.ceil(e);for(let t=0;t<w;t++){let s=f;if(w>e&&t===w-1){let a=null!=(c=s.width)?c:"100%",t=e%1,l="number"==typeof a?a*t:`calc(${a} * ${t})`;s={...s,width:l}}let l=a.default.createElement("span",{className:g,style:s,key:t},"â€Œ");y?N.push(l):N.push(a.default.createElement(a.default.Fragment,{key:t},l,a.default.createElement("br",null)))}return a.default.createElement("span",{className:r,"data-testid":i,"aria-live":"polite","aria-busy":null==(m=p.enableAnimation)||m},s?N.map((e,t)=>a.default.createElement(s,{key:t},e)):N)}e.s(["default",()=>s])},3812,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(11152);e.s(["default",0,({label:e,error:l,type:r="text",className:i="",required:d=!1,...n})=>{let[o,u]=(0,t.useState)(!1),c="password"===r,m="textarea"===r,h=`
    w-full px-3 py-2 rounded-md border
    bg-white dark:bg-gray-700 text-black dark:text-white
    border-gray-300 dark:border-gray-300/30
    disabled:opacity-60 disabled:cursor-not-allowed
    focus:outline-none focus:ring-2 focus:ring-violet-500
    ${l?"border-red-500 focus:ring-red-500":""}
    ${i}
  `;return(0,a.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[e&&(0,a.jsxs)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 capitalize",children:[d&&(0,a.jsx)("span",{className:"text-red-500 text-xl",children:"*"})," ",e]}),(0,a.jsxs)("div",{className:"relative",children:[m?(0,a.jsx)("textarea",{required:d,className:`${h} resize-none`,rows:5,...n}):(0,a.jsx)("input",{type:c&&o?"text":r,required:d,className:h,...n}),c&&(0,a.jsx)("button",{type:"button",onClick:()=>u(e=>!e),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:hover:text-blue-500",children:o?(0,a.jsx)(s.FaEyeSlash,{}):(0,a.jsx)(s.FaEye,{})})]}),l&&(0,a.jsx)("span",{className:"text-sm text-red-500",children:l})]})}])},43935,e=>{"use strict";var a=e.i(63816);e.s(["RoleService",0,{getRoles:e=>a.default.get(`/user-role/all?page=${e.currentPage}&limit=${e.pageLimit}`),getRolesWithoutPagination:()=>a.default.get("/user-role/all/active/without-pagination"),getRoleById:e=>a.default.get(`/user-role/get-by-id/${e}`),update:(e,t)=>a.default.put(`/user-role/update/${e}`,t),create:e=>a.default.post("/user-role/create",e),delete:e=>a.default.delete(`/user-role/delete/${e}`)}])},93948,91807,e=>{"use strict";var a,t=((a={}).ACTIVE="active",a.INACTIVE="inactive",a.SUSPENDED="suspended",a.DELETED="deleted",a);e.s(["USER_STATUS",()=>t],91807),e.s([],93948)},49140,e=>{"use strict";e.i(47167);var a=e.i(43476),t=e.i(2988),s=e.i(69036),l=e.i(81949),r=e.i(71645),i=e.i(18566),d=e.i(3812);e.i(93948);var n=e.i(91807),o=e.i(75545),u=e.i(84828),c=e.i(30648),m=e.i(44331),h=e.i(96924);let x=({formData:e,isLoading:t,handleChange:s,handleRemoveRole:l,handleUserRoleChange:r,roleData:i,loading:x,handleSubmit:p,err:f,handleStatus:g,handleStatusChange:y,statusData:N,statusErr:w,statusLoading:j,passwordData:b,handlePassChange:v,handlePasswordSubmit:S,passErr:E,isPassLoading:A})=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-12",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsx)("h2",{className:"text-slate-900 dark:text-white font-medium text-3xl capitalize",children:"Update user information"}),f&&(0,a.jsx)(m.default,{error:f}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-5 flex flex-col gap-4 w-full",children:(0,a.jsxs)("form",{className:"grid grid-cols-2 gap-4",onSubmit:p,children:[t?(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[" ",(0,a.jsx)(h.default,{height:14,width:80,className:"animate-pulse"})," ",(0,a.jsx)(h.default,{height:34,width:500,className:"animate-pulse"})]}):(0,a.jsx)(d.default,{label:"First Name",type:"text",name:"firstName",value:e.firstName,onChange:s,placeholder:"First Name"}),t?(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[" ",(0,a.jsx)(h.default,{height:14,width:80,className:"animate-pulse"})," ",(0,a.jsx)(h.default,{height:34,width:500,className:"animate-pulse"})]}):(0,a.jsx)(d.default,{label:"Last Name",type:"text",name:"lastName",value:e.lastName,onChange:s,placeholder:"Last Name"}),t?(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[" ",(0,a.jsx)(h.default,{height:14,width:80,className:"animate-pulse"})," ",(0,a.jsx)(h.default,{height:34,width:500,className:"animate-pulse"})]}):(0,a.jsx)(d.default,{label:"Email",type:"email",name:"email",value:e.email,onChange:s,placeholder:"Email"}),t?(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[" ",(0,a.jsx)(h.default,{height:14,width:80,className:"animate-pulse"})," ",(0,a.jsx)(h.default,{height:34,width:500,className:"animate-pulse"})]}):(0,a.jsx)(d.default,{label:"phone",type:"text",name:"phone",value:e.phone,onChange:s,placeholder:"Phone"}),t?(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[" ",(0,a.jsx)(h.default,{height:14,width:80,className:"animate-pulse"})," ",(0,a.jsx)(h.default,{height:34,width:500,className:"animate-pulse"})]}):(0,a.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"User Role"}),(0,a.jsxs)("select",{onChange:r,className:"w-full px-3 py-2 rounded-md border bg-white dark:bg-gray-700 text-black dark:text-white border-gray-300 dark:border-gray-300/30",children:[(0,a.jsx)("option",{value:"",children:"Select user role"}),i.map(e=>(0,a.jsx)("option",{value:e.id,hidden:e.code===o.SUPER_ADMIN_ROLE_CODE,disabled:e.code===o.SUPER_ADMIN_ROLE_CODE,children:e.name},e.id))]}),e.userRole.length>0&&(0,a.jsx)("div",{className:"col-span-1 flex flex-wrap gap-2 mt-2",children:e.userRole.map(e=>{let t=i.find(a=>a.id===e);return t?(0,a.jsxs)("span",{className:"flex items-center gap-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:[t.name,(0,a.jsx)("button",{type:"button",onClick:()=>l(e),className:"hover:text-red-500 transition",children:(0,a.jsx)(u.FaXmark,{size:12})})]},e):null})})]}),t?(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[" ",(0,a.jsx)(h.default,{height:14,width:80,className:"animate-pulse"})," ",(0,a.jsx)(h.default,{height:34,width:500,className:"animate-pulse"})]}):(0,a.jsx)(d.default,{label:"company",type:"text",name:"company",value:e.company,onChange:s,placeholder:"Company Name"}),f&&(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsx)("p",{className:"text-red-500",children:f})}),(0,a.jsxs)(c.default,{className:"col-span-2",isLoading:x,disabled:""===e.firstName||""===e.lastName||""===e.email||""===e.phone||e.userRole.length<=0,children:[" ","Update User Info"," "]})]})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsx)("h2",{className:"text-slate-900 dark:text-white font-medium text-3xl capitalize",children:"Update user status"}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-5 flex flex-col gap-4 w-full",children:(0,a.jsxs)("form",{onSubmit:g,className:"grid grid-cols-1 gap-4",children:[t?(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[" ",(0,a.jsx)(h.default,{height:14,width:80,className:"animate-pulse"})," ",(0,a.jsx)(h.default,{height:34,width:1100,className:"animate-pulse"})]}):(0,a.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"User Status"}),(0,a.jsxs)("select",{onChange:y,name:"status",value:N.status,className:"w-full px-3 py-2 rounded-md border capitalize bg-white dark:bg-gray-700 text-black dark:text-white border-gray-300 dark:border-gray-300/30",children:[(0,a.jsx)("option",{value:"",hidden:!0,children:"Select user status"}),(0,a.jsx)("option",{value:n.USER_STATUS.ACTIVE,children:n.USER_STATUS.ACTIVE}),(0,a.jsx)("option",{value:n.USER_STATUS.INACTIVE,children:n.USER_STATUS.INACTIVE}),(0,a.jsx)("option",{value:n.USER_STATUS.DELETED,children:n.USER_STATUS.DELETED}),(0,a.jsx)("option",{value:n.USER_STATUS.SUSPENDED,children:n.USER_STATUS.SUSPENDED})]})]}),w&&(0,a.jsx)("div",{className:"flex items-center justify-end w-full",children:(0,a.jsx)("p",{className:"text-red-500",children:w})}),(0,a.jsx)(c.default,{isLoading:j,disabled:""===N.status,children:"Update Status"})]})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsx)("h2",{className:"text-slate-900 dark:text-white font-medium text-3xl capitalize",children:"Update user Password"}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-5 flex flex-col gap-4 w-full",children:[(0,a.jsxs)("span",{className:"text-slate-600 dark:text-slate-400  text-sm",children:[(0,a.jsx)("span",{className:"text-red-500 text-lg",children:"*"})," Password should one uppercase, one lowercase, one special character and min length 8"]}),(0,a.jsxs)("form",{onSubmit:S,className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)(d.default,{name:"password",type:"password",label:"New Password",onChange:v,value:b.password,placeholder:"Password"}),(0,a.jsx)(d.default,{name:"confirmPassword",type:"password",label:"Confirm Password",onChange:v,value:b.confirmPassword,placeholder:"Confirm Password"}),E&&(0,a.jsx)("div",{className:"flex w-full items-center justify-end",children:(0,a.jsx)("p",{className:"text-red-500",children:E})}),(0,a.jsx)(c.default,{disabled:b.password.length<8||b.confirmPassword.length<8||b.confirmPassword.trim()!==b.password.trim(),isLoading:A,children:"Update Password"})]})]})]})]})});var p=e.i(70319),f=e.i(43935),g=e.i(36253);e.s(["default",0,()=>{let[e,d]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[u,c]=(0,r.useState)(""),[m,h]=(0,r.useState)([]),[y,N]=(0,r.useState)([]),[w,j]=(0,r.useState)(!1),[b,v]=(0,r.useState)(!1),[S,E]=(0,r.useState)(!1),[A,R]=(0,r.useState)(!1),[U,k]=(0,r.useState)({status:""}),[T,C]=(0,r.useState)({password:"",confirmPassword:""}),[P,$]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",userRole:[],company:""}),D=(0,i.useParams)().id,I=(0,i.useRouter)(),_=async()=>{try{let e=await f.RoleService.getRolesWithoutPagination();200===e.status&&N(e.data.data)}catch(e){console.error(e),l.default.isAxiosError(e)?d((0,t.default)(e)):d(["Something went wrong"])}},L=async()=>{j(!0);try{let e=await s.AuthService.getUserById(D);if(200===e.status){let a=e.data.data;h(a),$({firstName:a?.firstName??"",lastName:a?.lastName??"",email:a?.email??"",phone:a?.phone??"",userRole:a?.userRole?.map(e=>e.id)??[],company:a?.company??""}),k({status:a?.status??""})}}catch(e){console.error(e),l.default.isAxiosError(e)?d((0,t.default)(e)):d(["Something went wrong"])}finally{j(!1)}};(0,r.useEffect)(()=>{L(),_()},[]);let O=async e=>{e.preventDefault(),E(!0),d("");try{let e=await s.AuthService.update(D,P);200===e.status&&(p.toast.success(`${P.firstName} ${P.lastName} updated successfully`),setTimeout(()=>{I.push("/users")},2e3))}catch(e){console.error(e),l.default.isAxiosError(e)?d((0,t.default)(e)):d(["Something went wrong"])}finally{E(!1)}},z=async e=>{e.preventDefault(),R(!0),o("");try{if(await (0,g.default)({title:"Are you sure",text:`Are you sure to change ${P.firstName} ${P.lastName} status to ${U.status}?`,btnTxt:"Yes, Change"})){let e=await s.AuthService.updateStatus(D,U);200===e.status&&(p.toast.success(`${P.firstName} ${P.lastName} status to ${U.status.toUpperCase()} updated successfully`),setTimeout(()=>{I.push("/users")},2e3))}}catch(e){console.error(e),l.default.isAxiosError(e)?o((0,t.default)(e)):o(["Something went wrong"])}finally{R(!1)}},F=async e=>{e.preventDefault(),c(""),v(!0);try{if(T.password.trim()!==T.confirmPassword.trim())return void c("Password and confirm password not matching, please check and try again");if(await (0,g.default)({title:"Are you sure",text:`Are you sure to update ${P.firstName} ${P.lastName} password`,btnTxt:"Yes, Update Password"})){let e=await s.AuthService.changePasswordByAdmin(D,T);200===e.status&&(p.toast.success(`${P.firstName} ${P.lastName} password updated successfully`),setTimeout(()=>{I.push("/users")},2e3))}}catch(e){console.error(e),l.default.isAxiosError(e)?c((0,t.default)(e)):c(["Something went wrong"])}finally{v(!1)}};return(0,a.jsx)("div",{className:"ml-72 mt-14 p-6",children:(0,a.jsx)(x,{formData:P,isLoading:w,handleChange:e=>{let{name:a,value:t}=e.target;$(e=>({...e,[a]:t}))},handleUserRoleChange:e=>{let a=e.target.value;if(!P.userRole.includes(a)){if(P.userRole.length>=1)return void p.toast.info("Currently only one user role allowed");$(e=>({...e,userRole:[...e.userRole,a]})),e.target.value=""}},handleRemoveRole:e=>{$(a=>({...a,userRole:a.userRole.filter(a=>a!==e)}))},roleData:y,handleSubmit:O,loading:S,err:e,handleStatus:z,handleStatusChange:e=>{let{name:a,value:t}=e.target;k(e=>({...e,[a]:t}))},statusData:U,statusErr:n,statusLoading:A,passwordData:T,handlePassChange:e=>{let{name:a,value:t}=e.target;C(e=>({...e,[a]:t}))},handlePasswordSubmit:F,passErr:u,isPassLoading:b})})}],49140)}]);