(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2988,e=>{"use strict";e.s(["default",0,e=>{let a=e?.response?.data;return a?Array.isArray(a.detail)?a.detail.map(e=>e.msg||"Invalid input"):"string"==typeof a.detail?[a.detail]:"string"==typeof a.message?[a.message]:["Unexpected error occurred"]:["Something went wrong"]}])},96924,e=>{"use strict";var a=e.i(71645);let t=a.default.createContext({});function s({count:e=1,wrapper:s,className:r,containerClassName:l,containerTestId:i,circle:d=!1,style:n,...o}){var c,x,m;let g=a.default.useContext(t),u={...o};for(let[e,a]of Object.entries(o))void 0===a&&delete u[e];let h={...g,...u,circle:d},b={...n,...function({baseColor:e,highlightColor:a,width:t,height:s,borderRadius:r,circle:l,direction:i,duration:d,enableAnimation:n=!0,customHighlightBackground:o}){let c={};return"rtl"===i&&(c["--animation-direction"]="reverse"),"number"==typeof d&&(c["--animation-duration"]=`${d}s`),n||(c["--pseudo-element-display"]="none"),("string"==typeof t||"number"==typeof t)&&(c.width=t),("string"==typeof s||"number"==typeof s)&&(c.height=s),("string"==typeof r||"number"==typeof r)&&(c.borderRadius=r),l&&(c.borderRadius="50%"),void 0!==e&&(c["--base-color"]=e),void 0!==a&&(c["--highlight-color"]=a),"string"==typeof o&&(c["--custom-highlight-background"]=o),c}(h)},j="react-loading-skeleton";r&&(j+=` ${r}`);let N=null!=(c=h.inline)&&c,y=[],p=Math.ceil(e);for(let t=0;t<p;t++){let s=b;if(p>e&&t===p-1){let a=null!=(x=s.width)?x:"100%",t=e%1,r="number"==typeof a?a*t:`calc(${a} * ${t})`;s={...s,width:r}}let r=a.default.createElement("span",{className:j,style:s,key:t},"‌");N?y.push(r):y.push(a.default.createElement(a.default.Fragment,{key:t},r,a.default.createElement("br",null)))}return a.default.createElement("span",{className:l,"data-testid":i,"aria-live":"polite","aria-busy":null==(m=h.enableAnimation)||m},s?y.map((e,t)=>a.default.createElement(s,{key:t},e)):y)}e.s(["default",()=>s])},44331,e=>{"use strict";var a=e.i(43476),t=e.i(46932),s=e.i(88653);e.s(["default",0,({error:e})=>{if(!e||Array.isArray(e)&&0===e.length)return null;let r=Array.isArray(e)?e:[e];return(0,a.jsx)(s.AnimatePresence,{children:(0,a.jsx)(t.motion.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.25,ease:"easeOut"},className:"w-full relative rounded-md border border-red-500/50 bg-red-50 dark:bg-red-950  px-4 py-3 text-red-500 dark:text-red-400 ",children:(0,a.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:r.map((e,t)=>(0,a.jsx)("li",{children:e},t))})})})}])},65992,e=>{"use strict";var a=e.i(70319);e.s(["handleCopy",0,e=>{e&&(navigator.clipboard.writeText(e),a.toast.success(`${e} copied successfully`))}])},34639,e=>{"use strict";e.s(["formatDate",0,e=>{if(e)return new Date(e).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}).replace(/ /g,"-")}])},85682,e=>{"use strict";var a=e.i(63816);e.s(["default",0,{getAll:(e,t,s)=>{let r=new URLSearchParams;return e&&r.append("page",String(e)),t&&r.append("limit",String(t)),s&&Object.entries(s).forEach(([e,a])=>{null!=a&&""!==a&&r.append(e,String(a))}),a.default.get(`/invoice/all?${r.toString()}`)},getById:e=>a.default.get(`/invoice/get-by-id/${e}`),download:e=>a.default.get(`/invoice/download/${e}`,{responseType:"blob"})}])},38813,e=>{"use strict";var a=e.i(43476),t=e.i(2988),s=e.i(34639),r=e.i(85682),l=e.i(77344),i=e.i(81949),d=e.i(18566),n=e.i(71645),o=e.i(70319),c=e.i(44331),x=e.i(36253),m=e.i(64975),g=e.i(96924),u=e.i(22016),h=e.i(69620),b=e.i(73665),j=e.i(11152),N=e.i(65992);let y=({icon:e,label:t,value:s,color:r})=>(0,a.jsx)("div",{className:"bg-white dark:bg-gray-700 p-5 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:`${r} p-3 rounded-lg text-white`,children:e}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t}),(0,a.jsx)("p",{className:"text-xl font-bold text-gray-900 dark:text-white mt-1",children:s})]})]})}),p=({icon:e,label:t,value:s})=>(0,a.jsxs)("div",{className:"group",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[e&&(0,a.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:e}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t})]}),(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white capitalize pl-6",children:s})]}),f=({icon:e,label:t,value:s})=>(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e&&(0,a.jsx)("span",{className:"text-white/80",children:e}),(0,a.jsx)("span",{className:"text-sm text-white/80",children:t})]}),(0,a.jsx)("div",{className:"font-medium text-white pl-6",children:s})]}),v=({label:e,value:t,color:s})=>(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-600 last:border-0",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e}),(0,a.jsx)("span",{className:`text-sm font-medium ${s}`,children:t||"—"})]});e.s(["default",0,()=>{var e;let w,[I,k]=(0,n.useState)(!1),[C,S]=(0,n.useState)(null),[O,A]=(0,n.useState)(""),[D,T]=(0,n.useState)("overview"),{id:E}=(0,d.useParams)(),P=(0,d.useRouter)(),{hasPermission:$}=(0,m.usePermissions)(),U=async e=>{k(!0);try{let a=await r.default.getById(e);200===a.status&&S(a.data.data)}catch(e){if(console.error(e),i.default.isAxiosError(e)){let a=(0,t.default)(e);A(a),o.toast.error(`${a}`)}else A(["Something went wrong"])}finally{k(!1)}};(0,n.useEffect)(()=>{E&&U(String(E))},[E]);let L=async()=>{if(C)try{await (0,x.default)({title:"Are you sure?",text:`Do you want to delete invoice "${C.invoiceId}"?`,btnTxt:"Yes, delete"})&&(o.toast.success("Invoice deleted successfully"),P.push("/invoices"))}catch(e){if(i.default.isAxiosError(e)){let a=(0,t.default)(e);o.toast.error(`${a}`)}else o.toast.error("Something went wrong")}},R=async()=>{o.toast.info("Send invoice functionality coming soon")},V=async e=>{if(!e)return void o.toast.info("Invoice id not found");try{let a=await r.default.download(e);if(200===a.status){let t=new Blob([a.data],{type:"application/pdf"}),s=window.URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download=`invoice_${e}.pdf`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(s),o.toast.success("Invoice downloaded successfully")}}catch(e){if(i.default.isAxiosError(e)){let a=(0,t.default)(e);o.toast.error(`${a}`)}else o.toast.error("Something went wrong")}},_=async()=>{window.print()},B=async()=>{o.toast.info("Mark as paid functionality coming soon")},F=()=>!!C?.dueDate&&new Date(C.dueDate)<new Date&&C.status!==l.INVOICE_STATUS.PAID;if(I)return(0,a.jsxs)("div",{className:"ml-72 mt-14 p-6 flex flex-col gap-6 animate-pulse",children:[(0,a.jsx)(g.default,{height:120,borderRadius:12,className:"dark:bg-gray-700 w-full"}),(0,a.jsx)(g.default,{height:60,borderRadius:12,className:"dark:bg-gray-700 w-full"}),(0,a.jsxs)("div",{className:"flex items-start gap-6",children:[(0,a.jsxs)("div",{className:"w-2/3 flex flex-col gap-6",children:[(0,a.jsx)(g.default,{height:300,borderRadius:12,className:"dark:bg-gray-700 w-full"}),(0,a.jsx)(g.default,{height:200,borderRadius:12,className:"dark:bg-gray-700 w-full"})]}),(0,a.jsx)("div",{className:"w-1/3",children:(0,a.jsx)(g.default,{height:400,borderRadius:12,className:"dark:bg-gray-700 w-full"})})]})]});if(O)return(0,a.jsx)("div",{className:"ml-72 mt-14 p-6",children:(0,a.jsx)(c.default,{error:O})});if(!C)return(0,a.jsx)("div",{className:"ml-72 mt-14 p-6",children:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(h.IoReceiptOutline,{className:"w-20 h-20 mx-auto text-gray-300 dark:text-gray-600 mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Invoice Not Found"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The invoice you're looking for doesn't exist or has been removed."}),(0,a.jsxs)("button",{onClick:()=>P.back(),className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,a.jsx)(h.IoArrowBack,{className:"w-5 h-5"}),"Go Back"]})]})})});let q=C?C.total-(C.paidAmount||0):0,M=C&&0!==C.total?(C.paidAmount||0)/C.total*100:0;return console.log("invoice id: ",C.id),(0,a.jsxs)("div",{className:"ml-72 mt-14 p-6 min-h-screen",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("div",{className:"bg-white dark:bg-gray-700 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:C.invoiceId}),(0,a.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium ${(e=C.status,(w={[l.INVOICE_STATUS.DRAFT]:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300",[l.INVOICE_STATUS.SENT]:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",[l.INVOICE_STATUS.PAID]:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",[l.INVOICE_STATUS.PARTIALLY_PAID]:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400",[l.INVOICE_STATUS.OVERDUE]:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",[l.INVOICE_STATUS.CANCELLED]:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"})[e]||w[l.INVOICE_STATUS.DRAFT])}`,children:[(e=>{switch(e){case l.INVOICE_STATUS.PAID:return(0,a.jsx)(h.IoCheckmarkCircle,{className:"w-4 h-4"});case l.INVOICE_STATUS.CANCELLED:return(0,a.jsx)(h.IoCloseCircle,{className:"w-4 h-4"});case l.INVOICE_STATUS.OVERDUE:return(0,a.jsx)(h.IoAlertCircleOutline,{className:"w-4 h-4"});case l.INVOICE_STATUS.SENT:return(0,a.jsx)(h.IoSendOutline,{className:"w-4 h-4"});case l.INVOICE_STATUS.PARTIALLY_PAID:return(0,a.jsx)(h.IoCardOutline,{className:"w-4 h-4"});default:return(0,a.jsx)(h.IoDocumentText,{className:"w-4 h-4"})}})(C.status),C.status]}),F()&&(0,a.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",children:[(0,a.jsx)(h.IoAlertCircleOutline,{className:"w-4 h-4"}),"Overdue"]})]}),(0,a.jsxs)("p",{className:"text-gray-500 dark:text-gray-400 cursor-pointer hover:text-blue-500 dark:hover:text-blue-400 transition-colors flex items-center gap-2",onClick:()=>(0,N.handleCopy)(C?C.invoiceId:""),children:[(0,a.jsx)(h.IoDocumentText,{className:"w-4 h-4"}),"Click to copy Invoice ID"]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[C.status!==l.INVOICE_STATUS.PAID&&(0,a.jsxs)("button",{onClick:B,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[(0,a.jsx)(h.IoCheckmarkCircle,{className:"w-4 h-4"}),"Mark as Paid"]}),C.status===l.INVOICE_STATUS.DRAFT&&(0,a.jsxs)("button",{onClick:R,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors group",children:[(0,a.jsx)(j.FaRegPaperPlane,{className:"w-4 h-4 group-hover:rotate-12 transition-transform"}),"Send Invoice"]}),(0,a.jsxs)("button",{onClick:()=>V(String(E)),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,a.jsx)(h.IoDownloadOutline,{className:"w-4 h-4"}),"Download"]}),(0,a.jsx)("button",{onClick:_,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-300 rounded-lg transition-colors",children:(0,a.jsx)(h.IoPrintOutline,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("button",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-300 rounded-lg transition-colors",children:(0,a.jsx)(h.IoEllipsisVertical,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{className:"hidden group-hover:block absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-10",children:[$(l.PERMISSIONS.updateInvoice)?(0,a.jsxs)(u.default,{href:`/invoices/update/${C.id}`,className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,a.jsx)(h.IoCreateOutline,{className:"w-4 h-4"}),"Edit"]}):(0,a.jsxs)("span",{className:"flex items-center gap-2 px-4 py-2 text-gray-400 dark:text-gray-500 cursor-not-allowed",children:[(0,a.jsx)(h.IoCreateOutline,{className:"w-4 h-4"}),"Edit"]}),$(l.PERMISSIONS.deleteInvoice)&&(0,a.jsxs)("button",{onClick:L,className:"w-full flex items-center gap-2 px-4 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[(0,a.jsx)(b.MdDeleteOutline,{className:"w-4 h-4"}),"Delete"]})]})]})]})]})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,a.jsx)(y,{icon:(0,a.jsx)(h.IoCashOutline,{className:"w-6 h-6"}),label:"Total Amount",value:`₹ ${C.total?.toLocaleString("en-IN")}`,color:"bg-blue-500"}),(0,a.jsx)(y,{icon:(0,a.jsx)(h.IoCheckmarkCircle,{className:"w-6 h-6"}),label:"Paid Amount",value:`₹ ${(C.paidAmount||0)?.toLocaleString("en-IN")}`,color:"bg-green-500"}),(0,a.jsx)(y,{icon:(0,a.jsx)(h.IoCardOutline,{className:"w-6 h-6"}),label:"Balance Due",value:`₹ ${q?.toLocaleString("en-IN")}`,color:q>0?"bg-red-500":"bg-gray-500"}),(0,a.jsx)(y,{icon:(0,a.jsx)(h.IoCalendarOutline,{className:"w-5 h-5"}),label:"Due Date",value:(0,s.formatDate)(C.dueDate)||"—",color:F()?"bg-red-500":"bg-purple-500"})]}),C.status===l.INVOICE_STATUS.PARTIALLY_PAID&&(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-700 p-4 rounded-xl border border-gray-200 dark:border-gray-700 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Payment Progress"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[M.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5",children:(0,a.jsx)("div",{className:"bg-green-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${M}%`}})})]}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-700 mb-6 rounded-xl border border-gray-200 dark:border-gray-700",children:(0,a.jsx)("div",{className:"flex gap-8 overflow-x-auto px-6 py-3.5",children:["overview","deal","payment"].map(e=>(0,a.jsxs)("button",{onClick:()=>T(e),className:`pb-1.5 px-1 font-medium transition-colors cursor-pointer relative whitespace-nowrap ${D===e?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[e.charAt(0).toUpperCase()+e.slice(1),D===e&&(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600 dark:bg-blue-400"})]},e))})}),(0,a.jsxs)("div",{className:"flex gap-6",children:[(0,a.jsxs)("div",{className:"w-2/3 flex flex-col gap-6",children:["overview"===D&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-700 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,a.jsx)(h.IoPersonOutline,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Customer Information"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoPersonOutline,{className:"w-4 h-4"}),label:"Customer Name",value:C.customerName}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoMailOutline,{className:"w-4 h-4"}),label:"Email",value:C.customerEmail}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoCallOutline,{className:"w-4 h-4"}),label:"Phone",value:C.customerPhone}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoBusinessOutline,{className:"w-4 h-4"}),label:"Company",value:C.companyName||"—"}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoLocationOutline,{className:"w-4 h-4"}),label:"Billing Address",value:C.billingAddress||"—"})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-700 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,a.jsx)(h.IoReceiptOutline,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Invoice Details"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoDocumentText,{className:"w-4 h-4"}),label:"Invoice ID",value:C.invoiceId}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoCalendarOutline,{className:"w-4 h-4"}),label:"Issue Date",value:C.issueDate?(0,s.formatDate)(C.issueDate):"--"}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoCalendarOutline,{className:"w-4 h-4"}),label:"Due Date",value:(0,s.formatDate)(C.dueDate)||"—"}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoStatsChartOutline,{className:"w-4 h-4"}),label:"Status",value:C.status}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoCashOutline,{className:"w-4 h-4"}),label:"Subtotal",value:`₹ ${C.subTotal?.toLocaleString("en-IN")}`}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoCashOutline,{className:"w-4 h-4"}),label:"Total",value:`₹ ${C.total?.toLocaleString("en-IN")}`}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoCheckmarkCircle,{className:"w-4 h-4"}),label:"Paid Amount",value:`₹ ${(C.paidAmount||0)?.toLocaleString("en-IN")}`}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoCardOutline,{className:"w-4 h-4"}),label:"Balance",value:`₹ ${q?.toLocaleString("en-IN")}`}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoCalendarOutline,{className:"w-4 h-4"}),label:"Last Payment",value:C.lastPaymentDate?(0,s.formatDate)(C.lastPaymentDate):"—"})]}),C.notes&&(0,a.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(h.IoInformationCircleOutline,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notes"})]}),(0,a.jsx)("p",{className:"text-gray-900 dark:text-white",children:C.notes})]})]})]}),"deal"===D&&(0,a.jsxs)(a.Fragment,{children:[C.deal&&(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-700 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.IoDocumentText,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Associated Deal"})]}),(0,a.jsx)(u.default,{href:`/deals/${C.deal.id}`,className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"View Full Deal →"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoDocumentText,{className:"w-4 h-4"}),label:"Deal ID",value:C.deal.deal_id}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoInformationCircleOutline,{className:"w-4 h-4"}),label:"Deal Name",value:C.deal.dealName}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoPricetagOutline,{className:"w-4 h-4"}),label:"Deal Amount",value:`₹ ${C.deal.amount?.toLocaleString("en-IN")}`}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoStatsChartOutline,{className:"w-4 h-4"}),label:"Pipeline",value:C.deal.dealPipeline}),(0,a.jsx)(p,{icon:(0,a.jsx)(b.MdTimeline,{className:"w-4 h-4"}),label:"Stage",value:C.deal.dealStage}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoInformationCircleOutline,{className:"w-4 h-4"}),label:"Type",value:C.deal.dealType?.replace("_"," ")})]})]}),C.quotation&&(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-700 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.IoDocumentText,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Associated Quotation"})]}),(0,a.jsx)(u.default,{href:`/quotations/${C.quotation.id}`,className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"View Quotation →"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoDocumentText,{className:"w-4 h-4"}),label:"Quote ID",value:C.quotation.quoteId}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoInformationCircleOutline,{className:"w-4 h-4"}),label:"Title",value:C.quotation.title||"—"}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoStatsChartOutline,{className:"w-4 h-4"}),label:"Status",value:C.quotation.quotationStatus}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoCashOutline,{className:"w-4 h-4"}),label:"Quote Total",value:`₹ ${C.quotation.total?.toLocaleString("en-IN")}`}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoCalendarOutline,{className:"w-4 h-4"}),label:"Issue Date",value:(0,s.formatDate)(C.quotation.issueDate)}),(0,a.jsx)(p,{icon:(0,a.jsx)(h.IoCalendarOutline,{className:"w-4 h-4"}),label:"Valid Until",value:(0,s.formatDate)(C.quotation.valid)})]}),C.quotation.description&&(0,a.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(h.IoInformationCircleOutline,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"})]}),(0,a.jsx)("p",{className:"text-gray-900 dark:text-white",children:C.quotation.description})]})]})]}),"payment"===D&&(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-700 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,a.jsx)(b.MdPayment,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Information"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(h.IoCashOutline,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total Amount"})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["₹ ",C.total?.toLocaleString("en-IN")]})]}),(0,a.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(h.IoCheckmarkCircle,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Paid Amount"})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["₹ ",(C.paidAmount||0)?.toLocaleString("en-IN")]})]}),(0,a.jsxs)("div",{className:`p-4 rounded-lg ${q>0?"bg-red-50 dark:bg-red-900/20":"bg-gray-50 dark:bg-gray-800"}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(h.IoCardOutline,{className:`w-5 h-5 ${q>0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}`}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Balance Due"})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["₹ ",q?.toLocaleString("en-IN")]})]}),(0,a.jsxs)("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(j.FaPercent,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Payment Progress"})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[M.toFixed(1),"%"]})]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4",children:"Payment History"}),(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(h.IoInformationCircleOutline,{className:"w-12 h-12 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Payment history coming soon"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"w-1/3 flex flex-col gap-6",children:[C.createdBy&&(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-6 rounded-xl border border-blue-400 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(j.FaRegUser,{className:"text-xl text-white"}),(0,a.jsx)("h2",{className:"text-white font-semibold text-xl",children:"Creator Information"})]}),(0,a.jsx)("div",{className:"border-b border-white/30 w-full mb-4"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(f,{icon:(0,a.jsx)(h.IoPersonOutline,{className:"w-4 h-4"}),label:"Name",value:`${C.createdBy?.firstName} ${C.createdBy?.lastName??""}`}),(0,a.jsx)(f,{icon:(0,a.jsx)(h.IoMailOutline,{className:"w-4 h-4"}),label:"Email",value:C.createdBy?.email}),(0,a.jsx)(f,{icon:(0,a.jsx)(h.IoCallOutline,{className:"w-4 h-4"}),label:"Phone",value:C.createdBy?.phone}),(0,a.jsx)(f,{icon:(0,a.jsx)(h.IoBusinessOutline,{className:"w-4 h-4"}),label:"Company",value:C.createdBy?.company||"—"})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-700 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Stats"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(v,{label:"Created",value:(0,s.formatDate)(C.createdAt),color:"text-gray-600 dark:text-gray-400"}),(0,a.jsx)(v,{label:"Last Updated",value:(0,s.formatDate)(C.updatedAt),color:"text-gray-600 dark:text-gray-400"}),F()&&(0,a.jsx)(v,{label:"Days Overdue",value:Math.floor((new Date().getTime()-new Date(C.dueDate).getTime())/864e5).toString(),color:"text-red-600 dark:text-red-400"})]})]}),(0,a.jsxs)("div",{className:`p-6 rounded-xl border shadow-lg ${C.status===l.INVOICE_STATUS.PAID?"bg-gradient-to-br from-green-500 to-green-600 border-green-400":C.status===l.INVOICE_STATUS.OVERDUE||F()?"bg-gradient-to-br from-red-500 to-red-600 border-red-400":"bg-gradient-to-br from-amber-500 to-amber-600 border-amber-400"}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[C.status===l.INVOICE_STATUS.PAID?(0,a.jsx)(h.IoCheckmarkCircle,{className:"text-2xl text-white"}):(0,a.jsx)(h.IoAlertCircleOutline,{className:"text-2xl text-white"}),(0,a.jsx)("h2",{className:"text-white font-semibold text-xl",children:"Payment Status"})]}),(0,a.jsx)("div",{className:"border-b border-white/30 w-full mb-4"}),(0,a.jsxs)("div",{className:"space-y-3 text-white",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-white/80",children:"Status"}),(0,a.jsx)("span",{className:"font-semibold uppercase",children:C.status})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-white/80",children:"Progress"}),(0,a.jsxs)("span",{className:"font-semibold",children:[M.toFixed(0),"%"]})]}),q>0&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-white/80",children:"Remaining"}),(0,a.jsxs)("span",{className:"font-semibold",children:["₹ ",q.toLocaleString("en-IN")]})]})]})]})]})]})]})}])}]);