(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2988,e=>{"use strict";e.s(["default",0,e=>{let t=e?.response?.data;return t?Array.isArray(t.detail)?t.detail.map(e=>e.msg||"Invalid input"):"string"==typeof t.detail?[t.detail]:"string"==typeof t.message?[t.message]:["Unexpected error occurred"]:["Something went wrong"]}])},96924,e=>{"use strict";var t=e.i(71645);let r=t.default.createContext({});function s({count:e=1,wrapper:s,className:a,containerClassName:l,containerTestId:i,circle:d=!1,style:o,...n}){var c,x,m;let g=t.default.useContext(r),h={...n};for(let[e,t]of Object.entries(n))void 0===t&&delete h[e];let u={...g,...h,circle:d},b={...o,...function({baseColor:e,highlightColor:t,width:r,height:s,borderRadius:a,circle:l,direction:i,duration:d,enableAnimation:o=!0,customHighlightBackground:n}){let c={};return"rtl"===i&&(c["--animation-direction"]="reverse"),"number"==typeof d&&(c["--animation-duration"]=`${d}s`),o||(c["--pseudo-element-display"]="none"),("string"==typeof r||"number"==typeof r)&&(c.width=r),("string"==typeof s||"number"==typeof s)&&(c.height=s),("string"==typeof a||"number"==typeof a)&&(c.borderRadius=a),l&&(c.borderRadius="50%"),void 0!==e&&(c["--base-color"]=e),void 0!==t&&(c["--highlight-color"]=t),"string"==typeof n&&(c["--custom-highlight-background"]=n),c}(u)},p="react-loading-skeleton";a&&(p+=` ${a}`);let f=null!=(c=u.inline)&&c,j=[],y=Math.ceil(e);for(let r=0;r<y;r++){let s=b;if(y>e&&r===y-1){let t=null!=(x=s.width)?x:"100%",r=e%1,a="number"==typeof t?t*r:`calc(${t} * ${r})`;s={...s,width:a}}let a=t.default.createElement("span",{className:p,style:s,key:r},"â€Œ");f?j.push(a):j.push(t.default.createElement(t.default.Fragment,{key:r},a,t.default.createElement("br",null)))}return t.default.createElement("span",{className:l,"data-testid":i,"aria-live":"polite","aria-busy":null==(m=u.enableAnimation)||m},s?j.map((e,r)=>t.default.createElement(s,{key:r},e)):j)}e.s(["default",()=>s])},3812,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(11152);e.s(["default",0,({label:e,error:a,type:l="text",className:i="",required:d=!1,...o})=>{let[n,c]=(0,r.useState)(!1),x="password"===l,m="textarea"===l,g=`
    w-full px-3 py-2 rounded-md border
    bg-white dark:bg-gray-700 text-black dark:text-white
    border-gray-300 dark:border-gray-300/30
    disabled:opacity-60 disabled:cursor-not-allowed
    focus:outline-none focus:ring-2 focus:ring-violet-500
    ${a?"border-red-500 focus:ring-red-500":""}
    ${i}
  `;return(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[e&&(0,t.jsxs)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 capitalize",children:[d&&(0,t.jsx)("span",{className:"text-red-500 text-xl",children:"*"})," ",e]}),(0,t.jsxs)("div",{className:"relative",children:[m?(0,t.jsx)("textarea",{required:d,className:`${g} resize-none`,rows:5,...o}):(0,t.jsx)("input",{type:x&&n?"text":l,required:d,className:g,...o}),x&&(0,t.jsx)("button",{type:"button",onClick:()=>c(e=>!e),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:hover:text-blue-500",children:n?(0,t.jsx)(s.FaEyeSlash,{}):(0,t.jsx)(s.FaEye,{})})]}),a&&(0,t.jsx)("span",{className:"text-sm text-red-500",children:a})]})}])},34728,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.s(["default",0,({onClick:e})=>((0,r.useEffect)(()=>{let t=t=>{"Escape"===t.key&&e&&e()};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e]),(0,t.jsx)("div",{onClick:e,className:" fixed inset-0 w-full h-full bg-black/30 backdrop-blur-sm z-[199] cursor-pointer ","aria-hidden":"true"}))])},43935,e=>{"use strict";var t=e.i(63816);e.s(["RoleService",0,{getRoles:e=>t.default.get(`/user-role/all?page=${e.currentPage}&limit=${e.pageLimit}`),getRolesWithoutPagination:()=>t.default.get("/user-role/all/active/without-pagination"),getRoleById:e=>t.default.get(`/user-role/get-by-id/${e}`),update:(e,r)=>t.default.put(`/user-role/update/${e}`,r),create:e=>t.default.post("/user-role/create",e),delete:e=>t.default.delete(`/user-role/delete/${e}`)}])},34390,e=>{"use strict";var t=e.i(63816);e.s(["PermissionsService",0,{getAll:()=>t.default.get("/permission/all")}])},10298,e=>{"use strict";e.i(47167);var t=e.i(43476),r=e.i(75545),s=e.i(71645),a=e.i(2988),l=e.i(70319),i=e.i(81949),d=e.i(43935),o=e.i(73665),n=e.i(84828),c=e.i(50719),x=e.i(69620),m=e.i(34728),g=e.i(30648),h=e.i(3812),u=e.i(77344),b=e.i(96924),p=e.i(22016);let f=({roleData:e,handleDelete:a,isLoading:l,permissionData:i,isPopupShow:d,setIsPopupShow:f,formData:j,setFormData:y,handleSubmit:k,hasPermissions:N,isAdmin:v})=>{let w,[S,E]=s.default.useState(""),[R,C]=s.default.useState(null),O=s.default.useMemo(()=>i?i.filter(e=>!S||e.title.toLowerCase().includes(S.toLowerCase())||e.module.toLowerCase().includes(S.toLowerCase())).reduce((e,t)=>(e[t.module]||(e[t.module]=[]),e[t.module].push(t),e),{}):{},[i,S]);return(0,t.jsxs)(t.Fragment,{children:[R&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.default,{onClick:()=>C(null)}),(0,t.jsxs)("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 rounded-2xl w-[650px] max-h-[90vh] z-[200] shadow-2xl flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 ${R.code===r.SUPER_ADMIN_ROLE_CODE?"bg-gradient-to-br from-amber-400 to-orange-500":"bg-gradient-to-br from-indigo-400 to-violet-500"}`,children:R.code===r.SUPER_ADMIN_ROLE_CODE?(0,t.jsx)(o.MdAdminPanelSettings,{className:"w-6 h-6 text-white"}):(0,t.jsx)(n.FaShieldHalved,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-slate-900 dark:text-white capitalize flex items-center gap-2",children:[R.name,R.code===r.SUPER_ADMIN_ROLE_CODE&&(0,t.jsx)("span",{className:"text-xs font-bold bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 px-2 py-0.5 rounded-full",children:"SYSTEM"})]}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5 flex items-center gap-1.5",children:[(0,t.jsx)(x.IoShieldCheckmarkOutline,{className:"w-3.5 h-3.5"}),R.code===r.SUPER_ADMIN_ROLE_CODE?"All permissions granted":`${R.permissions.length} permission${1!==R.permissions.length?"s":""} assigned`]})]})]}),(0,t.jsx)("button",{onClick:()=>C(null),className:"w-8 h-8 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors group",children:(0,t.jsx)(n.FaXmark,{className:"text-lg text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-200 group-hover:rotate-90 transition-all duration-200"})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:R.code===r.SUPER_ADMIN_ROLE_CODE?(0,t.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border-2 border-amber-200 dark:border-amber-800 rounded-xl p-6 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(x.IoShieldCheckmarkOutline,{className:"w-8 h-8 text-white"})}),(0,t.jsx)("h3",{className:"text-lg font-bold text-amber-900 dark:text-amber-200 mb-2",children:"Full System Access"}),(0,t.jsx)("p",{className:"text-sm text-amber-700 dark:text-amber-400",children:"This role has unrestricted access to all features and permissions in the system."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsxs)("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:["Permissions (",R.permissions.length,")"]})}),(w=R.permissions.reduce((e,t)=>(e[t.module]||(e[t.module]=[]),e[t.module].push(t),e),{}),(0,t.jsx)("div",{className:"space-y-4",children:Object.entries(w).map(([e,r])=>(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl border border-gray-200 dark:border-gray-600 overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 px-4 py-2.5 border-b border-gray-200 dark:border-gray-600",children:(0,t.jsx)("h4",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:e})}),(0,t.jsx)("div",{className:"p-3 space-y-2",children:r.map(e=>(0,t.jsxs)("div",{className:"flex items-start gap-3 bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-600",children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded border-2 bg-emerald-500 border-emerald-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,t.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-900 dark:text-white capitalize text-sm",children:e.title}),(0,t.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1.5",children:[(0,t.jsx)("span",{className:"text-xs bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-2 py-0.5 rounded-md font-medium",children:e.action}),(0,t.jsx)("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:e.code})]})]})]},e.id))})]},e))}))]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:[(0,t.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Created ",new Date(R.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>C(null),className:"px-5 py-2.5 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 text-slate-700 dark:text-slate-200 font-medium transition-colors",children:"Close"}),N(u.PERMISSIONS.updateRole)&&R.code!==r.SUPER_ADMIN_ROLE_CODE&&(0,t.jsxs)(p.default,{href:`/roles/update/${R.id}`,className:"px-5 py-2.5 rounded-lg bg-indigo-600 hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600 text-white font-semibold transition-all shadow-sm hover:shadow-md flex items-center gap-2",children:[(0,t.jsx)(o.MdOutlineEdit,{className:"w-4 h-4"}),"Edit Role"]})]})]})]})]}),d&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.default,{onClick:()=>f(!1)}),(0,t.jsxs)("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 rounded-2xl w-[720px] max-h-[90vh] z-[200] shadow-2xl flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center",children:(0,t.jsx)(n.FaShieldHalved,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Create Role"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Define a new role with custom permissions"})]})]}),(0,t.jsx)("button",{onClick:()=>f(!1),className:"w-8 h-8 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-colors group",children:(0,t.jsx)(n.FaXmark,{className:"text-lg text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-200 group-hover:rotate-90 transition-all duration-200"})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-5",children:[(0,t.jsx)(h.default,{label:"Role name",name:"name",placeholder:"e.g. Sales Manager, Team Lead, Developer",value:j.name,onChange:e=>y(t=>({...t,name:e.target.value})),required:!0}),j.permissions.length>0&&(0,t.jsxs)("div",{className:"bg-indigo-50 dark:bg-indigo-950/20 rounded-xl p-4 border border-indigo-100 dark:border-indigo-900/30",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-indigo-700 dark:text-indigo-400",children:"Selected Permissions"}),(0,t.jsx)("span",{className:"text-xs font-medium text-indigo-600 dark:text-indigo-400 bg-indigo-100 dark:bg-indigo-900/40 px-2 py-0.5 rounded-full",children:j.permissions.length})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:j.permissions.map(e=>{let r=i?.find(t=>t.id===e);return r?(0,t.jsxs)("span",{className:"group bg-white dark:bg-gray-700 border border-indigo-200 dark:border-indigo-800 text-indigo-700 dark:text-indigo-300 px-3 py-1.5 rounded-lg text-sm flex items-center gap-2 capitalize hover:bg-indigo-50 dark:hover:bg-indigo-900/30 transition-colors",children:[(0,t.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500 flex-shrink-0"}),r.title,(0,t.jsx)("button",{onClick:()=>{y(t=>({...t,permissions:t.permissions.filter(t=>t!==e)}))},className:"ml-1 hover:text-red-500 dark:hover:text-red-400 transition-colors",children:(0,t.jsx)(n.FaXmark,{className:"w-3 h-3"})})]},e):null})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Available Permissions"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.HiOutlineSearch,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search permissions...",value:S,onChange:e=>E(e.target.value),className:"pl-9 pr-3 py-1.5 text-sm border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-slate-700 dark:text-slate-200 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent w-56"})]})]}),(0,t.jsx)("div",{className:"max-h-80 overflow-y-auto border border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700/50",children:Object.entries(O).map(([e,r])=>(0,t.jsxs)("div",{className:"border-b border-gray-200 dark:border-gray-600 last:border-0",children:[(0,t.jsx)("div",{className:"sticky top-0 bg-gray-100 dark:bg-gray-700 px-4 py-2 text-xs font-bold uppercase tracking-wide text-slate-500 dark:text-slate-400 z-10",children:e}),(0,t.jsx)("div",{className:"p-2",children:r.map(e=>{let r,s=(r=e.id,j.permissions.includes(r));return(0,t.jsx)("button",{type:"button",disabled:s,onClick:()=>{var t;return t=e.id,void(!j.permissions.includes(t)&&y(e=>({...e,permissions:[...e.permissions,t]})))},className:`w-full text-left px-3 py-2.5 rounded-lg mb-1 transition-all ${s?"bg-indigo-100 dark:bg-indigo-900/40 cursor-not-allowed":"hover:bg-white dark:hover:bg-gray-600"}`,children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${s?"bg-indigo-500 border-indigo-500":"border-gray-300 dark:border-gray-500"}`,children:s&&(0,t.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-slate-700 dark:text-slate-200 capitalize text-sm",children:e.title}),(0,t.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:e.action})]})]})})},e.id)})})]},e))})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:[(0,t.jsx)("button",{onClick:()=>f(!1),className:"px-5 py-2.5 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 text-slate-700 dark:text-slate-200 font-medium transition-colors",children:"Cancel"}),(0,t.jsxs)(g.default,{isLoading:l,onClick:k,disabled:""===j.name||j.permissions.length<=0,children:[(0,t.jsx)(n.FaPlus,{className:"w-4 h-4"}),"Create Role"]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center",children:(0,t.jsx)(c.HiOutlineUserGroup,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"User Roles"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Manage roles and permissions"})]})]}),(0,t.jsxs)("button",{onClick:()=>f(!0),className:"bg-indigo-600 hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600 text-white px-5 py-2.5 rounded-xl flex items-center gap-2 font-semibold disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:bg-indigo-600 transition-all shadow-sm hover:shadow-md",disabled:!N(u.PERMISSIONS.createRole),children:[(0,t.jsx)(n.FaPlus,{className:"w-4 h-4"}),"Create Role"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50 dark:bg-gray-700/50 border-b border-gray-100 dark:border-gray-700",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Role"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Permissions"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:l?Array.from({length:5}).map((e,r)=>(0,t.jsxs)("tr",{className:"animate-pulse",children:[(0,t.jsx)("td",{className:"px-6 py-5",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(b.default,{width:40,height:40,borderRadius:10}),(0,t.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,t.jsx)(b.default,{height:18,width:140,borderRadius:6}),(0,t.jsx)(b.default,{height:12,width:90,borderRadius:6})]})]})}),(0,t.jsx)("td",{className:"px-6 py-5",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(b.default,{height:28,width:110,borderRadius:8}),(0,t.jsx)(b.default,{height:28,width:110,borderRadius:8}),(0,t.jsx)(b.default,{height:28,width:110,borderRadius:8})]})}),(0,t.jsx)("td",{className:"px-6 py-5",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(b.default,{height:36,width:36,borderRadius:8}),(0,t.jsx)(b.default,{height:36,width:36,borderRadius:8}),(0,t.jsx)(b.default,{height:36,width:36,borderRadius:8})]})})]},r)):e&&e.length>0?e.map(e=>(0,t.jsxs)("tr",{className:"group hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-5",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${e.code===r.SUPER_ADMIN_ROLE_CODE?"bg-gradient-to-br from-amber-400 to-orange-500":"bg-gradient-to-br from-indigo-400 to-violet-500"}`,children:e.code===r.SUPER_ADMIN_ROLE_CODE?(0,t.jsx)(o.MdAdminPanelSettings,{className:"w-5 h-5 text-white"}):(0,t.jsx)(n.FaShieldHalved,{className:"w-4 h-4 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-semibold text-slate-900 dark:text-white capitalize flex items-center gap-2",children:[e.name,e.code===r.SUPER_ADMIN_ROLE_CODE&&(0,t.jsx)("span",{className:"text-xs font-bold bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 px-2 py-0.5 rounded-full",children:"SYSTEM"})]}),(0,t.jsxs)("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1.5 mt-0.5",children:[(0,t.jsx)(x.IoShieldCheckmarkOutline,{className:"w-3.5 h-3.5"}),e.code===r.SUPER_ADMIN_ROLE_CODE?"All permissions":`${e.permissions.length} permission${1!==e.permissions.length?"s":""}`]})]})]})}),(0,t.jsx)("td",{className:"px-6 py-5",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 max-w-2xl",children:[e.code===r.SUPER_ADMIN_ROLE_CODE?(0,t.jsxs)("span",{className:"inline-flex items-center gap-1.5 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border border-amber-200 dark:border-amber-800 px-3 py-1.5 text-amber-700 dark:text-amber-400 rounded-lg text-xs font-semibold",children:[(0,t.jsx)(x.IoShieldCheckmarkOutline,{className:"w-3.5 h-3.5"}),"Full Access"]}):e.permissions.slice(0,4).map((e,r)=>(0,t.jsxs)("span",{className:"inline-flex items-center gap-1.5 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 px-3 py-1.5 text-emerald-700 dark:text-emerald-400 rounded-lg text-xs font-medium capitalize",children:[(0,t.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 flex-shrink-0"}),e.title]},r)),e.permissions.length>4&&(0,t.jsxs)("span",{className:"inline-flex items-center bg-slate-100 dark:bg-slate-700 px-3 py-1.5 text-slate-600 dark:text-slate-300 rounded-lg text-xs font-medium",children:["+",e.permissions.length-4," more"]})]})}),(0,t.jsx)("td",{className:"px-6 py-5",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>C(e),className:"w-9 h-9 flex items-center justify-center rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 transition-all hover:scale-105 active:scale-95",title:"View role details",children:(0,t.jsx)(n.FaEye,{className:"w-4 h-4"})}),N(u.PERMISSIONS.updateRole)&&e.code!==r.SUPER_ADMIN_ROLE_CODE?(0,t.jsx)(p.default,{href:`/roles/update/${e.id}`,className:"w-9 h-9 flex items-center justify-center rounded-lg bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 hover:bg-amber-200 dark:hover:bg-amber-900/50 transition-all hover:scale-105 active:scale-95",title:"Edit role",children:(0,t.jsx)(o.MdOutlineEdit,{className:"w-4 h-4"})}):(0,t.jsx)("span",{className:"w-9 h-9 flex items-center justify-center rounded-lg bg-amber-50 dark:bg-amber-900/10 text-amber-300 dark:text-amber-700 cursor-not-allowed opacity-50",children:(0,t.jsx)(o.MdOutlineEdit,{className:"w-4 h-4"})}),e.code!==r.SUPER_ADMIN_ROLE_CODE?(0,t.jsx)("button",{onClick:()=>a(e.id),className:"w-9 h-9 flex items-center justify-center rounded-lg bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-400 hover:bg-rose-200 dark:hover:bg-rose-900/50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-rose-100 dark:disabled:hover:bg-rose-900/30 transition-all hover:scale-105 active:scale-95",disabled:!N(u.PERMISSIONS.deleteRole),title:"Delete role",children:(0,t.jsx)(o.MdDeleteOutline,{className:"w-4 h-4"})}):(0,t.jsx)("span",{className:"w-9 h-9 flex items-center justify-center rounded-lg bg-rose-50 dark:bg-rose-900/10 text-rose-300 dark:text-rose-700 cursor-not-allowed opacity-50",children:(0,t.jsx)(o.MdDeleteOutline,{className:"w-4 h-4"})})]})})]},e.id)):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:3,className:"px-6 py-12",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center mb-3",children:(0,t.jsx)(c.HiOutlineUserGroup,{className:"w-8 h-8 text-gray-400"})}),(0,t.jsx)("p",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"No roles found"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:"Create your first role to get started"})]})})})})]})})]})]})};var j=e.i(34390),y=e.i(64975),k=e.i(36253),N=e.i(55487);e.s(["default",0,()=>{let[e,o]=(0,s.useState)(1),[n,c]=(0,s.useState)(!1),[x,m]=(0,s.useState)(10),[g,h]=(0,s.useState)(null),[u,b]=(0,s.useState)(!1),[p,v]=(0,s.useState)(!1),[w,S]=(0,s.useState)([]),[E,R]=(0,s.useState)(null),[C,O]=(0,s.useState)({name:"",permissions:[]}),_=(0,N.useSelector)(e=>e.auth),{hasPermission:D}=(0,y.usePermissions)(),A=async()=>{h(null),b(!0);try{let t=await d.RoleService.getRoles({currentPage:e,pageLimit:x});if(200===t.status){let e=t.data.data;S(e.data),o(Number(e.page)),m(Number(e.limit))}}catch(e){if(console.error(e),i.default.isAxiosError(e)){let t=(0,a.default)(e);h(t),l.toast.error(`${t}`)}}finally{b(!1)}},P=async()=>{try{let e=await j.PermissionsService.getAll();200===e.status&&R(e.data.data)}catch(e){if(console.error(e),i.default.isAxiosError(e)){let t=(0,a.default)(e);h(t),l.toast.error(`${t}`)}}},L=async e=>{h(""),v(!0);try{if(await (0,k.default)({title:"Are you sure for delete",text:"Are you sure to delete this User role",btnTxt:"Yes, Delete"})){let t=await d.RoleService.delete(e);200===t.status&&(l.toast.success("Role deleted successfully"),await A())}}catch(e){if(console.error(e),i.default.isAxiosError(e)){let t=(0,a.default)(e);h(t),l.toast.error(`${t}`)}}finally{v(!1)}},M=async()=>{b(!0),h(null);try{let e=await d.RoleService.create(C);200===e.status&&(await A(),O({name:"",permissions:[]}),l.toast.success("Roles created successfully"),c(!1))}catch(e){if(console.error(e),i.default.isAxiosError(e)){let t=(0,a.default)(e);h(t),l.toast.error(`${t}`)}}finally{b(!1)}};(0,s.useEffect)(()=>{A()},[]),(0,s.useEffect)(()=>{P()},[]);let I=_.user?.userRole?.some(e=>e.code===r.SUPER_ADMIN_ROLE_CODE)??!1;return(0,t.jsx)("div",{className:"ml-72 mt-14 p-6",children:(0,t.jsx)(f,{roleData:w,permissionData:E,currentPage:e,pageLimit:x,handleDelete:L,isLoading:u,isPopupShow:n,setIsPopupShow:c,formData:C,setFormData:O,handleSubmit:M,hasPermissions:D,isAdmin:I})})}],10298)}]);