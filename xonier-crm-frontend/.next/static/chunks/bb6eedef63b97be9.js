(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,22650,e=>{"use strict";var t=e.i(43476),r=e.i(46932),a=e.i(88653),s=e.i(69638);e.s(["default",0,({message:e})=>e?(0,t.jsx)(a.AnimatePresence,{children:(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.25,ease:"easeOut"},className:"w-full relative rounded-md border border-green-500/50 bg-green-50 dark:bg-green-950  px-4 py-3 text-green-700 dark:text-green-400 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(s.CheckCircle,{className:"mt-0.5 text-green-600 dark:text-green-400",size:18}),(0,t.jsx)("p",{children:e})]})})}):null])},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},2988,e=>{"use strict";e.s(["default",0,e=>{let t=e?.response?.data;return t?Array.isArray(t.detail)?t.detail.map(e=>e.msg||"Invalid input"):"string"==typeof t.detail?[t.detail]:"string"==typeof t.message?[t.message]:["Unexpected error occurred"]:["Something went wrong"]}])},44331,e=>{"use strict";var t=e.i(43476),r=e.i(46932),a=e.i(88653);e.s(["default",0,({error:e})=>{if(!e||Array.isArray(e)&&0===e.length)return null;let s=Array.isArray(e)?e:[e];return(0,t.jsx)(a.AnimatePresence,{children:(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:-10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{duration:.25,ease:"easeOut"},className:"w-full relative rounded-md border border-red-500/50 bg-red-50 dark:bg-red-950  px-4 py-3 text-red-500 dark:text-red-400 ",children:(0,t.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:s.map((e,r)=>(0,t.jsx)("li",{children:e},r))})})})}])},75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:n="",children:d,iconNode:c,...o},u)=>(0,t.createElement)("svg",{ref:u,...s,width:r,height:r,stroke:e,strokeWidth:l?24*Number(i)/Number(r):i,className:a("lucide",n),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(o)&&{"aria-hidden":"true"},...o},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(d)?d:[d]])),l=(e,s)=>{let l=(0,t.forwardRef)(({className:l,...n},d)=>(0,t.createElement)(i,{ref:d,iconNode:s,className:a(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...n}));return l.displayName=r(e),l};e.s(["default",()=>l],75254)},72537,e=>{"use strict";var t=e.i(63816);e.s(["EnquiryService",0,{getAll:e=>t.default.get(`/enquiry/all?${e.page?`page=${e.page}&`:""}${e.limit?`limit=${e.limit}&`:""}${e.enquiry_id?`enquiry_id=${e.enquiry_id}&`:""}${e.fullName?`fullName=${e.fullName}&`:""}${e.email?`email=${e.email}&`:""}${e.phone?`phone=${e.phone}&`:""}${e.companyName?`companyName=${e.companyName}&`:""}${e.projectType?`projectType=${e.projectType}&`:""}${e.priority?`priority=${e.priority}&`:""}`),getAllByCreator:(e,r,a)=>{let s=new URLSearchParams;return e&&s.append("page",String(e)),r&&s.append("limit",String(r)),a&&Object.entries(a).forEach(([e,t])=>{null!=t&&""!==t&&s.append(e,String(t))}),t.default.get(`/enquiry/all/by-creator?${s.toString()}`)},getById:e=>t.default.get(`/enquiry/get-by-id/${e}`),create:e=>t.default.post("/enquiry/create",e),bulkCreate:e=>t.default.post("/enquiry/create/bulk",e),update:(e,r)=>t.default.put(`/enquiry/update/${e}`,r),delete:e=>t.default.delete(`/enquiry/delete/${e}`)}])},16586,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(50719),s=e.i(11152),i=e.i(81949),l=e.i(2988),n=e.i(70319),d=e.i(72537),c=e.i(44331),o=e.i(22650),u=e.i(92199),p=e.i(18566);e.s(["default",0,()=>{let[e,m]=(0,r.useState)([]),[h,g]=(0,r.useState)(1),[x,y]=(0,r.useState)(!1),[f,b]=(0,r.useState)(null),[j,N]=(0,r.useState)(!1),[v,w]=(0,r.useState)(""),k=Math.ceil(e.length/10),$=(0,p.useRouter)(),C=e.slice((h-1)*10,10*h),S=async e=>{let[t,...r]=(await e.text()).split("\n").filter(Boolean),a=t.split(",").map(e=>e.trim());return r.map(e=>{let t=e.split(",").map(e=>e.trim()),r={};return a.forEach((e,a)=>r[e]=t[a]||null),r})},A=async e=>{if(!e.name.endsWith(".csv"))return alert("Only CSV allowed");b(e),m(await S(e)),g(1)},q=()=>{b(null),m([]),g(1)},U=async t=>{if(t.preventDefault(),w(""),0===e.length)return void n.toast.warn("No enquiries to upload");N(!0);try{let t=await d.EnquiryService.bulkCreate({enquiries:e});201===t.status&&(n.toast.success("Bulk enquiries created successfully"),q(),m([]),$.push("/enquiry"))}catch(e){if(console.error(e),i.default.isAxiosError(e)){let t=(0,l.default)(e);w(t),n.toast.error(`${t}`)}else w(["Something went wrong"])}finally{N(!1)}};return(0,t.jsxs)("div",{className:"ml-72 mt-14 p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-xl p-6 flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Bulk Enquiries"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-200",children:"Upload CSV to create enquiries in bulk, download the sample sheet and update it"})]}),(0,t.jsxs)("button",{onClick:()=>{let e=new Blob([[["fullName","email","phone","companyName","projectType","priority","source","message"],["Rahul Sharma","rahul@test.com","9999999999","ABC Pvt Ltd","website","high","website","Need business website"],["Neha Verma","neha@test.com","8888888888","XYZ Corp","mobile_app","medium","google_ads","Mobile app enquiry"],["Amit Singh","amit@test.com","7777777777","StartupX","ai_ml","high","linkedin_ads","AI solution"],["Priya Mehta","priya@test.com","6666666666","","crm","low","referral","CRM requirement"]].map(e=>e.join(",")).join("\n")],{type:"text/csv"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="bulk-enquiry-sample.csv",r.click(),URL.revokeObjectURL(t)},className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-md flex items-center gap-2",children:[(0,t.jsx)(a.HiDownload,{})," Download Sample"]})]}),v&&(0,t.jsx)(c.default,{error:v}),(0,t.jsx)(o.default,{message:""}),(0,t.jsx)("div",{onDragOver:e=>{e.preventDefault(),y(!0)},onDragLeave:()=>y(!1),onDrop:e=>{e.preventDefault(),y(!1),e.dataTransfer.files[0]&&A(e.dataTransfer.files[0])},className:`bg-white dark:bg-gray-700 rounded-xl p-12 border-2 border-dashed transition
          ${x?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)(s.FaFileCsv,{className:"text-4xl text-gray-400 dark:text-gray-300"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Drag & drop your CSV file here"}),(0,t.jsx)("input",{type:"file",accept:".csv",className:"hidden",id:"csvUpload",onChange:e=>e.target.files&&A(e.target.files[0])}),(0,t.jsxs)("label",{htmlFor:"csvUpload",className:"cursor-pointer bg-blue-600 text-white px-4 py-2 rounded-md flex items-center gap-2 hover:bg-blue-700",children:[(0,t.jsx)(s.FaUpload,{})," Choose File"]}),f&&(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-3 bg-gray-100 dark:bg-gray-800 px-4 py-2 rounded-md",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:f.name}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[e.length," rows"]}),(0,t.jsx)("button",{onClick:q,className:"text-red-500",children:(0,t.jsx)(s.FaTrash,{})})]})]})}),e.length>0&&(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-xl overflow-hidden",children:[(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{className:"bg-gray-100 dark:bg-gray-800",children:(0,t.jsx)("tr",{children:["Name","Email","Phone","Project","Priority","Source"].map(e=>(0,t.jsx)("th",{className:"p-3 text-left uppercase text-xs",children:e},e))})}),(0,t.jsx)("tbody",{children:C.map((e,r)=>(0,t.jsxs)("tr",{className:"border-t hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,t.jsx)("td",{className:"p-3",children:e.fullName}),(0,t.jsx)("td",{className:"p-3",children:e.email}),(0,t.jsx)("td",{className:"p-3",children:e.phone}),(0,t.jsx)("td",{className:"p-3 capitalize",children:e.projectType}),(0,t.jsx)("td",{className:"p-3 capitalize",children:e.priority}),(0,t.jsx)("td",{className:"p-3 capitalize",children:e.source})]},r))})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center p-4",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["Showing ",(h-1)*10+1,"â€“",Math.min(10*h,e.length)," of"," ",e.length]}),(0,t.jsx)("div",{className:"flex gap-2",children:Array.from({length:k}).map((e,r)=>(0,t.jsx)("button",{onClick:()=>g(r+1),className:`px-3 py-1 rounded ${h===r+1?"bg-blue-600 text-white":"bg-gray-200 hover:bg-gray-300 dark:hover:bg-gray-800"}`,children:r+1},r))})]})]}),e.length>0&&(0,t.jsx)("form",{onSubmit:U,className:"flex justify-end",children:(0,t.jsxs)("button",{type:"submit",disabled:j,className:"w-fit flex items-center justify-center gap-2 rounded-md px-4 py-2 font-medium bg-blue-600 text-white hover:bg-blue-700 hover:cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(u.FiUpload,{})," ",j?"Uploading...":"Create Enquiries"]})})]})}])}]);